q2uu1K.j_q = (function () { var G0m = 2; for (; G0m !== 9;) { switch (G0m) { case 5: var v4g; try { var E4g = 2; for (; E4g !== 6;) { switch (E4g) { case 9: delete v4g['\x56\u0054\x7a\u0039\x34']; E4g = 8; break; case 2: Object['\x64\u0065\u0066\u0069\x6e\x65\u0050\x72\x6f\u0070\u0065\u0072\x74\u0079'](Object['\u0070\x72\u006f\u0074\u006f\x74\u0079\x70\x65'], '\x79\x64\u0078\u0064\x33', { '\x67\x65\x74': function () { var z9k = 2; for (; z9k !== 1;) { switch (z9k) { case 2: return this; break; } } }, '\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65': true }); v4g = ydxd3; v4g['\u0056\x54\u007a\u0039\x34'] = v4g; E4g = 4; break; case 8: var w5q = Object['\x70\x72\x6f\u0074\u006f\x74\x79\x70\u0065']; delete w5q['\x79\x64\x78\x64\u0033']; E4g = 6; break; case 4: E4g = typeof VTz94 === '\u0075\u006e\u0064\u0065\u0066\u0069\x6e\u0065\u0064' ? 3 : 9; break; case 3: throw ""; E4g = 9; break; } } } catch (I1q) { v4g = window; } return v4g; break; case 2: G0m = typeof globalThis === '\u006f\u0062\u006a\x65\x63\u0074' ? 1 : 5; break; case 1: return globalThis; break; } } })(); J_z61Q(q2uu1K.j_q); d1Pxx.p3n = "7"; n2Odt.f9P = 'uploaded_images'; W4p9e5.f6$ = '[data-udrawSVG="font_size_select"]'; n2Odt.f70 = '{'; a$dx4.D9t = '[data-udrawSVG="image_action_modal"]'; a$dx4.j$i = 'fas fa-trash-alt fa fa-trash-o'; n2Odt.E$9 = 'filter'; W4p9e5.X94 = 'sign_out'; p0zBu[122956] = 0; a$dx4.i9F = 'empty_list'; W4p9e5.S6F = '[data-udrawSVG="stock_image_search_input"]'; d1Pxx.Q9z = 'CustomEvent'; d1Pxx.y2B = 'circle'; p0zBu.Q1 = 82; a$dx4.C$N = "96"; function W4p9e5() { } p0zBu.P8 = 79; n2Odt.h0C = 'zoom'; p0zBu.c4 = 87; p0zBu.a3l = '#00ff00'; p0zBu.O3 = 360; n2Odt.G8K = 'upload_image'; d1Pxx.H$F = 'stroke'; a$dx4.y0z = '[data-udrawSVG="import_file"]'; p0zBu.n6 = 27; d1Pxx.L7y = 'size'; p0zBu.L6 = function () { return typeof p0zBu[7707].t8gxinq === 'function' ? p0zBu[7707].t8gxinq.apply(p0zBu[7707], arguments) : p0zBu[7707].t8gxinq; }; a$dx4.F8z = 'facebook'; a$dx4.I1e = '[data-udrawSVG="decrease_zoom"]'; W4p9e5.g3u = 'sign_in'; a$dx4.s5J = 'canvg_canvas'; d1Pxx.B3X = ')'; W4p9e5.k2Z = '<ul></ul>'; W4p9e5.Q6n = 'image_category_li'; a$dx4.A$0 = '#svg_canvas'; d1Pxx.d0a = 'function'; a$dx4.Q$j = 'import_udraw_template'; p0zBu.C_ = 500; W4p9e5.K5P = 'pexel'; p0zBu.Z0 = 21; d1Pxx.B5K = 'stroke-width'; p0zBu[551601] = 5; W4p9e5.l1h = '[data-udrawSVG="instagram_modal"]'; p0zBu.J5 = 25; a$dx4.l1R = 'visibility'; W4p9e5.i$U = 'colourize'; a$dx4.D_m = '[data-udrawSVG="instagram_photos_list"]'; n2Odt.n43 = "px"; n2Odt.G$Y = "63"; n2Odt.b5S = '_'; a$dx4.y3h = '[data-udrawSVG="image_replace_modal"]'; W4p9e5.N_O = 'targetWindow'; d1Pxx.O7M = 'font-family'; p0zBu.t1 = 36; W4p9e5.b35 = '[data-udrawSVG="stock_image_type"]'; a$dx4.Z5l = 0.05; function a$dx4() { } p0zBu.s2A = true; n2Odt.G39 = 'lt'; W4p9e5.A85 = '[data-udrawSVG="google_photos_modal"]'; function n2Odt() { } d1Pxx.I5z = 'polyline'; a$dx4.w6$ = 'local_fonts'; p0zBu.v2 = "1"; W4p9e5.h_S = 'z-index'; a$dx4.H1C = '[data-udrawsvg="facebook_photos_list"]'; d1Pxx.x4a = 'dragmove'; p0zBu.Y3 = 105; a$dx4.I0D = 'get_udraw_templates'; W4p9e5.h23 = '[data-udrawSVG="local_storage"]'; a$dx4.R$p = 'pointer-events'; a$dx4.E0n = '[data-udrawSVG="SVGDesigner"]'; d1Pxx.o7s = 'style'; a$dx4.W09 = 'admin'; p0zBu.h9 = 68; d1Pxx.X7x = 'middle'; p0zBu.s0 = function () { return typeof p0zBu[7707].P7uHPGY === 'function' ? p0zBu[7707].P7uHPGY.apply(p0zBu[7707], arguments) : p0zBu[7707].P7uHPGY; }; W4p9e5.m8b = '[data-udrawSVG="text_area"]'; a$dx4.M4A = '[data-udrawsvg="image_replace_list"]'; p0zBu.y8n = "2"; a$dx4.W79 = 'data-image_name'; a$dx4.X2X = 'udraw_svg_design_loaded'; W4p9e5.a5A = '[data-udrawSVG="edit_text_modal"]'; W4p9e5.o8L = '[data-udrawsvg="add_image"]'; W4p9e5.S5d = 'pixabay'; d1Pxx.w99 = 'g'; a$dx4.Y7S = 'udraw_svg_after_zoom'; W4p9e5.N$j = ',top='; p0zBu.a9 = 51; a$dx4.c7q = '[data-udrawSVG="google_photos_list"]'; a$dx4.c95 = '[data-udrawsvg="page_list"]'; W4p9e5.t8$ = '[data-udrawSVG="instagram_images"]'; a$dx4.I2d = 'check_templates'; d1Pxx.Q4N = "5"; q2uu1K.j_q.O544 = p0zBu; n2Odt.T1Y = 'design_handler.php'; n2Odt.f_T = '<a></a>'; n2Odt.U8t = 'wheel'; W4p9e5.x5v = '.jpg'; a$dx4.w0f = 'valid'; W4p9e5.B5t = 'http://draw.racadtech.com'; p0zBu.Z8 = 10; W4p9e5.J51 = "1050"; W4p9e5.B$z = 'data-image_url'; d1Pxx.p_G = 'image'; a$dx4.E98 = '[data-udrawsvg="redo_button"]'; d1Pxx.r9h = 'test'; n2Odt.W9r = "data-"; a$dx4.z6n = '[data-udrawsvg="image_replace_modal"]'; p0zBu.r1 = 98; W4p9e5.v0V = 'data-category_id'; n2Odt.n1Q = 'change'; n2Odt.d74 = ";"; a$dx4.P$N = 'dragging'; p0zBu.o$ = '#'; d1Pxx.c42 = 'undefined'; a$dx4.C7Z = 'fas fa fa-check zoom_check'; W4p9e5.P8H = '[data-udrawSVG="bold_button"]'; n2Odt.G54 = 'html'; p0zBu.D1 = 132; p0zBu.m7 = 47; W4p9e5.n09 = 'li.page_li'; W4p9e5.U4i = 'text-decoration'; n2Odt.H8y = 'resizing'; p0zBu.U5 = "0"; d1Pxx.f7E = 'family'; n2Odt.e6F = "500"; p0zBu.C1 = 90; p0zBu.W3 = 14; W4p9e5.J0Y = 'scroll'; a$dx4.r3f = '[data-udrawsvg="upload_pdf_trigger"]'; d1Pxx.x0E = 'show'; n2Odt.Z9r = 'resize'; function p0zBu() { } n2Odt.q7i = "192"; n2Odt.p0F = 'point'; p0zBu.S1 = 32; d1Pxx.O7i = 'auto'; n2Odt.d6F = 'https://draw.racadtech.com/api/font'; a$dx4.j6D = 'dpi_warning'; d1Pxx.o7i = 'd'; a$dx4.a5D = '[data-udrawSVG="apply_bulk_image_replace"]'; d1Pxx.m0p = 'stop'; p0zBu.B95 = "255"; W4p9e5.S6l = '[data-udrawSVG="line-through_button"]'; W4p9e5.d7i = 'input propertychange'; n2Odt.e15 = 'title'; d1Pxx.v$C = '.'; W4p9e5.t6$ = '[data-udrawSVG="create_page"]'; p0zBu.p8 = 35; W4p9e5.Y0i = 'clipart'; d1Pxx.H_V = 'polygon'; d1Pxx.A5c = 'mouseup'; W4p9e5.N3A = 'invert'; d1Pxx.x4G = 'a'; a$dx4.C9_ = 'hidden'; d1Pxx.X_Y = 'fill'; d1Pxx.j8$ = 0.5; W4p9e5.D5A = '[data-udrawSVG="page_settings_modal"] input'; p0zBu.M$ = 16; n2Odt.q4t = ")"; p0zBu.G2 = 80; d1Pxx.z_5 = '0'; p0zBu.X$ = 40; W4p9e5.F$s = 'a.bulk_image_button'; a$dx4.D9r = "0.9"; n2Odt.r2R = "10"; d1Pxx.k89 = 'dragend'; q2uu1K.P10 = "25"; n2Odt.V1w = 'dragstart.spectrum'; d1Pxx.G_m = 'matrix'; W4p9e5.K_V = 'span.instagram_signin_span'; d1Pxx.C2V = 'href'; d1Pxx.b08 = '-'; d1Pxx.C7_ = 'rgb('; d1Pxx.K3f = 'number'; n2Odt.z1k = ']'; n2Odt.x6l = "128"; d1Pxx.h82 = "1000"; p0zBu.m2X = "16"; W4p9e5.U9r = 'lighten'; W4p9e5.M4d = '.text_align_button'; d1Pxx.o_X = 'start'; p0zBu.F_ = function () { return typeof p0zBu[7707].t8gxinq === 'function' ? p0zBu[7707].t8gxinq.apply(p0zBu[7707], arguments) : p0zBu[7707].t8gxinq; }; W4p9e5.Y02 = 'grey italic'; p0zBu.w6 = 128; d1Pxx.N73 = 'l'; n2Odt.Z5W = 'images/add_photo_placeholder.png'; d1Pxx.U_x = "9"; W4p9e5.R7z = '[data-udrawSVG="letter_spacing"]'; W4p9e5.B9r = 'input propertychange mousewheel'; p0zBu.H9 = 147; q2uu1K.F7A = '[data-udrawSVG="layers_list"]'; p0zBu.Q4 = 1000; W4p9e5.Q2T = '[data-udrawsvg="instagram_modal"]'; a$dx4.Y3y = '[data-udrawsvg="image_replace_list"] [data-image_name="'; d1Pxx.Q$D = 'class'; n2Odt.f4$ = "15"; d1Pxx.O3G = 'viewBox'; p0zBu.B_ = 66; p0zBu.d2 = 12; a$dx4.g9a = 'pointer'; W4p9e5.Z6H = 'data-image_id'; p0zBu.Z5 = 63; W4p9e5.O8A = '/wp-content/'; d1Pxx.E4c = 'text'; p0zBu.q_ = "6"; a$dx4.L5O = 'image_thumbnail'; p0zBu.e5 = ''; n2Odt.B7E = "0.1"; n2Odt.a1P = 'PATCH'; n2Odt.P$v = '}'; a$dx4.O6R = '[data-udrawSVG="image_replace_list"] li.bulk_image_li'; a$dx4.o6F = '[data-udrawsvg="local_image_list"] li[data-image_name="'; d1Pxx.g29 = 'transform'; p0zBu.c7 = 11; p0zBu[320998] = (function () { var R = function (J, W) { var O = W & 0xffff; var B = W - O; return (B * J | 0) + (O * J | 0) | 0; }, E9H1B_b = function (E, N, F$) { var z9 = 0xcc9e2d51, n7 = 0x1b873593; var I = F$; var Y = N & ~0x3; for (var K = 0; K < Y; K += 4) { var P = E.W6CHZ(K) & 0xff | (E.W6CHZ(K + 1) & 0xff) << 8 | (E.W6CHZ(K + 2) & 0xff) << 16 | (E.W6CHZ(K + 3) & 0xff) << 24; P = R(P, z9); P = (P & 0x1ffff) << 15 | P >>> 17; P = R(P, n7); I ^= P; I = (I & 0x7ffff) << 13 | I >>> 19; I = I * 5 + 0xe6546b64 | 0; } P = 0; switch (N % 4) { case 3: P = (E.W6CHZ(Y + 2) & 0xff) << 16; case 2: P |= (E.W6CHZ(Y + 1) & 0xff) << 8; case 1: P |= E.W6CHZ(Y) & 0xff; P = R(P, z9); P = (P & 0x1ffff) << 15 | P >>> 17; P = R(P, n7); I ^= P; }I ^= N; I ^= I >>> 16; I = R(I, 0x85ebca6b); I ^= I >>> 13; I = R(I, 0xc2b2ae35); I ^= I >>> 16; return I; }; return { E9H1B_b: E9H1B_b }; })(); n2Odt.t5H = "0.5"; p0zBu.B4 = 141; n2Odt.o7f = "function"; q2uu1K.j_q.k9HH = p0zBu; W4p9e5.J3g = '[data-udrawSVG="advanced_text_options"]'; n2Odt.B4e = 'download_image'; p0zBu.L0 = 102; p0zBu.d$ = 34; n2Odt.a42 = 'en'; function J_z61Q(L_3) { function Z4e(c4N) { var x85 = 2; for (; x85 !== 5;) { switch (x85) { case 2: var Z1q = [arguments]; return Z1q[0][0].String; break; } } } function i9E(o1x, Z9w, n8C, a9O, i8z) { var y$d = 2; for (; y$d !== 14;) { switch (y$d) { case 3: V7j[2] = "ePrope"; V7j[1] = ""; V7j[1] = "defin"; V7j[5] = false; y$d = 6; break; case 2: var V7j = [arguments]; V7j[6] = ""; V7j[6] = "rty"; V7j[2] = ""; y$d = 3; break; case 6: try { var L6j = 2; for (; L6j !== 13;) { switch (L6j) { case 9: V7j[9][V7j[0][4]] = V7j[9][V7j[0][2]]; V7j[8].set = function (G05) { var f9N = 2; for (; f9N !== 5;) { switch (f9N) { case 1: V7j[9][V7j[0][2]] = r9J[0][0]; f9N = 5; break; case 2: var r9J = [arguments]; f9N = 1; break; } } }; V7j[8].get = function () { var z9c = 2; for (; z9c !== 6;) { switch (z9c) { case 9: d9q[9] += d9q[1]; d9q[9] += d9q[5]; return typeof V7j[9][V7j[0][2]] == d9q[9] ? undefined : V7j[9][V7j[0][2]]; break; case 2: var d9q = [arguments]; d9q[2] = "undefi"; d9q[1] = "n"; d9q[5] = "ed"; d9q[9] = d9q[2]; z9c = 9; break; } } }; V7j[8].enumerable = V7j[5]; try { var r0g = 2; for (; r0g !== 3;) { switch (r0g) { case 2: V7j[4] = V7j[1]; V7j[4] += V7j[2]; V7j[4] += V7j[6]; V7j[0][0].Object[V7j[4]](V7j[9], V7j[0][4], V7j[8]); r0g = 3; break; } } } catch (i$H) { } L6j = 13; break; case 3: return; break; case 4: L6j = V7j[9].hasOwnProperty(V7j[0][4]) && V7j[9][V7j[0][4]] === V7j[9][V7j[0][2]] ? 3 : 9; break; case 2: V7j[8] = {}; V7j[3] = (1, V7j[0][1])(V7j[0][0]); V7j[9] = [V7j[3], V7j[3].prototype][V7j[0][3]]; L6j = 4; break; } } } catch (d90) { } y$d = 14; break; } } } function k8m(G6J) { var z8a = 2; for (; z8a !== 5;) { switch (z8a) { case 2: var y9c = [arguments]; return y9c[0][0]; break; } } } function m8I(B8j) { var A3O = 2; for (; A3O !== 5;) { switch (A3O) { case 2: var u68 = [arguments]; return u68[0][0].Array; break; } } } function y4o(S9z) { var s10 = 2; for (; s10 !== 5;) { switch (s10) { case 2: var g80 = [arguments]; return g80[0][0].Function; break; } } } function V7y(g6G) { var N1D = 2; for (; N1D !== 5;) { switch (N1D) { case 2: var E3H = [arguments]; return E3H[0][0].RegExp; break; } } } var R9F = 2; for (; R9F !== 104;) { switch (R9F) { case 2: var E2B = [arguments]; E2B[8] = ""; E2B[8] = "6C"; E2B[7] = ""; R9F = 3; break; case 72: E2B[89] = E2B[59]; E2B[89] += E2B[56]; E2B[89] += E2B[23]; E2B[71] = E2B[4]; R9F = 68; break; case 80: H3q(m8I, "push", E2B[35], E2B[79]); R9F = 79; break; case 82: H3q(k8m, E2B[71], E2B[85], E2B[89]); R9F = 81; break; case 17: E2B[56] = ""; E2B[56] = "kv"; E2B[94] = ""; E2B[94] = "i"; E2B[11] = ""; R9F = 25; break; case 79: H3q(k8m, E2B[19], E2B[85], E2B[18]); R9F = 78; break; case 84: H3q(Z4e, "charCodeAt", E2B[35], E2B[64]); R9F = 83; break; case 3: E2B[7] = "W"; E2B[9] = "HZ"; E2B[6] = ""; E2B[6] = "$aM"; R9F = 6; break; case 21: E2B[23] = ""; E2B[23] = "u"; E2B[90] = "__res"; E2B[92] = "t$"; E2B[60] = "j_"; E2B[10] = ""; E2B[10] = "r97C"; R9F = 29; break; case 89: E2B[27] += E2B[3]; E2B[64] = E2B[7]; E2B[64] += E2B[8]; E2B[64] += E2B[9]; R9F = 85; break; case 81: H3q(k8m, E2B[73], E2B[85], E2B[42]); R9F = 80; break; case 42: E2B[58] = "abst"; E2B[29] = ""; E2B[29] = "Ss"; E2B[78] = "__"; R9F = 38; break; case 78: H3q(y4o, "apply", E2B[35], E2B[72]); R9F = 104; break; case 6: E2B[2] = ""; E2B[2] = "h"; E2B[1] = ""; E2B[1] = ""; R9F = 11; break; case 60: E2B[19] += E2B[58]; E2B[19] += E2B[17]; E2B[79] = E2B[10]; E2B[79] += E2B[23]; E2B[79] += E2B[11]; E2B[42] = E2B[92]; R9F = 77; break; case 25: E2B[40] = "aV"; E2B[44] = "dual"; E2B[11] = "r"; E2B[59] = "s0O"; R9F = 21; break; case 83: H3q(V7y, "test", E2B[35], E2B[27]); R9F = 82; break; case 11: E2B[3] = "Uo"; E2B[1] = "e"; E2B[5] = ""; E2B[5] = "imiz"; E2B[4] = "__opt"; R9F = 17; break; case 29: E2B[17] = ""; E2B[17] = ""; E2B[17] = "ract"; E2B[58] = ""; R9F = 42; break; case 77: E2B[42] += E2B[40]; E2B[42] += E2B[60]; E2B[73] = E2B[90]; E2B[73] += E2B[94]; E2B[73] += E2B[44]; R9F = 72; break; case 68: E2B[71] += E2B[5]; E2B[71] += E2B[1]; E2B[27] = E2B[2]; E2B[27] += E2B[6]; R9F = 89; break; case 38: E2B[61] = ""; E2B[61] = "6"; E2B[95] = "8"; E2B[25] = ""; E2B[25] = "EFn"; E2B[62] = "u2n"; E2B[35] = 9; R9F = 50; break; case 65: E2B[72] += E2B[95]; E2B[18] = E2B[62]; E2B[18] += E2B[61]; E2B[18] += E2B[29]; E2B[19] = E2B[78]; R9F = 60; break; case 50: E2B[31] = "P_"; E2B[35] = 9; E2B[35] = 1; E2B[85] = 0; E2B[72] = E2B[31]; E2B[72] += E2B[25]; R9F = 65; break; case 85: var H3q = function (a2b, k7w, t8Q, O1a) { var n$v = 2; for (; n$v !== 5;) { switch (n$v) { case 2: var t6W = [arguments]; i9E(E2B[0][0], t6W[0][0], t6W[0][1], t6W[0][2], t6W[0][3]); n$v = 5; break; } } }; R9F = 84; break; } } } a$dx4.G$2 = '[data-udrawsvg="SVGDesigner"] div.canvas_container'; W4p9e5.M6I = '[data-udrawSVG="underline_button"]'; n2Odt.T9f = "8"; W4p9e5.I0$ = 'Calibri'; n2Odt.a$k = '?'; d1Pxx.p8r = null; n2Odt.r9L = 'normal'; a$dx4.O$i = 'udraw_properties'; d1Pxx.R$z = 'anchor'; W4p9e5.F_U = "400"; n2Odt.A$q = 'get'; n2Odt.q6Q = 'images/Google_Photos_icon.svg'; n2Odt.k5s = '&'; q2uu1K.s3o = function () { return typeof q2uu1K.g4Q.l93WSq_ === 'function' ? q2uu1K.g4Q.l93WSq_.apply(q2uu1K.g4Q, arguments) : q2uu1K.g4Q.l93WSq_; }; W4p9e5.V_T = '[data-udrawSVG="SVGDesigner"] .instagram_signin_button'; p0zBu.U2 = 8; d1Pxx.E_e = 'Svgjs'; d1Pxx.Z10 = 'rect'; a$dx4.c5a = '[data-udrawSVG="cancel_bulk_image_replace"]'; n2Odt.R7u = "30"; n2Odt.A5l = 'src'; p0zBu.V8 = 96; p0zBu.Y8 = 55; a$dx4.j93 = 'save_page'; n2Odt.f2r = 'rt'; p0zBu.S9 = 29; p0zBu.y5 = 50; W4p9e5.Y_J = '[data-udrawSVG="perserve_aspect_ratio"]'; W4p9e5.o3m = 'jpg'; n2Odt.g6V = 'e'; p0zBu.v5 = 13; n2Odt.n7a = 'en_US'; n2Odt.y1i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; d1Pxx.R84 = 'all'; p0zBu.r$f = "3"; d1Pxx.b1K = 'scaleX'; p0zBu[394202] = 4; a$dx4.o07 = 'convert_url_to_base64'; a$dx4.j8N = '[data-udrawSVG="upload_template_modal"]'; p0zBu.k2 = 56; W4p9e5.B_t = 'no_results'; W4p9e5.o5T = '[data-udrawSVG="add_image_placeholder"]'; p0zBu.u1 = 255; a$dx4.O6a = 'data:image/'; W4p9e5.N_u = '[data-udrawSVG="SVGDesigner"] .g-signin2'; W4p9e5.C2J = 'unsplash'; n2Odt.m73 = 'table'; n2Odt.R7m = "200"; d1Pxx.o8K = 'line'; W4p9e5.w_r = 'button.delete_page_btn'; p0zBu.R3 = 46; p0zBu.e1 = false; a$dx4.m5t = '[data-udrawSVG="remove_object"]'; W4p9e5.S7c = '[data-udrawSVG="SVGDesigner"] input.filter_modifier'; W4p9e5.q0D = 'private'; p0zBu[235283] = 3; d1Pxx.N_3 = 'left'; a$dx4.l12 = '<img />'; n2Odt.g5A = "0.8"; a$dx4.t7N = '[data-udrawsvg="edit_image"]'; n2Odt.j$X = 'svg_select_boundingRect'; a$dx4.K64 = 'upload_pdf_template'; p0zBu.a$ = 152; a$dx4.y_P = 'export_image'; W4p9e5.p9_ = 'source'; p0zBu.d1 = 133; p0zBu.Y2 = 48; W4p9e5.I9V = '[data-udrawSVG="SVGDesigner"] .image_filter_button'; d1Pxx.T4c = 'x'; W4p9e5.J7L = 'after'; d1Pxx.Q1h = 'rotation'; a$dx4.w0J = 'admin-ajax.php'; a$dx4.Q5L = '[data-udrawSVG="user_image_modal"]'; d1Pxx.V8n = 'boolean'; W4p9e5.m5p = '<option></option>'; n2Odt.N2Y = 'GET'; W4p9e5.V16 = 'color-interpolation-filters'; a$dx4.r4P = '[data-udrawsvg="add_image_modal"]'; p0zBu.b5 = 59; a$dx4.g$L = 'udraw_svg_object_clicked'; p0zBu.r_ = 88; a$dx4.k8L = '[data-udrawsvg="upload_pdf"]'; q2uu1K.j_q.T5oo = p0zBu; n2Odt.B3G = "2048"; W4p9e5.v_r = '[data-udrawSVG="add_text"]'; W4p9e5.c8n = '[data-udrawSVG="facebook_modal"]'; d1Pxx.m$b = 'id'; p0zBu[514270] = 6; a$dx4.J5b = 'SVG is not supported in your current browser.'; a$dx4.l1p = 'create_page'; function q2uu1K() { } d1Pxx.O7q = ""; n2Odt.J6V = "#000000"; p0zBu.H4 = 39; n2Odt.r3u = '/'; a$dx4.o0t = 'shown.bs.modal'; q2uu1K.X2g = '[data-udrawsvg="page_size_width"], [data-udrawsvg="page_size_height"], [data-udrawsvg="page_size_bleed"]'; n2Odt.Z32 = "object"; d1Pxx.o92 = 'li'; n2Odt.o7X = 'locales/'; p0zBu.a4 = 17; p0zBu.Q_ = 64; p0zBu.E7 = function () { return typeof p0zBu[320998].E9H1B_b === 'function' ? p0zBu[320998].E9H1B_b.apply(p0zBu[320998], arguments) : p0zBu[320998].E9H1B_b; }; W4p9e5.H5x = 'hidden.bs.modal'; p0zBu.x8 = 38; W4p9e5.B5Y = '[data-udrawSVG="facebook_images"]'; a$dx4.Q3D = '.svg_select_points:not(.svg_select_boundingRect), .svg_select_points_rot'; p0zBu.v_ = 20; p0zBu.Q0 = 125; a$dx4.q4A = 'div.user_added'; q2uu1K.j_q.L3EE = p0zBu; W4p9e5.i1e = 'data-filter_type'; n2Odt.H58 = 'value'; d1Pxx.I3m = 's'; p0zBu.H2 = 60; W4p9e5.X_0 = 'http:'; n2Odt.s9a = "120"; a$dx4.i4f = 'instagram'; p0zBu.x6 = 58; n2Odt.g9v = 'rb'; p0zBu.E3 = 100; W4p9e5.Q$4 = '[data-udrawSVG="document_settings"]'; W4p9e5.B6K = 'filter_info'; p0zBu.d3 = 23; d1Pxx.s$X = '100%'; n2Odt.C4I = 'ontouchstart'; W4p9e5.s$e = 'no_photos_found'; W4p9e5.e3Z = '[data-udrawSVG="trigger_upload_image"]'; p0zBu.t5 = 18; d1Pxx.S0h = 'string'; n2Odt.X0U = "12"; a$dx4.h8l = "1.5"; d1Pxx.r0B = 'c'; W4p9e5.a02 = 'sRGB'; a$dx4.c$9 = "2.5"; d1Pxx.t3v = 'dblclick'; q2uu1K.g4Q = (function () { var V3z = 2; for (; V3z !== 9;) { switch (V3z) { case 4: y_2[3].l93WSq_ = function () { var T1i = 2; for (; T1i !== 145;) { switch (T1i) { case 117: o2c[6].r97Cur(o2c[83]); o2c[6].r97Cur(o2c[34]); T1i = 115; break; case 151: o2c[27]++; T1i = 123; break; case 126: o2c[26] = o2c[6][o2c[89]]; try { o2c[86] = o2c[26][o2c[51]]() ? o2c[24] : o2c[43]; } catch (G_O) { o2c[86] = o2c[43]; } T1i = 124; break; case 13: o2c[2].T7$ = function () { var W7l = function () { 'use stirct'; return 1; }; var F8B = !(/\u0073\x74\151\x72\u0063\164/).h$aMUo(W7l + []); return F8B; }; o2c[5] = o2c[2]; o2c[7] = {}; o2c[7].T4W = ['F1G']; o2c[7].T7$ = function () { var h7$ = function () { var F$w; switch (F$w) { case 0: break; } }; var I_T = !(/\u0030/).h$aMUo(h7$ + []); return I_T; }; T1i = 19; break; case 123: T1i = o2c[27] < o2c[26][o2c[69]].length ? 122 : 150; break; case 49: o2c[85].T4W = ['p91']; o2c[85].T7$ = function () { var l3O = typeof s0Okvu === 'function'; return l3O; }; o2c[72] = o2c[85]; T1i = 46; break; case 94: o2c[6].r97Cur(o2c[11]); o2c[6].r97Cur(o2c[73]); o2c[6].r97Cur(o2c[57]); T1i = 91; break; case 124: o2c[27] = 0; T1i = 123; break; case 36: o2c[93] = o2c[68]; o2c[97] = {}; o2c[97].T4W = ['e5M', 'F1G']; o2c[97].T7$ = function () { var W2l = function () { return 1024 * 1024; }; var y75 = (/[\x35-\u0038]/).h$aMUo(W2l + []); return y75; }; o2c[63] = o2c[97]; o2c[85] = {}; T1i = 49; break; case 32: o2c[62].T7$ = function () { var T1S = function () { return encodeURI('%'); }; var G9_ = (/\u0032\x35/).h$aMUo(T1S + []); return G9_; }; o2c[57] = o2c[62]; o2c[29] = {}; o2c[29].T4W = ['e5M']; o2c[29].T7$ = function () { var b3u = function () { return parseFloat(".01"); }; var B31 = !(/[\u006c\u0073]/).h$aMUo(b3u + []); return B31; }; o2c[34] = o2c[29]; o2c[79] = {}; T1i = 42; break; case 104: o2c[28].T7$ = function () { var D6J = function () { return ('a').anchor('b'); }; var k6B = (/(\u003c|\x3e)/).h$aMUo(D6J + []); return k6B; }; o2c[81] = o2c[28]; o2c[21] = {}; o2c[21].T4W = ['U3x']; T1i = 100; break; case 148: T1i = 58 ? 148 : 147; break; case 89: o2c[53].T7$ = function () { var P2R = function () { debugger; }; var G2G = !(/\x64\145\x62\x75\147\x67\145\162/).h$aMUo(P2R + []); return G2G; }; o2c[42] = o2c[53]; o2c[23] = {}; o2c[23].T4W = ['p91']; o2c[23].T7$ = function () { var h$_ = false; var n1m = []; try { for (var v6a in console) { n1m.r97Cur(v6a); } h$_ = n1m.length === 0; } catch (e$t) { } var c7I = h$_; return c7I; }; o2c[12] = o2c[23]; T1i = 83; break; case 150: o2c[89]++; T1i = 127; break; case 128: o2c[89] = 0; T1i = 127; break; case 2: var o2c = [arguments]; T1i = 1; break; case 19: o2c[4] = o2c[7]; o2c[3] = {}; o2c[3].T4W = ['e5M']; T1i = 16; break; case 67: o2c[90] = o2c[19]; o2c[53] = {}; o2c[53].T4W = ['F1G']; T1i = 89; break; case 100: o2c[21].T7$ = function () { var w40 = function () { return [] + ('a').concat('a'); }; var u$f = !(/\133\u005d/).h$aMUo(w40 + []) && (/\u0061\u0061/).h$aMUo(w40 + []); return u$f; }; o2c[94] = o2c[21]; o2c[6].r97Cur(o2c[8]); o2c[6].r97Cur(o2c[4]); o2c[6].r97Cur(o2c[93]); T1i = 95; break; case 105: o2c[6].r97Cur(o2c[48]); o2c[91] = []; o2c[24] = 'I$J'; o2c[43] = 'l5D'; o2c[69] = 'T4W'; T1i = 131; break; case 4: o2c[6] = []; o2c[9] = {}; o2c[9].T4W = ['e5M']; T1i = 8; break; case 127: T1i = o2c[89] < o2c[6].length ? 126 : 149; break; case 8: o2c[9].T7$ = function () { var s8t = function () { return ("01").substr(1); }; var R6b = !(/\060/).h$aMUo(s8t + []); return R6b; }; o2c[1] = o2c[9]; o2c[2] = {}; o2c[2].T4W = ['F1G']; T1i = 13; break; case 25: o2c[88].T7$ = function () { var I2D = function (B_8, z3L, Z4B) { return !!B_8 ? z3L : Z4B; }; var U_P = !(/\x21/).h$aMUo(I2D + []); return U_P; }; o2c[48] = o2c[88]; o2c[82] = {}; T1i = 22; break; case 115: o2c[6].r97Cur(o2c[56]); o2c[6].r97Cur(o2c[63]); o2c[6].r97Cur(o2c[1]); o2c[6].r97Cur(o2c[45]); o2c[6].r97Cur(o2c[72]); o2c[6].r97Cur(o2c[94]); T1i = 109; break; case 16: o2c[3].T7$ = function () { var A1h = function () { return new RegExp('/ /'); }; var M_7 = (typeof A1h, !(/\u006e\145\167/).h$aMUo(A1h + [])); return M_7; }; o2c[8] = o2c[3]; o2c[88] = {}; o2c[88].T4W = ['F1G']; T1i = 25; break; case 42: o2c[79].T4W = ['U3x']; o2c[79].T7$ = function () { var B2r = function () { return encodeURIComponent('%'); }; var D04 = (/\062\x35/).h$aMUo(B2r + []); return D04; }; o2c[45] = o2c[79]; o2c[68] = {}; o2c[68].T4W = ['e5M', 'F1G']; o2c[68].T7$ = function () { var K$K = function () { return 1024 * 1024; }; var M$C = (/[\u0035-\u0038]/).h$aMUo(K$K + []); return M$C; }; T1i = 36; break; case 83: o2c[50] = {}; o2c[50].T4W = ['p91']; o2c[50].T7$ = function () { var P1u = typeof u2n6Ss === 'function'; return P1u; }; o2c[99] = o2c[50]; o2c[28] = {}; o2c[28].T4W = ['U3x']; T1i = 104; break; case 131: o2c[52] = 'w9z'; o2c[51] = 'T7$'; o2c[30] = 'B3S'; T1i = 128; break; case 59: o2c[33] = {}; o2c[33].T4W = ['F1G']; o2c[33].T7$ = function () { var n7m = function () { if (false) { console.log(1); } }; var h4H = !(/\u0031/).h$aMUo(n7m + []); return h4H; }; o2c[18] = o2c[33]; T1i = 55; break; case 63: o2c[17] = {}; o2c[17].T4W = ['U3x']; o2c[17].T7$ = function () { var N8t = function () { return decodeURIComponent('%25'); }; var y3e = !(/\x32\065/).h$aMUo(N8t + []); return y3e; }; T1i = 60; break; case 60: o2c[83] = o2c[17]; T1i = 59; break; case 147: y_2[4] = 53; return 94; break; case 22: o2c[82].T4W = ['e5M']; o2c[82].T7$ = function () { var S2H = function () { return parseInt("0xff"); }; var Y98 = !(/\170/).h$aMUo(S2H + []); return Y98; }; o2c[11] = o2c[82]; o2c[62] = {}; o2c[62].T4W = ['U3x']; T1i = 32; break; case 122: o2c[58] = {}; o2c[58][o2c[30]] = o2c[26][o2c[69]][o2c[27]]; o2c[58][o2c[52]] = o2c[86]; o2c[91].r97Cur(o2c[58]); T1i = 151; break; case 73: o2c[20].T4W = ['e5M']; o2c[20].T7$ = function () { var H4C = function (M6u, u78) { if (M6u) { return M6u; } return u78; }; var c7g = (/\u003f/).h$aMUo(H4C + []); return c7g; }; o2c[73] = o2c[20]; o2c[19] = {}; o2c[19].T4W = ['p91']; o2c[19].T7$ = function () { function K7v(z3q, P0J) { return z3q + P0J; }; var V5I = (/\x6f\x6e[\t\u2029 \u205f\u1680-\u2000\u00a0\u3000\v\f\u202f\u2028\u200a\r\n\ufeff]{0,}\u0028/).h$aMUo(K7v + []); return V5I; }; T1i = 67; break; case 109: o2c[6].r97Cur(o2c[81]); o2c[6].r97Cur(o2c[42]); o2c[6].r97Cur(o2c[90]); o2c[6].r97Cur(o2c[10]); T1i = 105; break; case 75: o2c[10] = o2c[64]; o2c[20] = {}; T1i = 73; break; case 149: T1i = (function (q4S) { var x6I = 2; for (; x6I !== 22;) { switch (x6I) { case 14: x6I = typeof q7_[2][q7_[7][o2c[30]]] === 'undefined' ? 13 : 11; break; case 26: x6I = q7_[3] >= 0.5 ? 25 : 24; break; case 6: q7_[7] = q7_[0][0][q7_[1]]; x6I = 14; break; case 13: q7_[2][q7_[7][o2c[30]]] = (function () { var d_5 = 2; for (; d_5 !== 9;) { switch (d_5) { case 2: var D4K = [arguments]; D4K[4] = {}; D4K[4].h = 0; D4K[4].t = 0; return D4K[4]; break; } } }).P_EFn8(this, arguments); x6I = 12; break; case 4: q7_[2] = {}; q7_[5] = []; q7_[1] = 0; x6I = 8; break; case 2: var q7_ = [arguments]; x6I = 1; break; case 18: q7_[4] = false; x6I = 17; break; case 17: q7_[1] = 0; x6I = 16; break; case 20: q7_[2][q7_[7][o2c[30]]].h += true; x6I = 19; break; case 7: x6I = q7_[1] < q7_[0][0].length ? 6 : 18; break; case 11: q7_[2][q7_[7][o2c[30]]].t += true; x6I = 10; break; case 15: q7_[8] = q7_[5][q7_[1]]; q7_[3] = q7_[2][q7_[8]].h / q7_[2][q7_[8]].t; x6I = 26; break; case 24: q7_[1]++; x6I = 16; break; case 1: x6I = q7_[0][0].length === 0 ? 5 : 4; break; case 10: x6I = q7_[7][o2c[52]] === o2c[24] ? 20 : 19; break; case 5: return; break; case 8: q7_[1] = 0; x6I = 7; break; case 25: q7_[4] = true; x6I = 24; break; case 23: return q7_[4]; break; case 19: q7_[1]++; x6I = 7; break; case 16: x6I = q7_[1] < q7_[5].length ? 15 : 23; break; case 12: q7_[5].r97Cur(q7_[7][o2c[30]]); x6I = 11; break; } } })(o2c[91]) ? 148 : 147; break; case 46: o2c[61] = {}; o2c[61].T4W = ['U3x']; o2c[61].T7$ = function () { var q1y = function () { return ('aaaa').padEnd(5, 'a'); }; var D3f = (/\141\u0061\x61\x61\u0061/).h$aMUo(q1y + []); return D3f; }; o2c[56] = o2c[61]; T1i = 63; break; case 91: o2c[6].r97Cur(o2c[99]); o2c[6].r97Cur(o2c[12]); o2c[6].r97Cur(o2c[5]); T1i = 117; break; case 95: o2c[6].r97Cur(o2c[18]); T1i = 94; break; case 1: T1i = y_2[4] ? 5 : 4; break; case 55: o2c[64] = {}; o2c[64].T4W = ['p91']; o2c[64].T7$ = function () { var f$o = typeof t$aVj_ === 'function'; return f$o; }; T1i = 75; break; case 5: return 78; break; } } }; return y_2[3]; break; case 2: var y_2 = [arguments]; y_2[4] = undefined; y_2[3] = {}; V3z = 4; break; } } })(); n2Odt.f1X = 'lb'; a$dx4.k0H = '#svg_canvas text, #svg_canvas image, #svg_canvas rect'; p0zBu.u0 = 43; n2Odt.E8L = /\s+$/; p0zBu.L8 = 37; W4p9e5.p3m = 'contrast'; p0zBu.U7 = 7; a$dx4.R0u = 'retrieve_instagram'; W4p9e5.m5D = '[data-filter_mod_type="colourize"]'; d1Pxx.e91 = 'url(#'; a$dx4.H$G = 'hide'; d1Pxx.I6W = "180"; W4p9e5.M3w = '[data-udrawSVG="colour_picker"]'; function d1Pxx() { } p0zBu.j4 = 28; W4p9e5.B5h = '[data-udrawSVG="stock_image"]'; n2Odt.z6v = 'disabled'; d1Pxx.k7G = '%'; d1Pxx.L$5 = 'clip-path'; a$dx4.v_l = '[data-udrawSVG="image_replace_list"]'; p0zBu.b_ = 65; n2Odt.S2o = '1.2.0'; d1Pxx.F$M = "90"; W4p9e5.A$9 = 'Bearer '; a$dx4.p1o = 'get_private_images_library'; d1Pxx.S0D = 'none'; q2uu1K.j_q.k9HH = p0zBu; a$dx4.Q60 = 'active'; W4p9e5.y42 = '[data-udrawSVG="overline_button"]'; n2Odt.W5T = 'resizedone'; n2Odt.U2B = 'move'; a$dx4.e16 = "application/x-www-form-urlencoded"; n2Odt.v_a = "127"; W4p9e5.S$j = '[data-udrawSVG="page_settings_modal"]'; W4p9e5.E6W = '[data-udrawsvg="add_image_modal"] [data-bs-dismiss="modal"]'; W4p9e5.j0K = "application/json"; a$dx4.x0f = '[data-udrawSVG="progress_modal"]'; n2Odt.l8s = 'transparent'; n2Odt.C8D = 'storage/output/'; W4p9e5.U9e = '[data-udrawsvg="google_photos_modal"]'; a$dx4.C$2 = ':visible'; d1Pxx.B1V = 'offset'; n2Odt.w55 = 'storage/export/'; W4p9e5.s6u = '[data-udrawSVG="italic_button"]'; n2Odt.W$Y = "20"; a$dx4.C_$ = 'dpi'; W4p9e5.z67 = "1051"; p0zBu.A7 = 15; a$dx4.u_A = 'preview'; d1Pxx.Z0R = 'points'; n2Odt.m$8 = "64"; a$dx4.f3Y = '[data-udrawSVG="replace_image"]'; a$dx4.O5v = 'authenticate_instagram'; n2Odt.p30 = 'rot'; n2Odt.y24 = 'PUT'; d1Pxx.G5a = 'svg'; d1Pxx.W0Z = ','; d1Pxx.q9Y = 'url("#'; p0zBu.c6 = function () { return typeof p0zBu[320998].E9H1B_b === 'function' ? p0zBu[320998].E9H1B_b.apply(p0zBu[320998], arguments) : p0zBu[320998].E9H1B_b; }; a$dx4.s5t = '<i></i>'; n2Odt.t7w = 'Authorization'; p0zBu[32075] = 1; a$dx4.f7I = '[data-udrawsvg="upload_svg_trigger"]'; d1Pxx.J1_ = 'mousemove'; d1Pxx.H9f = 'top'; a$dx4.N9X = 'local'; W4p9e5.X56 = 'letter-spacing'; a$dx4.y$V = 'checked'; d1Pxx.x6X = '")'; n2Odt.u5a = 'content-type'; p0zBu[7707] = (function (I7) { return { t8gxinq: function () { var G6, U8 = arguments; switch (I7) { case 165: G6 = +U8[1] * U8[0]; break; case 95: G6 = (U8[4] & +U8[5]) << U8[1] - U8[3] | U8[2] >> (U8[6] ^ U8[0]); break; case 119: G6 = U8[2] > (U8[1] | U8[0]); break; case 7: G6 = -U8[1] * U8[2] + U8[0]; break; case 19: G6 = U8[1] / U8[0]; break; case 132: G6 = U8[2] - U8[0] + U8[1]; break; case 81: G6 = (U8[0] - U8[4]) / U8[1] + (U8[2] - U8[3]); break; case 159: G6 = U8[1] + U8[0] / +U8[2]; break; case 24: G6 = U8[0] instanceof U8[1]; break; case 121: G6 = U8[2] / U8[1] + U8[0]; break; case 9: G6 = U8[1] * U8[0] - U8[2]; break; case 85: G6 = (U8[2] - U8[1]) / U8[0] + (U8[4] ^ U8[3]); break; case 0: G6 = U8[1] >> U8[0]; break; case 39: G6 = U8[1] + U8[2] * U8[0]; break; case 125: G6 = U8[5] >> (U8[2] << U8[1]) & +U8[3] | U8[0] ^ U8[4]; break; case 139: G6 = U8[3] / U8[0] + (U8[2] >> U8[1]); break; case 35: G6 = U8[3] + U8[1] * (U8[2] * U8[0]); break; case 113: G6 = U8[0] != U8[1] * U8[2]; break; case 78: G6 = (U8[0] + U8[1] * U8[2]) / +U8[3]; break; case 70: G6 = U8[2] + (U8[8] - U8[9]) * ((U8[0] ^ U8[4]) / (U8[5] >> U8[3]) - U8[7]) * (U8[1] >> U8[6]); break; case 151: G6 = (U8[1] - U8[0]) / +U8[2]; break; case 3: G6 = U8[1] * U8[0]; break; case 10: G6 = U8[0] + U8[1] - U8[2] + U8[4] - U8[3]; break; case 127: G6 = U8[1] >> U8[2] - U8[0]; break; case 104: G6 = U8[2] + (U8[1] - U8[0]); break; case 23: G6 = U8[3] * U8[2] / U8[0] * U8[4] + U8[1]; break; case 80: G6 = (U8[2] + U8[1]) % (U8[0] | U8[3]); break; case 63: G6 = U8[2] * (U8[4] * U8[0] - U8[1] * U8[3]); break; case 77: G6 = (U8[3] + U8[5]) / (U8[2] - U8[0] + U8[4] * U8[1]); break; case 86: G6 = U8[2] * (U8[3] | U8[0]) + U8[1]; break; case 29: G6 = U8[2] + U8[0] + U8[1]; break; case 60: G6 = U8[1] * U8[0] + U8[2] + U8[3]; break; case 158: G6 = U8[1] - U8[2] / (U8[0] | U8[3]); break; case 152: G6 = U8[1] * -(U8[0] - U8[2]); break; case 33: G6 = U8[3] - U8[2] + U8[0] + U8[1]; break; case 140: G6 = U8[3] / (U8[1] * U8[4]) * (U8[2] << U8[0]); break; case 163: G6 = U8[2] * U8[0] * U8[1] - U8[3]; break; case 58: G6 = U8[2] + U8[3] + U8[4] + U8[1] + U8[0]; break; case 99: G6 = U8[2] >> +U8[0] | +U8[1]; break; case 51: G6 = -U8[1] * U8[0]; break; case 96: G6 = (U8[0] & U8[3] - U8[2]) << +U8[4] | U8[1]; break; case 6: G6 = U8[1] | U8[0]; break; case 128: G6 = (U8[6] & U8[3] >> U8[4]) << +U8[0] | U8[5] >> (U8[2] | U8[1]); break; case 32: G6 = U8[2] / U8[4] * U8[0] * U8[3] - U8[1]; break; case 28: G6 = -U8[2] * U8[0] * U8[3] + U8[1]; break; case 131: G6 = U8[0] >= +U8[1]; break; case 14: G6 = U8[0] + U8[1] - U8[2]; break; case 114: G6 = U8[0] != U8[2] >> U8[1]; break; case 67: G6 = -U8[2] / U8[1] * U8[3] + U8[0]; break; case 166: G6 = U8[0] / U8[2] * +U8[1]; break; case 88: G6 = U8[2] + (U8[0] | U8[1]); break; case 89: G6 = (-U8[4] - U8[1]) * U8[2] * U8[0] + U8[3]; break; case 31: G6 = U8[1] << +U8[0]; break; case 66: G6 = U8[1] - U8[0] - U8[2]; break; case 91: G6 = (U8[1] & U8[5] >> U8[3]) << U8[2] | U8[4] >> U8[0]; break; case 47: G6 = U8[4] - U8[0] - U8[2] - U8[3] + U8[1]; break; case 97: G6 = U8[0] >> (U8[2] ^ U8[3]) | U8[1] - U8[4]; break; case 137: G6 = +U8[1] / (U8[0] ^ U8[3]) * U8[2]; break; case 157: G6 = U8[1] - +U8[0]; break; case 162: G6 = U8[0] + U8[2] * +U8[1]; break; case 45: G6 = -U8[1] / (U8[2] - U8[0]); break; case 126: G6 = U8[1] & +U8[0] | U8[2] * U8[3]; break; case 150: G6 = -U8[3] * U8[0] * (U8[1] * U8[2]); break; case 122: G6 = U8[3] >> (U8[4] >> U8[0]) | U8[1] ^ U8[2]; break; case 40: G6 = U8[1] === +U8[0]; break; case 8: G6 = -U8[0] + U8[1] + U8[2]; break; case 142: G6 = U8[1] - (U8[3] + U8[4] + U8[2] + U8[0]); break; case 90: G6 = U8[0] >> +U8[1]; break; case 21: G6 = -U8[0] - U8[1] + U8[4] + U8[2] - U8[3]; break; case 48: G6 = (U8[0] - U8[2]) / U8[3] + U8[1]; break; case 130: G6 = U8[1] & (U8[0] ^ U8[2]); break; case 153: G6 = U8[0] * -(U8[2] | U8[1]); break; case 134: G6 = U8[0] / +U8[3] * (U8[2] ^ U8[1]); break; case 129: G6 = (U8[0] & U8[2] * U8[1]) << (U8[4] | U8[6]) | U8[5] >> U8[3]; break; case 41: G6 = U8[0] + U8[1] * U8[2] + (U8[4] << U8[3]); break; case 149: G6 = -(U8[4] | U8[1]) * U8[0] * (U8[2] * U8[3]); break; case 93: G6 = U8[1] & U8[0]; break; case 141: G6 = U8[1] + (U8[0] ^ U8[2]); break; case 108: G6 = U8[1] > U8[2] * U8[0]; break; case 13: G6 = U8[1] / U8[2] - U8[0]; break; case 161: G6 = U8[1] + (U8[2] + +U8[0]); break; case 94: G6 = U8[2] << +U8[3] | U8[1] >> +U8[0]; break; case 26: G6 = U8[0] % (U8[1] * U8[2]); break; case 98: G6 = U8[1] & U8[0] | U8[2]; break; case 107: G6 = U8[0] > U8[2] << U8[1]; break; case 75: G6 = U8[2] / (U8[1] ^ U8[0]); break; case 53: G6 = +U8[1] + U8[0]; break; case 68: G6 = U8[6] + U8[2] + U8[3] + U8[4] + U8[0] + U8[5] + U8[1]; break; case 102: G6 = U8[0] + (U8[1] >> U8[2]); break; case 64: G6 = U8[3] * (+U8[0] - ((U8[2] ^ U8[5]) - U8[4]) * U8[1]); break; case 110: G6 = U8[1] != +U8[0]; break; case 112: G6 = U8[2] != U8[0] << U8[1]; break; case 84: G6 = (U8[0] - U8[1]) / U8[2] + +U8[3]; break; case 156: G6 = U8[0] - (U8[2] | U8[1]); break; case 43: G6 = U8[17] + U8[23] + U8[18] + U8[21] + U8[20] + U8[24] + U8[1] + U8[13] + U8[10] + U8[12] + U8[14] + U8[7] + U8[19] + U8[11] + U8[5] + U8[9] + U8[15] + U8[2] + U8[0] + U8[16] + U8[6] + U8[3] + U8[8] + U8[4] + U8[22]; break; case 65: G6 = (U8[3] + U8[2]) / U8[0] - U8[4] + U8[1]; break; case 73: G6 = U8[0] - (U8[3] >> U8[1]) / +U8[2]; break; case 101: G6 = U8[0] & U8[2] - U8[3] | U8[1]; break; case 155: G6 = -+U8[3] * U8[1] * (U8[0] * U8[2]); break; case 103: G6 = (U8[3] & U8[0] - U8[2]) << +U8[1] | U8[5] & +U8[4]; break; case 18: G6 = U8[0] + U8[1] + U8[3] - U8[2]; break; case 27: G6 = U8[0] + +U8[1]; break; case 106: G6 = (-U8[1] + U8[4] - U8[2]) / U8[3] - U8[0]; break; case 59: G6 = U8[0] - U8[2] * U8[1]; break; case 76: G6 = U8[1] * (U8[2] | U8[3]) - U8[0]; break; case 54: G6 = (U8[1] - U8[0]) / (U8[3] << U8[2]); break; case 109: G6 = U8[1] > +U8[0]; break; case 1: G6 = U8[0] ^ U8[1]; break; case 145: G6 = U8[3] - U8[1] + U8[2] - U8[4] + U8[0]; break; case 20: G6 = U8[0] != U8[1]; break; case 52: G6 = +U8[2] / (+U8[0] - U8[1]); break; case 111: G6 = U8[1] > U8[2] - U8[0]; break; case 144: G6 = (U8[2] - U8[1] + U8[3]) / U8[4] + U8[0]; break; case 5: G6 = U8[1] + U8[3] + U8[2] + U8[0]; break; case 25: G6 = U8[1] - (U8[2] << U8[0]); break; case 115: G6 = U8[0] != (U8[1] | U8[2]); break; case 146: G6 = (U8[1] - U8[2]) / U8[3] - U8[0]; break; case 83: G6 = (U8[1] + U8[3]) / (U8[0] | U8[2]); break; case 154: G6 = -(U8[0] * U8[3]) * U8[4] * (U8[2] * U8[1]); break; case 2: G6 = U8[1] << U8[0]; break; case 12: G6 = (-U8[4] + U8[2]) * U8[1] + U8[3] - U8[0]; break; case 118: G6 = U8[0] != (U8[2] ^ U8[1]); break; case 16: G6 = -U8[1] + U8[0]; break; case 11: G6 = U8[1] - U8[0]; break; case 56: G6 = U8[0] % +U8[1]; break; case 50: G6 = U8[6] + U8[3] + U8[0] + U8[7] + U8[4] + U8[5] + U8[1] + U8[2]; break; case 37: G6 = U8[2] * U8[3] + U8[0] * U8[1]; break; case 57: G6 = U8[4] + U8[2] + U8[6] + U8[0] + U8[5] + U8[3] + U8[7] + U8[8] + U8[1]; break; case 124: G6 = U8[1] >> U8[0] * U8[2] | U8[3]; break; case 46: G6 = U8[1] / +U8[0]; break; case 4: G6 = U8[0] + U8[1]; break; case 17: G6 = -U8[0] + U8[2] - U8[1]; break; case 44: G6 = -U8[1] / +U8[0]; break; case 147: G6 = U8[1] / (U8[0] << U8[2]); break; case 117: G6 = U8[0] > U8[1]; break; case 87: G6 = (U8[0] in U8[1]); break; case 135: G6 = (U8[1] >> U8[0]) / +U8[2] * (U8[4] * U8[3]); break; case 38: G6 = (U8[2] - U8[0]) / U8[1]; break; case 61: G6 = (U8[2] << U8[1]) / U8[0]; break; case 34: G6 = U8[2] + U8[1] * (U8[3] | U8[0]); break; case 82: G6 = U8[1] / U8[2] + U8[0] - U8[3]; break; case 148: G6 = U8[4] - U8[0] - U8[3] - U8[1] - U8[2]; break; case 92: G6 = (U8[4] & +U8[0]) << (U8[5] ^ U8[6]) | U8[2] >> U8[3] - U8[1]; break; case 160: G6 = U8[3] - U8[2] / (U8[0] - U8[1]); break; case 30: G6 = +U8[0] - (U8[2] - U8[1]); break; case 74: G6 = U8[0] / (U8[2] >> U8[1]); break; case 55: G6 = (U8[1] - U8[2]) / (U8[3] >> U8[0]); break; case 15: G6 = U8[1] * U8[0] / U8[2] + U8[3]; break; case 22: G6 = U8[3] / U8[2] / U8[1] - U8[0]; break; case 164: G6 = U8[0] / U8[1] + U8[2] - U8[4] + U8[3]; break; case 116: G6 = U8[1] != U8[2] - U8[0]; break; case 49: G6 = U8[1] % U8[0]; break; case 136: G6 = U8[1] / U8[0] * (U8[2] * U8[3]); break; case 143: G6 = U8[2] * (U8[0] * U8[1]); break; case 123: G6 = U8[2] & +U8[3] | U8[1] - U8[0]; break; case 138: G6 = U8[1] / +U8[0] * +U8[2]; break; case 72: G6 = U8[2] + +U8[0] / +U8[1]; break; case 100: G6 = U8[4] >> (U8[2] | U8[3]) & U8[0] | U8[1] >> U8[5]; break; case 79: G6 = (U8[2] | U8[0]) / U8[1]; break; case 71: G6 = (U8[1] ^ U8[3]) * U8[2] - U8[0]; break; case 133: G6 = U8[0] * +U8[1]; break; case 62: G6 = U8[1] * (+U8[2] - U8[0]); break; case 120: G6 = U8[1] !== +U8[0]; break; case 105: G6 = (U8[1] & +U8[0]) << (U8[9] | U8[3]) | (U8[7] & U8[5]) << (U8[8] << U8[10]) | U8[2] & U8[6] << U8[4]; break; case 42: G6 = U8[1] === U8[0]; break; case 69: G6 = U8[0] + (U8[4] - U8[3]) * +U8[2] * U8[1]; break; case 36: G6 = U8[1] !== U8[0]; break; }return G6; }, P7uHPGY: function (j7) { I7 = j7; } }; })(); a$dx4.S4A = '<div></div>'; d1Pxx.H0F = "4"; W4p9e5.r43 = '[data-udrawsvg="update_page_settings"]'; n2Odt.k_$ = '"]'; n2Odt.j6N = "270"; d1Pxx.s0r = 'width'; p0zBu.o3 = 42; a$dx4.s6P = 'google'; n2Odt.x4y = 'array'; p0zBu[149144] = 2; n2Odt.O5d = "50"; a$dx4.N9G = 'udraw_svg_object_added'; n2Odt.k4e = 'defaultValue'; n2Odt.B76 = 'anonymous'; n2Odt.A$Q = 'save_svg'; a$dx4.D_a = '<li></li>'; d1Pxx.N7H = "360"; d1Pxx.l65 = 'linear'; n2Odt.R5S = 'b'; n2Odt.U4Q = 'gamma'; W4p9e5.q2R = 'cursor'; d1Pxx.a4b = 'r'; n2Odt.o0P = 'storage/uploads/'; d1Pxx.P0U = ' '; p0zBu.T$ = 9; W4p9e5.x8E = '[data-udrawsvg="google_images"]'; a$dx4.j3T = 'svg_canvas'; a$dx4.O61 = 'json'; d1Pxx.w8g = 'load'; p0zBu.B9 = 24; d1Pxx.n7o = 'div'; p0zBu.r7 = 57; a$dx4.I$u = '<span></span>'; W4p9e5.T9u = '[data-udrawSVG="stock_image_modal"]'; n2Odt.p0z = '2d'; n2Odt.X9j = 'img'; W4p9e5.e5g = 'darken'; n2Odt.t8x = 'load_svg'; n2Odt.M8H = 'POST'; d1Pxx.u_N = 'click'; p0zBu.o8 = 44; W4p9e5.C_2 = '.text_line_input'; W4p9e5.i$6 = '[data-udrawsvg="add_image_modal"] button'; n2Odt.c3D = 'script'; a$dx4.k7s = '[data-udrawSVG="cancel_replace_image"]'; n2Odt.C5y = 'jquery'; d1Pxx.a9C = 'weight'; d1Pxx.M72 = 'mousedown'; p0zBu.w5 = 19; d1Pxx.Z$J = 'error'; d1Pxx.I4Q = 'touchend'; a$dx4.q3c = 'check_license'; a$dx4.J4a = 'i.zoom_check'; d1Pxx.x$d = "100"; p0zBu.k7 = 160; d1Pxx.T8w = 'text-anchor'; W4p9e5.h9d = '[data-udrawSVG="instagram_photos_container"]'; p0zBu.K8 = 30; W4p9e5.y$O = 'toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=no,width=400,height=200,left='; d1Pxx.O8Z = "undefined"; n2Odt.F9F = "224"; d1Pxx.W8k = '\n'; a$dx4.P3Y = '[data-udrawsvg="undo_button"]'; d1Pxx.E_o = 'object'; a$dx4.r42 = '#svg_canvas image'; a$dx4.B9s = 'click touchstart'; d1Pxx.M5N = 'touchmove'; n2Odt.C6O = 'storage/fonts/'; n2Odt.J3G = 't'; d1Pxx.Q9D = 'touchstart'; a$dx4.i46 = '[data-udrawSVG="increase_zoom"]'; q2uu1K.S$D = function () { return typeof q2uu1K.g4Q.l93WSq_ === 'function' ? q2uu1K.g4Q.l93WSq_.apply(q2uu1K.g4Q, arguments) : q2uu1K.g4Q.l93WSq_; }; p0zBu.V5 = 115; d1Pxx.Y0F = 'font-size'; a$dx4.l_H = 'xlink:href'; d1Pxx.M0Y = 'y'; W4p9e5.w5c = '[data-udrawSVG="font_family_select"]'; n2Odt.w73 = "json"; a$dx4.f4p = '[data-udrawsvg="upload_svg"]'; p0zBu.s6 = function () { return typeof p0zBu[7707].P7uHPGY === 'function' ? p0zBu[7707].P7uHPGY.apply(p0zBu[7707], arguments) : p0zBu[7707].P7uHPGY; }; d1Pxx.v26 = 'height'; q2uu1K.j_q.i1zz = p0zBu; W4p9e5.i3_ = 'posterize'; W4p9e5.B1t = 'data-searchterm'; var Base64;; function RGBColor(color_string) { var T2q = q2uu1K; var Y0w = p0zBu; var B7 = 'e9967a'; var K45 = 'fffacd'; var O9 = '008b8b'; var I8r = 'ffe4b5'; var l3 = 'f0f8ff'; var j3u = 'ffc0cb'; var l$ = 'a9a9a9'; var d6l = 'dcdcdc'; var M7M = 'f08080'; var u18 = '4169e1'; var x_H = 'd8bfd8'; var j6 = '8a2be2'; var K6 = '9400d3'; var U0X = '808000'; var s9 = 'ffebcd'; var K7 = '00ced1'; var q5s = 'f5f5f5'; var n8 = 'f0ffff'; var p40 = '8470ff'; var s1Z = 'f0f'; var R83 = 'c0c0c0'; var K1 = 'f5f5dc'; var s2U = '808080'; var r1j = 'fa8072'; var Z6M = 'ffd700'; var z3Z = 'ffe4e1'; var a55 = '87cefa'; var y3 = '00bfff'; var h_Q = 'ff00ff'; var u9e = 'a0522d'; var L8W = 'f0e68c'; var T5 = 'b8860b'; var K5N = 'fff0f5'; var e8h = 'faf0e6'; var q3 = '5f9ea0'; var O7n = 'fffff0'; var m6W = 'ffdab9'; var M6y = 'ffefd5'; var e6R = '6b8e23'; var D2X = '4682b4'; var u8 = '00ffff'; var Q0F = 'rgb(255,234,245)'; var V4I = '4b0082'; var n2S = '00fa9a'; var Z02 = 'e6e6fa'; var A8 = '8b008b'; var M0m = '8b4513'; var e3a = /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/; var K0B = 'ffa500'; var Z3 = 'ff7f50'; var D47 = 'dda0dd'; var l15 = '00ff7f'; var V0q = 'ffa07a'; var U45 = '0000cd'; var W8V = 'fffafa'; var p1C = '191970'; var w0G = 'ff6347'; var Z4c = 'fffaf0'; var l9 = 'ff8c00'; var o3M = 'd19275'; var j2b = '7b68ee'; var k84 = '90ee90'; var Q$ = 'dc143c'; var e_E = '336699'; var U26 = 'da70d6'; var g13 = 'bc8f8f'; var A5e = 'cd853f'; var l0k = '7cfc00'; var Y0d = /^(\w{2})(\w{2})(\w{2})$/; var n7X = '008000'; var j3 = 'd2691e'; var t_B = '87ceeb'; var D$ = '7fff00'; var s4H = 'f0fff0'; var g_ = '000000'; var W7P = 'd02090'; var h1g = '20b2aa'; var L1 = '483d8b'; var X5s = 'b0e0e6'; var V4 = '6495ed'; var f8B = 'ff69b4'; var z_1 = 'ff4500'; var e4C = '48d1cc'; var O6C = 'eee8aa'; var K2 = 'faebd7'; var E5c = 'ffdead'; var d8c = 'b0c4de'; var d5 = 'fff8dc'; var j9 = 'deb887'; var X5P = '#fb0'; var r64 = 'f5fffa'; var P9n = '1e90ff'; var c2_ = 'cd5c5c'; var G1x = '000080'; var d$a = 'add8e6'; var E1z = '800000'; var m7c = 'ee82ee'; var Y5J = 'fdf5e6'; var c9 = 'bdb76b'; var H4H = 'ffff00'; var f35 = 'daa520'; var E_ = '9932cc'; var R0v = '9acd32'; var E1A = 'd87093'; var D8t = '3cb371'; var s8 = 'ffe4c4'; var T1t = '6a5acd'; var I1 = 'ff1493'; var T34 = 'f8f8ff'; var l8w = 'ffffff'; var t7P = /^(\w{1})(\w{1})(\w{1})$/; var D$B = '778899'; var x5s = '800080'; var Q4T = 'fff5ee'; var G8B = '40e0d0'; var d8J = '228b22'; var g0 = '8fbc8f'; var T5J = 'rgb(123, 234, 45)'; var M_c = 'ff0000'; var Y5z = '008080'; var q3N = '696969'; var g0z = 'f4a460'; var W4O = 'afeeee'; var F9 = 'a52a2a'; var o$k = 'ffb6c1'; var t8y = '2e8b57'; var b2R = '708090'; var L2 = '556b2f'; var o1f = 'fafad2'; var n8N = 'd3d3d3'; var z8w = 'adff2f'; var J0 = '006400'; var G_4 = '9370d8'; var S4V = 'ba55d3'; var F2H = 'c71585'; var u1L = '66cdaa'; var j$ = '00008b'; var v58 = 'd2b48c'; var J_b = '32cd32'; var E__ = 'e0ffff'; var G9Z = 'b22222'; var f1U = 'ffffe0'; var e$ = '0000ff'; var w9 = '8b0000'; var E9r = '00ff00'; var y5y = 'f5deb3'; var x9U = '98fb98'; var H1 = '7fffd4'; var t4 = '2f4f4f'; var simple_colors, color_defs, re, processor, bits; this.ok = p0zBu.e1; if (color_string.charAt(+p0zBu.U5) == p0zBu.o$) { Y0w.s6(p0zBu[122956]); color_string = color_string.substr(Y0w.L6(p0zBu.Q_, p0zBu.v2), +p0zBu.q_); } color_string = color_string.replace(/ /g, p0zBu.e5); color_string = color_string.toLowerCase(); simple_colors = { aliceblue: l3, antiquewhite: K2, aqua: u8, aquamarine: H1, azure: n8, beige: K1, bisque: s8, black: g_, blanchedalmond: s9, blue: e$, blueviolet: j6, brown: F9, burlywood: j9, cadetblue: q3, chartreuse: D$, chocolate: j3, coral: Z3, cornflowerblue: V4, cornsilk: d5, crimson: Q$, cyan: u8, darkblue: j$, darkcyan: O9, darkgoldenrod: T5, darkgray: l$, darkgreen: J0, darkkhaki: c9, darkmagenta: A8, darkolivegreen: L2, darkorange: l9, darkorchid: E_, darkred: w9, darksalmon: B7, darkseagreen: g0, darkslateblue: L1, darkslategray: t4, darkturquoise: K7, darkviolet: K6, deeppink: I1, deepskyblue: y3, dimgray: q3N, dodgerblue: P9n, feldspar: o3M, firebrick: G9Z, floralwhite: Z4c, forestgreen: d8J, fuchsia: h_Q, gainsboro: d6l, ghostwhite: T34, gold: Z6M, goldenrod: f35, gray: s2U, green: n7X, greenyellow: z8w, honeydew: s4H, hotpink: f8B, indianred: c2_, indigo: V4I, ivory: O7n, khaki: L8W, lavender: Z02, lavenderblush: K5N, lawngreen: l0k, lemonchiffon: K45, lightblue: d$a, lightcoral: M7M, lightcyan: E__, lightgoldenrodyellow: o1f, lightgrey: n8N, lightgreen: k84, lightpink: o$k, lightsalmon: V0q, lightseagreen: h1g, lightskyblue: a55, lightslateblue: p40, lightslategray: D$B, lightsteelblue: d8c, lightyellow: f1U, lime: E9r, limegreen: J_b, linen: e8h, magenta: h_Q, maroon: E1z, mediumaquamarine: u1L, mediumblue: U45, mediumorchid: S4V, mediumpurple: G_4, mediumseagreen: D8t, mediumslateblue: j2b, mediumspringgreen: n2S, mediumturquoise: e4C, mediumvioletred: F2H, midnightblue: p1C, mintcream: r64, mistyrose: z3Z, moccasin: I8r, navajowhite: E5c, navy: G1x, oldlace: Y5J, olive: U0X, olivedrab: e6R, orange: K0B, orangered: z_1, orchid: U26, palegoldenrod: O6C, palegreen: x9U, paleturquoise: W4O, palevioletred: E1A, papayawhip: M6y, peachpuff: m6W, peru: A5e, pink: j3u, plum: D47, powderblue: X5s, purple: x5s, red: M_c, rosybrown: g13, royalblue: u18, saddlebrown: M0m, salmon: r1j, sandybrown: g0z, seagreen: t8y, seashell: Q4T, sienna: u9e, silver: R83, skyblue: t_B, slateblue: T1t, slategray: b2R, snow: W8V, springgreen: l15, steelblue: D2X, tan: v58, teal: Y5z, thistle: x_H, tomato: w0G, turquoise: G8B, violet: m7c, violetred: W7P, wheat: y5y, white: l8w, whitesmoke: q5s, yellow: H4H, yellowgreen: R0v }; for (var key in simple_colors) { if (color_string == key) { color_string = simple_colors[key]; } } color_defs = [{ re: e3a, example: [T5J, Q0F], process: function (bits) { T2q.S$D(); return [parseInt(bits[+p0zBu.v2]), parseInt(bits[p0zBu[149144]]), parseInt(bits[+p0zBu.r$f])]; } }, { re: Y0d, example: [p0zBu.a3l, e_E], process: function (bits) { T2q.s3o(); return [parseInt(bits[+p0zBu.v2], p0zBu.m2X - p0zBu[122956]), parseInt(bits[p0zBu[149144]], +p0zBu.m2X), parseInt(bits[+p0zBu.r$f], +p0zBu.m2X)]; } }, { re: t7P, example: [X5P, s1Z], process: function (bits) { T2q.s3o(); return [parseInt(bits[p0zBu.v2 - p0zBu[122956]] + bits[+p0zBu.v2], p0zBu.M$), parseInt(bits[p0zBu.y8n >> p0zBu.S1] + bits[+p0zBu.y8n], +p0zBu.m2X), parseInt(bits[p0zBu.r$f ^ p0zBu[122956]] + bits[+p0zBu.r$f], p0zBu.m2X - p0zBu[122956])]; } }]; for (var i = p0zBu.U5 ^ p0zBu[122956]; i < color_defs.length; i++) { re = color_defs[i].re; processor = color_defs[i].process; bits = re.exec(color_string); if (bits) { channels = processor(bits); this.r = channels[p0zBu[122956]]; Y0w.s0(p0zBu[32075]); this.g = channels[Y0w.F_(p0zBu.v2, p0zBu[122956])]; this.b = channels[+p0zBu.y8n]; this.ok = p0zBu.s2A; } } this.r = this.r < p0zBu.U5 * p0zBu[32075] || isNaN(this.r) ? p0zBu.U5 | p0zBu[122956] : this.r > p0zBu.B95 >> p0zBu.Q_ ? p0zBu.B95 << p0zBu[122956] : this.r; this.g = this.g < +p0zBu.U5 || isNaN(this.g) ? +p0zBu.U5 : this.g > p0zBu.B95 << p0zBu.S1 ? p0zBu.B95 >> p0zBu[122956] : this.g; this.b = this.b < +p0zBu.U5 || isNaN(this.b) ? p0zBu[122956] : this.b > +p0zBu.B95 ? p0zBu.u1 : this.b; T2q.s3o(); this.toRGB = function () { T2q.S$D(); var T8x = ', '; return d1Pxx.C7_ + this.r + T8x + this.g + T8x + this.b + d1Pxx.B3X; }; this.toHex = function () { var r, g, b; Y0w.s6(p0zBu[149144]); T2q.s3o(); r = this.r.toString(Y0w.L6(p0zBu.Q_, p0zBu.m2X)); g = this.g.toString(+p0zBu.m2X); Y0w.s0(p0zBu[235283]); b = this.b.toString(Y0w.F_(p0zBu[32075], p0zBu.m2X)); if (r.length == p0zBu.v2 << p0zBu[122956]) { Y0w.s0(p0zBu[394202]); r = Y0w.F_(d1Pxx.z_5, r); } if (g.length == +p0zBu.v2) { Y0w.s0(p0zBu[394202]); g = Y0w.L6(d1Pxx.z_5, g); } if (b.length == p0zBu.v2 >> p0zBu.Q_) { Y0w.s6(p0zBu[394202]); b = Y0w.L6(d1Pxx.z_5, b); } Y0w.s0(p0zBu[551601]); return Y0w.L6(b, p0zBu.o$, g, r); }; this.getHelpXML = function () { var w3g = 'margin: 3px; '; var s2W = 'color:'; var I1X = 'border: 1px solid black; '; var E_D = 'rgbcolor-examples'; var D4u = 'background:'; var f39 = ' -> '; T2q.s3o(); var D$q = 'ul'; var o_C = '; '; var examples, example, xml, list_item, list_color, example_div, list_item_value; examples = new Array(); for (var i = p0zBu[122956]; i < color_defs.length; i++) { example = color_defs[i].example; for (var j = p0zBu[122956]; j < example.length; j++) { examples[examples.length] = example[j]; } } for (var sc in simple_colors) { examples[examples.length] = sc; } xml = document.createElement(D$q); xml.setAttribute(d1Pxx.m$b, E_D); for (var i = +p0zBu.U5; i < examples.length; i++) { try { list_item = document.createElement(d1Pxx.o92); list_color = new RGBColor(examples[i]); example_div = document.createElement(d1Pxx.n7o); example_div.style.cssText = w3g + I1X + D4u + list_color.toHex() + o_C + s2W + list_color.toHex(); example_div.appendChild(document.createTextNode(d1Pxx.r9h)); list_item_value = document.createTextNode(d1Pxx.P0U + examples[i] + f39 + list_color.toRGB() + f39 + list_color.toHex()); list_item.appendChild(example_div); list_item.appendChild(list_item_value); xml.appendChild(list_item); } catch (e) { } } return xml; }; } (function (root, factory) { if (typeof define === d1Pxx.d0a && define.amd) { define(function () { return factory(root, root.document); }); } else if (typeof exports === d1Pxx.E_o) { module.exports = root.document ? factory(root, root.document) : function (w) { return factory(w, w.document); }; } else { root.SVG = factory(root, root.document); } })(typeof window !== d1Pxx.O8Z ? window : this, function (window, document) { var c0Q = p0zBu; var k42 = 'skew'; var B41 = 'touchcancel'; var m7a = 'stop-opacity'; var w6c = /rgb\((\d+),(\d+),(\d+)\)/; var a5H = 'transformedY'; var W$U = 'translate'; var B$b = 'mask'; var S78 = 'ellipse'; var G6l = 'cx'; var B1C = 'dy'; var Q0U = 'abcdef'; var M8b = 'leading'; var S4j = 'http://www.w3.org/2000/xmlns/'; var i_ = 7400; var M52 = /\)\s*,?\s*/; var w$1 = /^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i; var N0e = 'mouseout'; var a7z = 'mlhvqtcsaz'; var z5A = 'transformedX'; var r6G = '#document-fragment'; var o$E = 'DOMContentLoaded'; var w26 = 'A'; var w94 = 'dasharray'; var W8m = 'opacity'; var Y2x = '#000000'; var m8d = 'symbol'; var t9f = 'dashoffset'; var F3F = 'mouseenter'; var i75 = /^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i; var Y5A = /^#[a-f0-9]{3,6}$/i; var a6P = 'use'; var X$6 = "91550"; var W5w = 'color'; var R_K = 'V'; var l9b = 'rule'; var b1t = 'textPath'; var S3n = /^(\s+)?$/; var u2C = 'linecap'; var c22 = 'S'; var P22 = 'http://www.w3.org/2000/svg'; var k9$ = 'miterlimit'; var R7W = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i; var y5Q = 'linejoin'; var g68 = /\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i; var Z9l = 'stop-color'; var v1R = 'C'; var Q0d = 'H'; var A4H = 'scale'; var A4C = '*'; var l9M = 'Q'; var y$j = 'display'; var C7g = /^-?[\d\.]+%$/; var O5q = 'cy'; var z3m = 'svgjs:data'; var O6j = 'rotate'; var u5e = 'skewY'; var J69 = 'path'; var R76 = 'radial'; var W6L = /^rgb\(/; var q$r = 'pattern'; var P6_ = '#document'; var A78 = 'M'; var L21 = 'defs'; var l4F = 'butt'; var d7k = /[MLHVCSQTAZ]/i; var k1I = 'during.fx'; var k8A = 'mouseover'; var b9t = 'L'; var X1L = 'touchleave'; var i83 = /[^:]+:[^;]+;?/; var k0u = 'marker'; var O3D = 'http://svgjs.com/svgjs'; var I$ = 22; var Y0q = 'Helvetica, Arial, sans-serif'; var i59 = "708087901"; var R_n = /[\s,]+/; var t3_ = 'skewX'; var k64 = "716900248"; var a5o = 'T'; var L31 = /#([a-z0-9\-_]+)/i; var k4m = 'miter'; var I$h = 'http://www.w3.org/1999/xlink'; var U5s = 'tspan'; var X_A = 'mouseleave'; var C6m = 'scaleY'; var globalRef, SVG, pathHandlers, mlhvqtcsa, sugar, abcdef, CustomEventPoly, G9, D3, T6; globalRef = typeof this !== d1Pxx.O8Z ? this : window; SVG = globalRef.SVG = function (element) { q2uu1K.S$D(); if (SVG.supported) { element = new SVG.Doc(element); if (!SVG.parser.draw) { SVG.prepare(); } return element; } }; SVG.ns = P22; SVG.xmlns = S4j; SVG.xlink = I$h; SVG.svgjs = O3D; SVG.supported = (function () { return !!document.createElementNS && !!document.createElementNS(SVG.ns, d1Pxx.G5a).createSVGRect; })(); if (!SVG.supported) { return p0zBu.e1; } SVG.did = +d1Pxx.h82; SVG.eid = function (name) { return d1Pxx.E_e + capitalize(name) + SVG.did++; }; SVG.create = function (name) { var element; element = document.createElementNS(this.ns, name); element.setAttribute(d1Pxx.m$b, this.eid(name)); return element; }; SVG.extend = function () { var modules, methods, key, i; q2uu1K.S$D(); modules = [].slice.call(arguments); methods = modules.pop(); for (i = modules.length - (p0zBu.v2 | p0zBu[32075]); i >= (p0zBu.U5 ^ p0zBu[122956]); i--) { if (modules[i]) for (key in methods) { modules[i].prototype[key] = methods[key]; } } if (SVG.Set && SVG.Set.inherit) { SVG.Set.inherit(); } }; SVG.invent = function (config) { var initializer; initializer = typeof config.create == d1Pxx.d0a ? config.create : function () { q2uu1K.S$D(); this.constructor.call(this, SVG.create(config.create)); }; if (config.inherit) { initializer.prototype = new config.inherit(); } if (config.extend) { SVG.extend(initializer, config.extend); } if (config.construct) { SVG.extend(config.parent || SVG.Container, config.construct); } return initializer; }; SVG.adopt = function (node) { var X4$ = 'radialGradient'; var j6R = 'linearGradient'; var element; if (!node) { return d1Pxx.p8r; } if (node.instance) { return node.instance; } if (node.nodeName == d1Pxx.G5a) { element = node.parentNode instanceof window.SVGElement ? new SVG.Nested() : new SVG.Doc(); } else if (node.nodeName == j6R) { element = new SVG.Gradient(d1Pxx.l65); } else if (node.nodeName == X4$) { element = new SVG.Gradient(R76); } else if (SVG[capitalize(node.nodeName)]) { element = new SVG[capitalize(node.nodeName)](); } else { element = new SVG.Element(node); } element.type = node.nodeName; element.node = node; node.instance = element; if (element instanceof SVG.Doc) { element.namespace().defs(); } element.setData(JSON.parse(node.getAttribute(z3m)) || ({})); return element; }; SVG.prepare = function () { var S3K = 'body'; var p5i = 'opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden'; var body, draw; body = document.getElementsByTagName(S3K)[p0zBu[122956]]; c0Q.s0(p0zBu[235283]); draw = (body ? new SVG.Doc(body) : SVG.adopt(document.documentElement).nested()).size(c0Q.F_(p0zBu[32075], p0zBu.y8n), c0Q.L6(p0zBu[122956], p0zBu.U5, c0Q.s0(p0zBu[514270]))); SVG.parser = { body: body || document.documentElement, draw: draw.style(p5i).node, poly: draw.polyline().node, path: draw.path().node, native: SVG.create(d1Pxx.G5a) }; }; SVG.parser = { native: SVG.create(d1Pxx.G5a) }; document.addEventListener(o$E, function () { q2uu1K.s3o(); if (!SVG.parser.draw) { SVG.prepare(); } }, p0zBu.e1); SVG.regex = { numberAndUnit: i75, hex: R7W, rgb: w6c, reference: L31, transforms: M52, whitespace: /\s/g, isHex: Y5A, isRgb: W6L, isCss: i83, isBlank: S3n, isNumber: w$1, isPercent: C7g, isImage: g68, delimiter: R_n, hyphen: /([^e])\-/gi, pathLetters: /[MLHVCSQTAZ]/gi, isPathLetter: d7k, numbersWithDots: /((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi, dots: /\./g }; SVG.utils = { map: function (array, block) { q2uu1K.S$D(); var i, il, result; il = array.length; result = []; for (i = +p0zBu.U5; i < il; i++) { result.push(block(array[i])); } return result; }, filter: function (array, block) { var i, il, result; il = array.length; result = []; for (i = +p0zBu.U5; i < il; i++) { if (block(array[i])) { result.push(array[i]); } } return result; }, radians: function (d) { c0Q.s0(p0zBu.U7); var Q3 = c0Q.L6(I$, p0zBu[235283], p0zBu.U7); c0Q.s6(p0zBu.U2); var d_ = c0Q.F_(p0zBu.a4, p0zBu.A7, p0zBu[235283]); q2uu1K.s3o(); return d % (d1Pxx.N7H * Q3) * Math.PI / (d1Pxx.I6W * d_); }, degrees: function (r) { c0Q.s0(p0zBu.T$); var p9 = c0Q.F_(p0zBu.U7, p0zBu.U2, p0zBu.Y8); q2uu1K.S$D(); return r * (d1Pxx.I6W * p9) / Math.PI % (d1Pxx.N7H - p0zBu[122956]); }, filterSVGElements: function (nodes) { q2uu1K.s3o(); return this.filter(nodes, function (el) { return el instanceof window.SVGElement; }); } }; SVG.defaults = { attrs: { 'fill-opacity': p0zBu[32075], 'stroke-opacity': p0zBu.v2 >> p0zBu[122956], 'stroke-width': +p0zBu.U5, 'stroke-linejoin': k4m, 'stroke-linecap': l4F, fill: Y2x, stroke: Y2x, opacity: p0zBu.v2 * p0zBu[32075], x: p0zBu[122956], y: +p0zBu.U5, cx: +p0zBu.U5, cy: p0zBu[122956], width: +p0zBu.U5, height: p0zBu.U5 | p0zBu[122956], r: +p0zBu.U5, rx: p0zBu[122956], ry: +p0zBu.U5, offset: p0zBu.U5 << p0zBu.S1, 'stop-opacity': p0zBu.v2 >> p0zBu.Q_, 'stop-color': Y2x, 'font-size': p0zBu.m2X << p0zBu[122956], 'font-family': Y0q, 'text-anchor': d1Pxx.o_X } }; SVG.Color = function (color) { var match; this.r = p0zBu[122956]; this.g = +p0zBu.U5; c0Q.s6(p0zBu[235283]); this.b = c0Q.L6(p0zBu[32075], p0zBu.U5); if (!color) { return; } if (typeof color === d1Pxx.S0h) { if (SVG.regex.isRgb.test(color)) { match = SVG.regex.rgb.exec(color.replace(SVG.regex.whitespace, p0zBu.e5)); this.r = parseInt(match[+p0zBu.v2]); this.g = parseInt(match[p0zBu.y8n | p0zBu[122956]]); this.b = parseInt(match[p0zBu.r$f * p0zBu[32075]]); } else if (SVG.regex.isHex.test(color)) { match = SVG.regex.hex.exec(fullHex(color)); this.r = parseInt(match[p0zBu[32075]], p0zBu.m2X - p0zBu[122956]); this.g = parseInt(match[p0zBu.y8n * p0zBu[32075]], +p0zBu.m2X); this.b = parseInt(match[+p0zBu.r$f], +p0zBu.m2X); } } else if (typeof color === d1Pxx.E_o) { this.r = color.r; this.g = color.g; this.b = color.b; } }; SVG.extend(SVG.Color, { toString: function () { q2uu1K.s3o(); return this.toHex(); }, toHex: function () { return p0zBu.o$ + compToHex(this.r) + compToHex(this.g) + compToHex(this.b); }, toRgb: function () { return d1Pxx.C7_ + [this.r, this.g, this.b].join() + d1Pxx.B3X; }, brightness: function () { var M5Y = "0.59"; var A$ = 212; var v_8 = "0.11"; var g1$ = "0.30"; var v8 = 269; q2uu1K.s3o(); c0Q.s0(p0zBu.Z8); var C2 = c0Q.L6(v8, p0zBu.c7, p0zBu.v_, p0zBu.v_, p0zBu.A7); c0Q.s6(p0zBu[394202]); var i0 = c0Q.F_(p0zBu.u0, A$); return this.r / C2 * +g1$ + this.g / i0 * (M5Y - p0zBu[122956]) + this.b / (p0zBu.B95 ^ p0zBu[122956]) * +v_8; }, morph: function (color) { q2uu1K.s3o(); this.destination = new SVG.Color(color); return this; }, at: function (pos) { if (!this.destination) { return this; } pos = pos < +p0zBu.U5 ? +p0zBu.U5 : pos > p0zBu[32075] ? +p0zBu.v2 : pos; return new SVG.Color({ r: ~~(this.r + (this.destination.r - this.r) * pos), g: ~~(this.g + (this.destination.g - this.g) * pos), b: ~~(this.b + (this.destination.b - this.b) * pos) }); } }); SVG.Color.test = function (color) { color += p0zBu.e5; q2uu1K.s3o(); return SVG.regex.isHex.test(color) || SVG.regex.isRgb.test(color); }; SVG.Color.isRgb = function (color) { return color && typeof color.r == d1Pxx.K3f && typeof color.g == d1Pxx.K3f && typeof color.b == d1Pxx.K3f; }; SVG.Color.isColor = function (color) { return SVG.Color.isRgb(color) || SVG.Color.test(color); }; SVG.Array = function (array, fallback) { array = (array || []).valueOf(); q2uu1K.s3o(); if (array.length == p0zBu.U5 << p0zBu.Q_ && fallback) { array = fallback.valueOf(); } this.value = this.parse(array); }; SVG.extend(SVG.Array, { morph: function (array) { var lastValue, lastDestination; this.destination = this.parse(array); if (this.value.length != this.destination.length) { lastValue = this.value[this.value.length - +p0zBu.v2]; c0Q.s0(p0zBu.c7); var J9 = c0Q.L6(p0zBu.v_, p0zBu.Z0); lastDestination = this.destination[this.destination.length - J9]; while (this.value.length > this.destination.length) { this.destination.push(lastDestination); } while (this.value.length < this.destination.length) { this.value.push(lastValue); } } return this; }, settle: function () { q2uu1K.S$D(); for (var i = +p0zBu.U5, il = this.value.length, seen = []; i < il; i++) { if (seen.indexOf(this.value[i]) == -+p0zBu.v2) { seen.push(this.value[i]); } } return this.value = seen; }, at: function (pos) { if (!this.destination) { return this; } for (var i = +p0zBu.U5, il = this.value.length, array = []; i < il; i++) { array.push(this.value[i] + (this.destination[i] - this.value[i]) * pos); } q2uu1K.S$D(); return new SVG.Array(array); }, toString: function () { return this.value.join(d1Pxx.P0U); }, valueOf: function () { q2uu1K.S$D(); return this.value; }, parse: function (array) { array = array.valueOf(); if (Array.isArray(array)) { return array; } q2uu1K.S$D(); return this.split(array); }, split: function (string) { return string.trim().split(SVG.regex.delimiter).map(parseFloat); }, reverse: function () { q2uu1K.s3o(); this.value.reverse(); return this; }, clone: function () { var clone; clone = new this.constructor(); clone.value = array_clone(this.value); return clone; } }); SVG.PointArray = function (array, fallback) { q2uu1K.S$D(); SVG.Array.call(this, array, fallback || [[+p0zBu.U5, p0zBu[122956]]]); }; function arrayToString(a) { for (var i = p0zBu.U5 << p0zBu.S1, il = a.length, s = p0zBu.e5; i < il; i++) { s += a[i][+p0zBu.U5]; if (a[i][+p0zBu.v2] != d1Pxx.p8r) { c0Q.s6(p0zBu[32075]); s += a[i][c0Q.L6(p0zBu.v2, p0zBu[122956])]; if (a[i][p0zBu[149144]] != d1Pxx.p8r) { s += d1Pxx.P0U; s += a[i][+p0zBu.y8n]; if (a[i][p0zBu[235283]] != d1Pxx.p8r) { s += d1Pxx.P0U; c0Q.s6(p0zBu[122956]); s += a[i][c0Q.F_(p0zBu.S1, p0zBu.r$f)]; s += d1Pxx.P0U; s += a[i][p0zBu[394202]]; if (a[i][+d1Pxx.Q4N] != d1Pxx.p8r) { s += d1Pxx.P0U; s += a[i][+d1Pxx.Q4N]; s += d1Pxx.P0U; c0Q.s6(p0zBu[149144]); s += a[i][c0Q.L6(p0zBu.S1, p0zBu.q_)]; if (a[i][+d1Pxx.p3n] != d1Pxx.p8r) { s += d1Pxx.P0U; s += a[i][p0zBu.U7]; } } } } } } c0Q.s6(p0zBu[394202]); return c0Q.F_(s, d1Pxx.P0U); } SVG.PointArray.prototype = new SVG.Array(); function pathRegReplace(a, b, c, d) { q2uu1K.S$D(); var M_w = ' .'; return c + d.replace(SVG.regex.dots, M_w); } function parseMatrix(matrix) { if (!(matrix instanceof SVG.Matrix)) { matrix = new SVG.Matrix(matrix); } return matrix; } SVG.PointArray.prototype.constructor = SVG.PointArray; SVG.extend(SVG.PointArray, { toString: function () { q2uu1K.S$D(); for (var i = p0zBu.U5 * p0zBu[32075], il = this.value.length, array = []; i < il; i++) { array.push(this.value[i].join(d1Pxx.W0Z)); } return array.join(d1Pxx.P0U); }, toLine: function () { q2uu1K.s3o(); return { x1: this.value[+p0zBu.U5][p0zBu.U5 - p0zBu[122956]], y1: this.value[p0zBu[122956]][+p0zBu.v2], x2: this.value[p0zBu[32075]][p0zBu.U5 - p0zBu[122956]], y2: this.value[+p0zBu.v2][p0zBu.v2 ^ p0zBu[122956]] }; }, at: function (pos) { if (!this.destination) { return this; } for (var i = +p0zBu.U5, il = this.value.length, array = []; i < il; i++) { array.push([this.value[i][p0zBu.U5 * p0zBu[32075]] + (this.destination[i][+p0zBu.U5] - this.value[i][+p0zBu.U5]) * pos, this.value[i][+p0zBu.v2] + (this.destination[i][p0zBu[32075]] - this.value[i][p0zBu.v2 * p0zBu[32075]]) * pos]); } return new SVG.PointArray(array); }, parse: function (array) { var J6M = q2uu1K; var points; J6M.S$D(); points = []; array = array.valueOf(); if (Array.isArray(array)) { if (Array.isArray(array[p0zBu.U5 - p0zBu[122956]])) { return array.map(function (el) { J6M.s3o(); return el.slice(); }); } else if (array[p0zBu[122956]].x != d1Pxx.p8r) { return array.map(function (el) { J6M.s3o(); return [el.x, el.y]; }); } } else { array = array.trim().split(SVG.regex.delimiter).map(parseFloat); } if (array.length % (p0zBu.y8n | p0zBu[122956]) !== p0zBu.U5 * p0zBu[32075]) { array.pop(); } for (var i = p0zBu.U5 - p0zBu[122956], len = array.length; i < len; i = i + +p0zBu.y8n) { points.push([array[i], array[i + +p0zBu.v2]]); } return points; }, move: function (x, y) { q2uu1K.S$D(); var box; box = this.bbox(); x -= box.x; y -= box.y; if (!isNaN(x) && !isNaN(y)) for (var i = this.value.length - p0zBu.v2 * p0zBu[32075]; i >= +p0zBu.U5; i--) { this.value[i] = [this.value[i][+p0zBu.U5] + x, this.value[i][+p0zBu.v2] + y]; } return this; }, size: function (width, height) { q2uu1K.S$D(); var i, box; box = this.bbox(); for (i = this.value.length - p0zBu[32075]; i >= +p0zBu.U5; i--) { if (box.width) { this.value[i][+p0zBu.U5] = (this.value[i][p0zBu[122956]] - box.x) * width / box.width + box.x; } if (box.height) { this.value[i][+p0zBu.v2] = (this.value[i][+p0zBu.v2] - box.y) * height / box.height + box.y; } } return this; }, bbox: function () { SVG.parser.poly.setAttribute(d1Pxx.Z0R, this.toString()); return SVG.parser.poly.getBBox(); } }); pathHandlers = { M: function (c, p, p0) { q2uu1K.s3o(); p.x = p0.x = c[+p0zBu.U5]; c0Q.s0(p0zBu[122956]); p.y = p0.y = c[c0Q.F_(p0zBu.S1, p0zBu.v2)]; return [A78, p.x, p.y]; }, L: function (c, p) { c0Q.s0(p0zBu[235283]); p.x = c[c0Q.F_(p0zBu[32075], p0zBu.U5)]; p.y = c[+p0zBu.v2]; q2uu1K.s3o(); c0Q.s0(p0zBu[514270]); return [b9t, c[c0Q.L6(p0zBu[122956], p0zBu.U5)], c[+p0zBu.v2]]; }, H: function (c, p) { p.x = c[p0zBu[122956]]; q2uu1K.s3o(); c0Q.s0(p0zBu[514270]); return [Q0d, c[c0Q.L6(p0zBu[122956], p0zBu.U5)]]; }, V: function (c, p) { c0Q.s0(p0zBu[149144]); p.y = c[c0Q.F_(p0zBu.S1, p0zBu.U5)]; return [R_K, c[+p0zBu.U5]]; }, C: function (c, p) { p.x = c[p0zBu[394202]]; p.y = c[+d1Pxx.Q4N]; c0Q.s6(p0zBu[122956]); return [v1R, c[+p0zBu.U5], c[c0Q.F_(p0zBu.S1, p0zBu.v2)], c[c0Q.L6(p0zBu[32075], p0zBu.y8n, c0Q.s0(p0zBu[235283]))], c[c0Q.L6(p0zBu.S1, p0zBu.r$f, c0Q.s0(p0zBu[122956]))], c[p0zBu[394202]], c[c0Q.L6(p0zBu[551601], d1Pxx.Q4N, c0Q.s6(p0zBu[514270]))]]; }, S: function (c, p) { p.x = c[+p0zBu.y8n]; p.y = c[p0zBu[235283]]; q2uu1K.s3o(); return [c22, c[+p0zBu.U5], c[p0zBu[32075]], c[p0zBu[149144]], c[+p0zBu.r$f]]; }, Q: function (c, p) { p.x = c[+p0zBu.y8n]; c0Q.s6(p0zBu[235283]); p.y = c[c0Q.F_(p0zBu[32075], p0zBu.r$f)]; c0Q.s0(p0zBu[122956]); return [l9M, c[+p0zBu.U5], c[+p0zBu.v2], c[c0Q.L6(p0zBu.S1, p0zBu.y8n)], c[+p0zBu.r$f]]; }, T: function (c, p) { p.x = c[+p0zBu.U5]; q2uu1K.S$D(); p.y = c[p0zBu[32075]]; return [a5o, c[p0zBu[122956]], c[p0zBu[32075]]]; }, Z: function (c, p, p0) { var K8T = 'Z'; p.x = p0.x; p.y = p0.y; return [K8T]; }, A: function (c, p) { p.x = c[p0zBu[551601]]; c0Q.s6(p0zBu[514270]); p.y = c[c0Q.L6(p0zBu[149144], p0zBu.q_)]; c0Q.s0(p0zBu[122956]); q2uu1K.s3o(); return [w26, c[+p0zBu.U5], c[c0Q.L6(p0zBu.S1, p0zBu.v2)], c[+p0zBu.y8n], c[c0Q.L6(p0zBu[32075], p0zBu.r$f, c0Q.s6(p0zBu[235283]))], c[c0Q.F_(p0zBu[394202], d1Pxx.H0F, c0Q.s0(p0zBu[514270]))], c[+d1Pxx.Q4N], c[c0Q.F_(p0zBu[122956], p0zBu.q_, c0Q.s0(p0zBu[122956]))]]; } }; mlhvqtcsa = a7z.split(p0zBu.e5); for (var i = p0zBu[122956], il = mlhvqtcsa.length; i < il; ++i) { pathHandlers[mlhvqtcsa[i]] = (function (i) { q2uu1K.s3o(); return function (c, p, p0) { var P1 = 576; if (i == Q0d) { c0Q.s6(p0zBu[514270]); c[c0Q.F_(p0zBu[122956], p0zBu.U5)] = c[p0zBu.U5 >> p0zBu[122956]] + p.x; } else if (i == R_K) { c[p0zBu[122956]] = c[p0zBu.U5 - p0zBu[122956]] + p.y; } else if (i == w26) { c0Q.s6(p0zBu.d2); var K0 = c0Q.L6(p0zBu.c7, p0zBu[149144], p0zBu.w5, p0zBu[394202], p0zBu.v5); c0Q.s6(p0zBu[149144]); c[c0Q.L6(p0zBu.Q_, d1Pxx.Q4N)] = c[K0] + p.x; c0Q.s6(p0zBu[514270]); c[c0Q.L6(p0zBu[149144], p0zBu.q_)] = c[+p0zBu.q_] + p.y; } else for (var j = +p0zBu.U5, jl = c.length; j < jl; ++j) { c0Q.s0(p0zBu.v5); var U9 = c0Q.L6(p0zBu[122956], P1, p0zBu[514270]); c[j] = c[j] + (j % (p0zBu.y8n >> U9) ? p.y : p.x); } return pathHandlers[i](c, p, p0); }; })(mlhvqtcsa[i].toUpperCase()); } SVG.PathArray = function (array, fallback) { SVG.Array.call(this, array, fallback || [[A78, +p0zBu.U5, p0zBu.U5 ^ p0zBu[122956]]]); }; function array_clone(arr) { var clone; q2uu1K.s3o(); clone = arr.slice(+p0zBu.U5); for (var i = clone.length; i--;) { if (Array.isArray(clone[i])) { clone[i] = array_clone(clone[i]); } } return clone; } SVG.PathArray.prototype = new SVG.Array(); SVG.PathArray.prototype.constructor = SVG.PathArray; SVG.extend(SVG.PathArray, { toString: function () { return arrayToString(this.value); }, move: function (x, y) { var box; box = this.bbox(); x -= box.x; y -= box.y; if (!isNaN(x) && !isNaN(y)) { for (var l, i = this.value.length - (p0zBu.v2 - p0zBu[122956]); i >= +p0zBu.U5; i--) { l = this.value[i][+p0zBu.U5]; if (l == A78 || l == b9t || l == a5o) { this.value[i][+p0zBu.v2] += x; c0Q.s0(p0zBu[235283]); this.value[i][c0Q.L6(p0zBu[32075], p0zBu.y8n)] += y; } else if (l == Q0d) { c0Q.s6(p0zBu.c7); this.value[i][c0Q.L6(p0zBu[122956], p0zBu.v2)] += x; } else if (l == R_K) { c0Q.s6(p0zBu[122956]); this.value[i][c0Q.L6(p0zBu.S1, p0zBu.v2)] += y; } else if (l == v1R || l == c22 || l == l9M) { this.value[i][+p0zBu.v2] += x; this.value[i][+p0zBu.y8n] += y; this.value[i][+p0zBu.r$f] += x; this.value[i][p0zBu[394202]] += y; if (l == v1R) { this.value[i][p0zBu[551601]] += x; this.value[i][p0zBu[514270]] += y; } } else if (l == w26) { this.value[i][+p0zBu.q_] += x; c0Q.s0(p0zBu[32075]); this.value[i][c0Q.L6(d1Pxx.p3n, p0zBu[122956])] += y; } } } return this; }, size: function (width, height) { var E6 = 864; var i, l, box; box = this.bbox(); for (i = this.value.length - p0zBu[32075]; i >= +p0zBu.U5; i--) { l = this.value[i][p0zBu[122956]]; if (l == A78 || l == b9t || l == a5o) { this.value[i][p0zBu[32075]] = (this.value[i][+p0zBu.v2] - box.x) * width / box.width + box.x; c0Q.s6(p0zBu.W3); var J$ = c0Q.L6(p0zBu.Z8, p0zBu.T$, p0zBu.a4); this.value[i][p0zBu[149144]] = (this.value[i][J$] - box.y) * height / box.height + box.y; } else if (l == Q0d) { c0Q.s0(p0zBu[235283]); this.value[i][c0Q.L6(p0zBu[32075], p0zBu.v2)] = (this.value[i][+p0zBu.v2] - box.x) * width / box.width + box.x; } else if (l == R_K) { c0Q.s0(p0zBu.A7); var m_ = c0Q.L6(p0zBu[149144], p0zBu.L8, p0zBu.L8, p0zBu.K8); this.value[i][p0zBu[32075]] = (this.value[i][p0zBu.v2 >> m_] - box.y) * height / box.height + box.y; } else if (l == v1R || l == c22 || l == l9M) { this.value[i][+p0zBu.v2] = (this.value[i][p0zBu.v2 - p0zBu[122956]] - box.x) * width / box.width + box.x; this.value[i][p0zBu[149144]] = (this.value[i][+p0zBu.y8n] - box.y) * height / box.height + box.y; this.value[i][+p0zBu.r$f] = (this.value[i][+p0zBu.r$f] - box.x) * width / box.width + box.x; c0Q.s0(p0zBu[149144]); this.value[i][c0Q.L6(p0zBu.S1, d1Pxx.H0F)] = (this.value[i][+d1Pxx.H0F] - box.y) * height / box.height + box.y; if (l == v1R) { c0Q.s6(p0zBu.T$); var N7 = c0Q.L6(p0zBu.M$, p0zBu.x6, E6); c0Q.s0(p0zBu[32075]); this.value[i][c0Q.L6(d1Pxx.Q4N, p0zBu[122956])] = (this.value[i][d1Pxx.Q4N << N7] - box.x) * width / box.width + box.x; this.value[i][p0zBu[514270]] = (this.value[i][p0zBu.q_ - p0zBu[122956]] - box.y) * height / box.height + box.y; } } else if (l == w26) { c0Q.s0(p0zBu.c7); var V1 = c0Q.L6(p0zBu.c7, p0zBu.d2); this.value[i][p0zBu[32075]] = this.value[i][V1] * width / box.width; this.value[i][p0zBu[149144]] = this.value[i][p0zBu.y8n ^ p0zBu[122956]] * height / box.height; c0Q.s0(p0zBu.M$); var z0 = c0Q.L6(p0zBu.a4, p0zBu.M$); this.value[i][+p0zBu.q_] = (this.value[i][p0zBu.q_ * z0] - box.x) * width / box.width + box.x; this.value[i][+d1Pxx.p3n] = (this.value[i][+d1Pxx.p3n] - box.y) * height / box.height + box.y; } } return this; }, equalCommands: function (pathArray) { var i, il, equalCommands; pathArray = new SVG.PathArray(pathArray); equalCommands = this.value.length === pathArray.value.length; for ((i = +p0zBu.U5, il = this.value.length); equalCommands && i < il; i++) { equalCommands = this.value[i][p0zBu.U5 - p0zBu[122956]] === pathArray.value[i][+p0zBu.U5]; } return equalCommands; }, morph: function (pathArray) { pathArray = new SVG.PathArray(pathArray); if (this.equalCommands(pathArray)) { this.destination = pathArray; } else { this.destination = d1Pxx.p8r; } return this; }, at: function (pos) { var sourceArray, destinationArray, array, pathArray, i, il, j, jl; if (!this.destination) { return this; } sourceArray = this.value; destinationArray = this.destination.value; array = []; pathArray = new SVG.PathArray(); for ((i = +p0zBu.U5, il = sourceArray.length); i < il; i++) { c0Q.s0(p0zBu[514270]); array[i] = [sourceArray[i][c0Q.F_(p0zBu[122956], p0zBu.U5)]]; for ((j = p0zBu.v2 | p0zBu[32075], jl = sourceArray[i].length); j < jl; j++) { array[i][j] = sourceArray[i][j] + (destinationArray[i][j] - sourceArray[i][j]) * pos; } if (array[i][+p0zBu.U5] === w26) { c0Q.s6(p0zBu.a4); var E8 = c0Q.L6(p0zBu[235283], p0zBu.W3, p0zBu.t5); array[i][p0zBu[394202]] = +(array[i][d1Pxx.H0F * E8] != p0zBu[122956]); c0Q.s6(p0zBu[235283]); array[i][c0Q.F_(p0zBu[32075], d1Pxx.Q4N)] = +(array[i][+d1Pxx.Q4N] != p0zBu[122956]); } } pathArray.value = array; return pathArray; }, parse: function (array) { var f$0 = 'm'; q2uu1K.s3o(); var C6k = ' $& '; var C1r = '$1 -'; var i, x0, y0, s, seg, arr, x, y, paramCnt, p, p0, index, len; if (array instanceof SVG.PathArray) { return array.valueOf(); } c0Q.s0(p0zBu[32075]); x = c0Q.F_(p0zBu.U5, p0zBu[122956]); y = p0zBu[122956]; paramCnt = { 'M': p0zBu.y8n ^ p0zBu[122956], 'L': p0zBu.y8n - p0zBu[122956], 'H': +p0zBu.v2, 'V': p0zBu.v2 << p0zBu.Q_, 'C': p0zBu.q_ - p0zBu[122956], 'S': d1Pxx.H0F >> p0zBu.Q_, 'Q': +d1Pxx.H0F, 'T': +p0zBu.y8n, 'A': d1Pxx.p3n | p0zBu.U7, 'Z': +p0zBu.U5 }; if (typeof array == d1Pxx.S0h) { array = array.replace(SVG.regex.numbersWithDots, pathRegReplace).replace(SVG.regex.pathLetters, C6k).replace(SVG.regex.hyphen, C1r).trim().split(SVG.regex.delimiter);; } else { array = array.reduce(function (prev, curr) { return [].concat.call(prev, curr); }, []); } arr = []; p = new SVG.Point(); p0 = new SVG.Point(); index = +p0zBu.U5; len = array.length; do { if (SVG.regex.isPathLetter.test(array[index])) { s = array[index]; ++index;; } else if (s == A78) { s = b9t; } else if (s == f$0) { s = d1Pxx.N73; } arr.push(pathHandlers[s].call(d1Pxx.p8r, array.slice(index, index = index + paramCnt[s.toUpperCase()]).map(parseFloat), p, p0)); } while (len > index); return arr; }, bbox: function () { q2uu1K.S$D(); SVG.parser.path.setAttribute(d1Pxx.o7i, this.toString()); return SVG.parser.path.getBBox(); } }); SVG.Number = SVG.invent({ create: function (value, unit) { q2uu1K.S$D(); var V6r = "3.4e+38"; c0Q.s6(p0zBu[149144]); this.value = c0Q.L6(p0zBu[122956], p0zBu.U5); this.unit = unit || p0zBu.e5; if (typeof value === d1Pxx.K3f) { this.value = isNaN(value) ? p0zBu.U5 | p0zBu[122956] : !isFinite(value) ? value < +p0zBu.U5 ? -(V6r * p0zBu[32075]) : + +V6r : value; } else if (typeof value === d1Pxx.S0h) { unit = value.match(SVG.regex.numberAndUnit); if (unit) { this.value = parseFloat(unit[p0zBu.v2 * p0zBu[32075]]); if (unit[d1Pxx.Q4N | p0zBu[32075]] == d1Pxx.k7G) { this.value /= +d1Pxx.x$d; } else if (unit[d1Pxx.Q4N | p0zBu[122956]] == d1Pxx.I3m) { c0Q.s0(p0zBu[122956]); this.value *= c0Q.L6(p0zBu.Q_, d1Pxx.h82); } this.unit = unit[p0zBu[551601]]; } } else { if (value instanceof SVG.Number) { this.value = value.valueOf(); this.unit = value.unit; } } }, extend: { toString: function () { var K1m = "1e8"; var R4 = 999995; var f0 = 18000; var h6 = 19000; c0Q.s0(p0zBu.t5); var J6 = c0Q.F_(R4, p0zBu.d2, p0zBu.v_, p0zBu.v5); c0Q.s6(p0zBu.c7); var s4 = c0Q.L6(f0, h6); return (this.unit == d1Pxx.k7G ? ~~(this.value * +K1m) / J6 : this.unit == d1Pxx.I3m ? this.value / s4 : this.value) + this.unit; }, toJSON: function () { return this.toString(); }, valueOf: function () { q2uu1K.S$D(); return this.value; }, plus: function (number) { number = new SVG.Number(number); c0Q.s0(p0zBu[394202]); return new SVG.Number(c0Q.L6(this, number), this.unit || number.unit); }, minus: function (number) { number = new SVG.Number(number); c0Q.s6(p0zBu.c7); return new SVG.Number(c0Q.F_(number, this), this.unit || number.unit); }, times: function (number) { number = new SVG.Number(number); c0Q.s0(p0zBu[235283]); q2uu1K.s3o(); return new SVG.Number(c0Q.F_(number, this), this.unit || number.unit); }, divide: function (number) { q2uu1K.S$D(); number = new SVG.Number(number); c0Q.s0(p0zBu.w5); return new SVG.Number(c0Q.L6(number, this), this.unit || number.unit); }, to: function (unit) { var number; number = new SVG.Number(this); if (typeof unit === d1Pxx.S0h) { number.unit = unit; } return number; }, morph: function (number) { q2uu1K.S$D(); this.destination = new SVG.Number(number); if (number.relative) { this.destination.value += this.value; } return this; }, at: function (pos) { if (!this.destination) { return this; } return new SVG.Number(this.destination).minus(this).times(pos).plus(this); } } }); SVG.Element = SVG.invent({ create: function (node) { q2uu1K.S$D(); this._stroke = SVG.defaults.attrs.stroke; this._event = d1Pxx.p8r; this._events = {}; this.dom = {}; if (this.node = node) { this.type = node.nodeName; this.node.instance = this; this._events = node._events || ({}); this._stroke = node.getAttribute(d1Pxx.H$F) || this._stroke; } }, extend: { x: function (x) { q2uu1K.S$D(); return this.attr(d1Pxx.T4c, x); }, y: function (y) { return this.attr(d1Pxx.M0Y, y); }, cx: function (x) { q2uu1K.s3o(); return x == d1Pxx.p8r ? this.x() + this.width() / (p0zBu.y8n * p0zBu[32075]) : this.x(x - this.width() / p0zBu[149144]); }, cy: function (y) { q2uu1K.s3o(); return y == d1Pxx.p8r ? this.y() + this.height() / p0zBu[149144] : this.y(y - this.height() / (p0zBu.y8n >> p0zBu.S1)); }, move: function (x, y) { return this.x(x).y(y); }, center: function (x, y) { return this.cx(x).cy(y); }, width: function (width) { q2uu1K.s3o(); return this.attr(d1Pxx.s0r, width); }, height: function (height) { return this.attr(d1Pxx.v26, height); }, size: function (width, height) { q2uu1K.s3o(); var p; p = proportionalSize(this, width, height); return this.width(new SVG.Number(p.width)).height(new SVG.Number(p.height)); }, clone: function (parent) { var clone; this.writeDataToDom(); clone = assignNewId(this.node.cloneNode(p0zBu.s2A)); if (parent) { parent.add(clone); } else { this.after(clone); } return clone; }, remove: function () { if (this.parent()) { this.parent().removeElement(this); } return this; }, replace: function (element) { this.after(element).remove(); return element; }, addTo: function (parent) { return parent.put(this); }, putIn: function (parent) { return parent.add(this); }, id: function (id) { q2uu1K.S$D(); return this.attr(d1Pxx.m$b, id); }, inside: function (x, y) { var box; box = this.bbox(); return x > box.x && y > box.y && x < box.x + box.width && y < box.y + box.height; }, show: function () { return this.style(y$j, p0zBu.e5); }, hide: function () { q2uu1K.s3o(); return this.style(y$j, d1Pxx.S0D); }, visible: function () { return this.style(y$j) != d1Pxx.S0D; }, toString: function () { q2uu1K.s3o(); return this.attr(d1Pxx.m$b); }, classes: function () { q2uu1K.S$D(); var attr; attr = this.attr(d1Pxx.Q$D); return attr == d1Pxx.p8r ? [] : attr.trim().split(SVG.regex.delimiter); }, hasClass: function (name) { return this.classes().indexOf(name) != -+p0zBu.v2; }, addClass: function (name) { var array; if (!this.hasClass(name)) { array = this.classes(); array.push(name); this.attr(d1Pxx.Q$D, array.join(d1Pxx.P0U)); } return this; }, removeClass: function (name) { if (this.hasClass(name)) { this.attr(d1Pxx.Q$D, this.classes().filter(function (c) { q2uu1K.s3o(); c0Q.s0(p0zBu.v_); return c0Q.L6(c, name); }).join(d1Pxx.P0U)); } return this; }, toggleClass: function (name) { q2uu1K.S$D(); return this.hasClass(name) ? this.removeClass(name) : this.addClass(name); }, reference: function (attr) { return SVG.get(this.attr(attr)); }, parent: function (type) { var parent; parent = this; if (!parent.node.parentNode) { return d1Pxx.p8r; } parent = SVG.adopt(parent.node.parentNode); if (!type) { return parent; } while (parent && parent.node instanceof window.SVGElement) { if (typeof type === d1Pxx.S0h ? parent.matches(type) : parent instanceof type) { return parent; } if (!parent.node.parentNode || parent.node.parentNode.nodeName == P6_ || parent.node.parentNode.nodeName == r6G) { return d1Pxx.p8r; } parent = SVG.adopt(parent.node.parentNode); } }, doc: function () { return this instanceof SVG.Doc ? this : this.parent(SVG.Doc); }, parents: function (type) { var parents, parent; parents = []; parent = this; do { parent = parent.parent(type); if (!parent || !parent.node) break; parents.push(parent); } while (parent.parent); return parents; }, matches: function (selector) { q2uu1K.s3o(); return matches(this.node, selector); }, native: function () { q2uu1K.s3o(); return this.node; }, svg: function (svg) { var n4l = /^<svg>/; var H7G = /<\/svg>$/; var V3H = '<$1$2></$1>'; var Y2l = '<svg>'; var D3J = /\n/; var C0Z = '</svg>'; var well; well = document.createElement(d1Pxx.G5a); if (svg && this instanceof SVG.Parent) { well.innerHTML = Y2l + svg.replace(D3J, p0zBu.e5).replace(/<([\w:-]+)([^<]+?)\/>/g, V3H) + C0Z; for (var i = p0zBu.U5 - p0zBu[122956], il = well.firstChild.childNodes.length; i < il; i++) { this.node.appendChild(well.firstChild.firstChild); }; } else { well.appendChild(svg = document.createElement(d1Pxx.G5a)); this.writeDataToDom(); svg.appendChild(this.node.cloneNode(p0zBu.s2A)); return well.innerHTML.replace(n4l, p0zBu.e5).replace(H7G, p0zBu.e5); } return this; }, writeDataToDom: function () { var fn; q2uu1K.s3o(); if (this.each || this.lines) { fn = this.each ? this : this.lines(); fn.each(function () { this.writeDataToDom(); }); } this.node.removeAttribute(z3m); if (Object.keys(this.dom).length) { this.node.setAttribute(z3m, JSON.stringify(this.dom)); } return this; }, setData: function (o) { this.dom = o; return this; }, is: function (obj) { q2uu1K.s3o(); return is(this, obj); } } }); SVG.easing = { '-': function (pos) { return pos; }, '<>': function (pos) { q2uu1K.S$D(); c0Q.s6(p0zBu.Z0); var r6 = c0Q.F_(p0zBu[235283], p0zBu.Z8, p0zBu.d2, p0zBu.W3, p0zBu.a4); return -Math.cos(pos * Math.PI) / (p0zBu.y8n | r6) + d1Pxx.j8$; }, '>': function (pos) { q2uu1K.s3o(); return Math.sin(pos * Math.PI / +p0zBu.y8n); }, '<': function (pos) { c0Q.s6(p0zBu.v5); var v4 = c0Q.L6(p0zBu[514270], p0zBu.W3, p0zBu[149144]); return -Math.cos(pos * Math.PI / +p0zBu.y8n) + (p0zBu.v2 | v4); } }; SVG.morph = function (pos) { q2uu1K.S$D(); return function (from, to) { q2uu1K.s3o(); return new SVG.MorphObj(from, to).at(pos); }; }; SVG.Situation = SVG.invent({ create: function (o) { this.init = p0zBu.e1; this.reversed = p0zBu.e1; this.reversing = p0zBu.e1; this.duration = new SVG.Number(o.duration).valueOf(); this.delay = new SVG.Number(o.delay).valueOf(); q2uu1K.S$D(); this.start = +new Date() + this.delay; this.finish = this.start + this.duration; this.ease = o.ease; this.loop = +p0zBu.U5; this.loops = p0zBu.e1; this.animations = {}; this.attrs = {}; this.styles = {}; this.transforms = []; this.once = {}; } }); SVG.FX = SVG.invent({ create: function (element) { this._target = element; this.situations = []; this.active = p0zBu.e1; this.situation = d1Pxx.p8r; this.paused = p0zBu.e1; this.lastPos = +p0zBu.U5; this.pos = +p0zBu.U5; this.absPos = +p0zBu.U5; this._speed = +p0zBu.v2; }, extend: { animate: function (o, ease, delay) { var situation; if (typeof o == d1Pxx.E_o) { ease = o.ease; delay = o.delay; o = o.duration; } situation = new SVG.Situation({ duration: o || p0zBu.Q4, delay: delay || p0zBu.U5 ^ p0zBu[122956], ease: SVG.easing[ease || d1Pxx.b08] || ease }); this.queue(situation); return this; }, delay: function (delay) { q2uu1K.s3o(); var situation; situation = new SVG.Situation({ duration: delay, delay: p0zBu.U5 * p0zBu[32075], ease: SVG.easing[d1Pxx.b08] }); return this.queue(situation); }, target: function (target) { q2uu1K.s3o(); if (target && target instanceof SVG.Element) { this._target = target; return this; } return this._target; }, timeToAbsPos: function (timestamp) { q2uu1K.s3o(); return (timestamp - this.situation.start) / (this.situation.duration / this._speed); }, absPosToTime: function (absPos) { q2uu1K.S$D(); return this.situation.duration / this._speed * absPos + this.situation.start; }, startAnimFrame: function () { q2uu1K.S$D(); this.stopAnimFrame(); this.animationFrame = window.requestAnimationFrame((function () { q2uu1K.s3o(); this.step(); }).bind(this)); }, stopAnimFrame: function () { window.cancelAnimationFrame(this.animationFrame); }, start: function () { q2uu1K.s3o(); if (!this.active && this.situation) { this.active = p0zBu.s2A; this.startCurrent(); } return this; }, startCurrent: function () { this.situation.start = +new Date() + this.situation.delay / this._speed; this.situation.finish = this.situation.start + this.situation.duration / this._speed; return this.initAnimations().step(); }, queue: function (fn) { if (typeof fn == d1Pxx.d0a || fn instanceof SVG.Situation) { this.situations.push(fn); } if (!this.situation) { this.situation = this.situations.shift(); } return this; }, dequeue: function () { q2uu1K.s3o(); this.stop(); this.situation = this.situations.shift(); if (this.situation) { if (this.situation instanceof SVG.Situation) { this.start(); } else { this.situation.call(this); } } return this; }, initAnimations: function () { var i, j, source, s; s = this.situation; q2uu1K.S$D(); if (s.init) { return this; } for (i in s.animations) { source = this.target()[i](); if (!Array.isArray(source)) { source = [source]; } if (!Array.isArray(s.animations[i])) { s.animations[i] = [s.animations[i]]; } for (j = source.length; j--;) { if (s.animations[i][j] instanceof SVG.Number) { source[j] = new SVG.Number(source[j]); } s.animations[i][j] = source[j].morph(s.animations[i][j]); } } for (i in s.attrs) { s.attrs[i] = new SVG.MorphObj(this.target().attr(i), s.attrs[i]); } for (i in s.styles) { s.styles[i] = new SVG.MorphObj(this.target().style(i), s.styles[i]); } s.initialTransformation = this.target().matrixify(); s.init = p0zBu.s2A; return this; }, clearQueue: function () { q2uu1K.s3o(); this.situations = []; return this; }, clearCurrent: function () { this.situation = d1Pxx.p8r; q2uu1K.s3o(); return this; }, stop: function (jumpToEnd, clearQueue) { var active; active = this.active; this.active = p0zBu.e1; if (clearQueue) { this.clearQueue(); } if (jumpToEnd && this.situation) { !active && this.startCurrent(); this.atEnd(); } this.stopAnimFrame(); return this.clearCurrent(); }, reset: function () { var temp; if (this.situation) { temp = this.situation; this.stop(); this.situation = temp; this.atStart(); } return this; }, finish: function () { this.stop(p0zBu.s2A, p0zBu.e1); while (this.dequeue().situation && this.stop(p0zBu.s2A, p0zBu.e1)) { ; } this.clearQueue().clearCurrent(); return this; }, atStart: function () { q2uu1K.S$D(); return this.at(+p0zBu.U5, p0zBu.s2A); }, atEnd: function () { q2uu1K.S$D(); if (this.situation.loops === p0zBu.s2A) { c0Q.s6(I$); var o4 = c0Q.L6(p0zBu[122956], p0zBu[32075], p0zBu.v5, p0zBu.v5); this.situation.loops = this.situation.loop + o4; } if (typeof this.situation.loops == d1Pxx.K3f) { return this.at(this.situation.loops, p0zBu.s2A); } else { return this.at(p0zBu[32075], p0zBu.s2A); } }, at: function (pos, isAbsPos) { var durDivSpd; durDivSpd = this.situation.duration / this._speed; this.absPos = pos; if (!isAbsPos) { if (this.situation.reversed) { this.absPos = +p0zBu.v2 - this.absPos; } this.absPos += this.situation.loop; } this.situation.start = +new Date() - this.absPos * durDivSpd; this.situation.finish = this.situation.start + durDivSpd; return this.step(p0zBu.s2A); }, speed: function (speed) { if (speed === (p0zBu.U5 ^ p0zBu[122956])) { return this.pause(); } if (speed) { this._speed = speed; return this.at(this.absPos, p0zBu.s2A); } else { return this._speed; } }, loop: function (times, reverse) { var c; q2uu1K.s3o(); c = this.last(); c.loops = times != d1Pxx.p8r ? times : p0zBu.s2A; c.loop = p0zBu[122956]; if (reverse) { c.reversing = p0zBu.s2A; } return this; }, pause: function () { this.paused = p0zBu.s2A; this.stopAnimFrame(); return this; }, play: function () { if (!this.paused) { return this; } this.paused = p0zBu.e1; return this.at(this.absPos, p0zBu.s2A); }, reverse: function (reversed) { var c; c = this.last(); if (typeof reversed == d1Pxx.c42) { c.reversed = !c.reversed; } else { c.reversed = reversed; } return this; }, progress: function (easeIt) { return easeIt ? this.situation.ease(this.pos) : this.pos; }, after: function (fn) { var R3p = 'finished.fx'; var c, wrapper; c = this.last(); wrapper = function wrapper(e) { q2uu1K.s3o(); if (e.detail.situation == c) { fn.call(this, c); this.off(R3p, wrapper);; } }; q2uu1K.s3o(); this.target().on(R3p, wrapper); return this._callStart(); }, during: function (fn) { var c, wrapper; c = this.last(); wrapper = function (e) { q2uu1K.s3o(); if (e.detail.situation == c) { fn.call(this, e.detail.pos, SVG.morph(e.detail.pos), e.detail.eased, c); } }; this.target().off(k1I, wrapper).on(k1I, wrapper); this.after(function () { this.off(k1I, wrapper); }); return this._callStart(); }, afterAll: function (fn) { q2uu1K.s3o(); var r8q = 'allfinished.fx'; var wrapper; wrapper = function wrapper(e) { fn.call(this); this.off(r8q, wrapper); }; this.target().off(r8q, wrapper).on(r8q, wrapper); return this._callStart(); }, duringAll: function (fn) { var wrapper; wrapper = function (e) { fn.call(this, e.detail.pos, SVG.morph(e.detail.pos), e.detail.eased, e.detail.situation); }; this.target().off(k1I, wrapper).on(k1I, wrapper); q2uu1K.S$D(); this.afterAll(function () { this.off(k1I, wrapper); }); return this._callStart(); }, last: function () { q2uu1K.s3o(); return this.situations.length ? this.situations[this.situations.length - p0zBu[32075]] : this.situation; }, add: function (method, args, type) { var x1x = 'animations'; this.last()[type || x1x][method] = args; return this._callStart(); }, step: function (ignoreTime) { var a5N = 'during'; q2uu1K.S$D(); var Q1I = 'finished'; var j_s = '.fx'; var Q2r = 'allfinished'; var absPos, absPosInt, lastLoop, eased; if (!ignoreTime) { this.absPos = this.timeToAbsPos(+new Date()); } if (this.situation.loops !== p0zBu.e1) { absPos = Math.max(this.absPos, +p0zBu.U5); absPosInt = Math.floor(absPos); if (this.situation.loops === p0zBu.s2A || absPosInt < this.situation.loops) { c0Q.s0(p0zBu.c7); this.pos = c0Q.F_(absPosInt, absPos); lastLoop = this.situation.loop; this.situation.loop = absPosInt; } else { this.absPos = this.situation.loops; this.pos = +p0zBu.v2; lastLoop = this.situation.loop - +p0zBu.v2; this.situation.loop = this.situation.loops; } if (this.situation.reversing) { this.situation.reversed = this.situation.reversed != Boolean((this.situation.loop - lastLoop) % +p0zBu.y8n); } } else { this.absPos = Math.min(this.absPos, +p0zBu.v2); this.pos = this.absPos; } if (this.pos < +p0zBu.U5) { c0Q.s6(p0zBu.c7); this.pos = c0Q.L6(p0zBu[122956], p0zBu.U5); } if (this.situation.reversed) { this.pos = +p0zBu.v2 - this.pos; } eased = this.situation.ease(this.pos); for (var i in this.situation.once) { if (i > this.lastPos && i <= eased) { this.situation.once[i].call(this.target(), this.pos, eased); delete this.situation.once[i]; } } if (this.active) { this.target().fire(a5N, { pos: this.pos, eased: eased, fx: this, situation: this.situation }); } if (!this.situation) { return this; } this.eachAt(); if (this.pos == p0zBu.v2 * p0zBu[32075] && !this.situation.reversed || this.situation.reversed && this.pos == +p0zBu.U5) { this.stopAnimFrame(); this.target().fire(Q1I, { fx: this, situation: this.situation }); if (!this.situations.length) { this.target().fire(Q2r); if (!this.situations.length) { this.target().off(j_s); this.active = p0zBu.e1; } } if (this.active) { this.dequeue(); } else { this.clearCurrent(); } } else if (!this.paused && this.active) { this.startAnimFrame(); } this.lastPos = eased; return this; }, eachAt: function () { var i, len, at, self, target, s, a; self = this; target = this.target(); s = this.situation; for (i in s.animations) { at = [].concat(s.animations[i]).map(function (el) { q2uu1K.s3o(); return typeof el !== d1Pxx.S0h && el.at ? el.at(s.ease(self.pos), self.pos) : el; }); target[i].apply(target, at); } for (i in s.attrs) { at = [i].concat(s.attrs[i]).map(function (el) { q2uu1K.s3o(); return typeof el !== d1Pxx.S0h && el.at ? el.at(s.ease(self.pos), self.pos) : el; }); target.attr.apply(target, at); } for (i in s.styles) { at = [i].concat(s.styles[i]).map(function (el) { q2uu1K.S$D(); return typeof el !== d1Pxx.S0h && el.at ? el.at(s.ease(self.pos), self.pos) : el; }); target.style.apply(target, at); } if (s.transforms.length) { at = s.initialTransformation; for ((i = +p0zBu.U5, len = s.transforms.length); i < len; i++) { a = s.transforms[i]; if (a instanceof SVG.Matrix) { if (a.relative) { at = at.multiply(new SVG.Matrix().morph(a).at(s.ease(this.pos))); } else { at = at.morph(a).at(s.ease(this.pos)); } continue; } if (!a.relative) { a.undo(at.extract()); } at = at.multiply(a.at(s.ease(this.pos))); } target.matrix(at); } return this; }, once: function (pos, fn, isEased) { var c; c = this.last(); q2uu1K.S$D(); if (!isEased) { pos = c.ease(pos); } c.once[pos] = fn; return this; }, _callStart: function () { q2uu1K.S$D(); setTimeout((function () { q2uu1K.s3o(); this.start(); }).bind(this), p0zBu.U5 - p0zBu[122956]); return this; } }, parent: SVG.Element, construct: { animate: function (o, ease, delay) { return (this.fx || (this.fx = new SVG.FX(this))).animate(o, ease, delay); }, delay: function (delay) { return (this.fx || (this.fx = new SVG.FX(this))).delay(delay); }, stop: function (jumpToEnd, clearQueue) { if (this.fx) { this.fx.stop(jumpToEnd, clearQueue); } return this; }, finish: function () { if (this.fx) { this.fx.finish(); } return this; }, pause: function () { if (this.fx) { this.fx.pause(); } q2uu1K.S$D(); return this; }, play: function () { if (this.fx) { this.fx.play(); } q2uu1K.s3o(); return this; }, speed: function (speed) { if (this.fx) if (speed == d1Pxx.p8r) { return this.fx.speed(); } else { this.fx.speed(speed); } return this; } } }); SVG.MorphObj = SVG.invent({ create: function (from, to) { if (SVG.Color.isColor(to)) { return new SVG.Color(from).morph(to); } if (SVG.regex.delimiter.test(from)) { if (SVG.regex.pathLetters.test(from)) { return new SVG.PathArray(from).morph(to); } else { return new SVG.Array(from).morph(to); } } if (SVG.regex.numberAndUnit.test(to)) { return new SVG.Number(from).morph(to); } this.value = from; this.destination = to; }, extend: { at: function (pos, real) { return real < +p0zBu.v2 ? this.value : this.destination; }, valueOf: function () { q2uu1K.S$D(); return this.value; } } }); SVG.extend(SVG.FX, { attr: function (a, v, relative) { var D11 = 'attrs'; if (typeof a == d1Pxx.E_o) { for (var key in a) { this.attr(key, a[key]); } } else { this.add(a, v, D11); } q2uu1K.S$D(); return this; }, style: function (s, v) { var W_1 = 'styles'; q2uu1K.S$D(); if (typeof s == d1Pxx.E_o) for (var key in s) { this.style(key, s[key]); } else { this.add(s, v, W_1); } return this; }, x: function (x, relative) { var num; q2uu1K.S$D(); if (this.target() instanceof SVG.G) { this.transform({ x: x }, relative); return this; } num = new SVG.Number(x); num.relative = relative; return this.add(d1Pxx.T4c, num); }, y: function (y, relative) { var num; if (this.target() instanceof SVG.G) { this.transform({ y: y }, relative); return this; } q2uu1K.S$D(); num = new SVG.Number(y); num.relative = relative; return this.add(d1Pxx.M0Y, num); }, cx: function (x) { return this.add(G6l, new SVG.Number(x)); }, cy: function (y) { q2uu1K.S$D(); return this.add(O5q, new SVG.Number(y)); }, move: function (x, y) { return this.x(x).y(y); }, center: function (x, y) { return this.cx(x).cy(y); }, size: function (width, height) { var box; if (this.target() instanceof SVG.Text) { this.attr(d1Pxx.Y0F, width); } else { if (!width || !height) { box = this.target().bbox(); } if (!width) { width = box.width / box.height * height; } if (!height) { height = box.height / box.width * width; } this.add(d1Pxx.s0r, new SVG.Number(width)).add(d1Pxx.v26, new SVG.Number(height)); } q2uu1K.S$D(); return this; }, width: function (width) { return this.add(d1Pxx.s0r, new SVG.Number(width)); }, height: function (height) { return this.add(d1Pxx.v26, new SVG.Number(height)); }, plot: function (a, b, c, d) { var w2s = 'plot'; if (arguments.length == p0zBu[394202]) { return this.plot([a, b, c, d]); } q2uu1K.S$D(); return this.add(w2s, new (this.target().morphArray)(a)); }, leading: function (value) { return this.target().leading ? this.add(M8b, new SVG.Number(value)) : this; }, viewbox: function (x, y, width, height) { var t5f = 'viewbox'; if (this.target() instanceof SVG.Container) { this.add(t5f, new SVG.ViewBox(x, y, width, height)); } return this; }, update: function (o) { q2uu1K.s3o(); if (this.target() instanceof SVG.Stop) { if (typeof o == d1Pxx.K3f || o instanceof SVG.Number) { return this.update({ offset: arguments[p0zBu.U5 << p0zBu.Q_], color: arguments[p0zBu.v2 - p0zBu[122956]], opacity: arguments[p0zBu.y8n * p0zBu[32075]] }); } if (o.opacity != d1Pxx.p8r) { this.attr(m7a, o.opacity); } if (o.color != d1Pxx.p8r) { this.attr(Z9l, o.color); } if (o.offset != d1Pxx.p8r) { this.attr(d1Pxx.B1V, o.offset); } } return this; } }); SVG.Box = SVG.invent({ create: function (x, y, width, height) { if (typeof x == d1Pxx.E_o && !(x instanceof SVG.Element)) { return SVG.Box.call(this, x.left != d1Pxx.p8r ? x.left : x.x, x.top != d1Pxx.p8r ? x.top : x.y, x.width, x.height); } else if (arguments.length == p0zBu[394202]) { this.x = x; this.y = y; this.width = width; this.height = height; } fullBox(this); }, extend: { merge: function (box) { var b; b = new this.constructor(); b.x = Math.min(this.x, box.x); b.y = Math.min(this.y, box.y); b.width = Math.max(this.x + this.width, box.x + box.width) - b.x; q2uu1K.S$D(); b.height = Math.max(this.y + this.height, box.y + box.height) - b.y; return fullBox(b); }, transform: function (m) { var xMin, xMax, yMin, yMax, p, bbox, pts; xMin = Infinity; xMax = -Infinity; yMin = Infinity; yMax = -Infinity; pts = [new SVG.Point(this.x, this.y), new SVG.Point(this.x2, this.y), new SVG.Point(this.x, this.y2), new SVG.Point(this.x2, this.y2)]; pts.forEach(function (p) { p = p.transform(m); xMin = Math.min(xMin, p.x); xMax = Math.max(xMax, p.x); yMin = Math.min(yMin, p.y); yMax = Math.max(yMax, p.y); }); bbox = new this.constructor(); bbox.x = xMin; c0Q.s0(p0zBu.c7); bbox.width = c0Q.L6(xMin, xMax); bbox.y = yMin; c0Q.s0(p0zBu.c7); bbox.height = c0Q.F_(yMin, yMax); fullBox(bbox); return bbox; } } }); SVG.BBox = SVG.invent({ create: function (element) { var v1M = 'Element not in the dom'; q2uu1K.s3o(); var box, topParent; SVG.Box.apply(this, [].slice.call(arguments)); if (element instanceof SVG.Element) { try { if (!document.documentElement.contains) { topParent = element.node; while (topParent.parentNode) { topParent = topParent.parentNode; } if (topParent != document) { throw new Exception(v1M); } } else { if (!document.documentElement.contains(element.node)) { throw new Exception(v1M); } } box = element.node.getBBox(); } catch (e) { var clone; if (element instanceof SVG.Shape) { clone = element.clone(SVG.parser.draw.instance).show(); box = clone.node.getBBox(); clone.remove(); } else { box = { x: element.node.clientLeft, y: element.node.clientTop, width: element.node.clientWidth, height: element.node.clientHeight }; } } SVG.Box.call(this, box); } }, inherit: SVG.Box, parent: SVG.Element, construct: { bbox: function () { return new SVG.BBox(this); } } }); SVG.BBox.prototype.constructor = SVG.BBox; SVG.extend(SVG.Element, { tbox: function () { q2uu1K.s3o(); var F6i = 'Use of TBox is deprecated and mapped to RBox. Use .rbox() instead.'; console.warn(F6i); return this.rbox(this.doc()); } }); SVG.RBox = SVG.invent({ create: function (element) { SVG.Box.apply(this, [].slice.call(arguments)); if (element instanceof SVG.Element) { SVG.Box.call(this, element.node.getBoundingClientRect()); } }, inherit: SVG.Box, parent: SVG.Element, extend: { addOffset: function () { this.x += window.pageXOffset; this.y += window.pageYOffset; return this; } }, construct: { rbox: function (el) { q2uu1K.S$D(); if (el) { return new SVG.RBox(this).transform(el.screenCTM().inverse()); } return new SVG.RBox(this).addOffset(); } } }); SVG.RBox.prototype.constructor = SVG.RBox; SVG.Matrix = SVG.invent({ create: function (source) { var i, base; c0Q.s6(p0zBu[235283]); base = arrayToMatrix([p0zBu[32075], +p0zBu.U5, c0Q.L6(p0zBu[32075], p0zBu.U5), c0Q.F_(p0zBu[122956], p0zBu.v2, c0Q.s6(p0zBu.c7)), +p0zBu.U5, p0zBu[122956]]); source = source instanceof SVG.Element ? source.matrixify() : typeof source === d1Pxx.S0h ? arrayToMatrix(source.split(SVG.regex.delimiter).map(parseFloat)) : arguments.length == +p0zBu.q_ ? arrayToMatrix([].slice.call(arguments)) : Array.isArray(source) ? arrayToMatrix(source) : typeof source === d1Pxx.E_o ? source : base; q2uu1K.s3o(); for (i = abcdef.length - p0zBu[32075]; i >= (p0zBu.U5 ^ p0zBu[122956]); --i) { this[abcdef[i]] = source[abcdef[i]] != d1Pxx.p8r ? source[abcdef[i]] : base[abcdef[i]]; } }, extend: { extract: function () { var q8 = 2340; var A2 = 10530; var px, py, skewX; c0Q.s0(p0zBu[235283]); px = deltaTransformPoint(this, +p0zBu.U5, c0Q.F_(p0zBu[32075], p0zBu.v2)); py = deltaTransformPoint(this, +p0zBu.v2, p0zBu[122956]); c0Q.s0(p0zBu.d3); var g4 = c0Q.L6(A2, p0zBu.a$, p0zBu.t5, q8, p0zBu.U7); skewX = g4 / Math.PI * Math.atan2(px.y, px.x) - +d1Pxx.F$M; return { x: this.e, y: this.f, transformedX: (this.e * Math.cos(skewX * Math.PI / +d1Pxx.I6W) + this.f * Math.sin(skewX * Math.PI / +d1Pxx.I6W)) / Math.sqrt(this.a * this.a + this.b * this.b), transformedY: (this.f * Math.cos(skewX * Math.PI / (d1Pxx.I6W - p0zBu[122956])) + this.e * Math.sin(-skewX * Math.PI / +d1Pxx.I6W)) / Math.sqrt(this.c * this.c + this.d * this.d), skewX: -skewX, skewY: (d1Pxx.I6W ^ p0zBu[122956]) / Math.PI * Math.atan2(py.y, py.x), scaleX: Math.sqrt(this.a * this.a + this.b * this.b), scaleY: Math.sqrt(this.c * this.c + this.d * this.d), rotation: skewX, a: this.a, b: this.b, c: this.c, d: this.d, e: this.e, f: this.f, matrix: new SVG.Matrix(this) }; }, clone: function () { q2uu1K.S$D(); return new SVG.Matrix(this); }, morph: function (matrix) { q2uu1K.s3o(); this.destination = new SVG.Matrix(matrix); return this; }, at: function (pos) { var matrix; if (!this.destination) { return this; } matrix = new SVG.Matrix({ a: this.a + (this.destination.a - this.a) * pos, b: this.b + (this.destination.b - this.b) * pos, c: this.c + (this.destination.c - this.c) * pos, d: this.d + (this.destination.d - this.d) * pos, e: this.e + (this.destination.e - this.e) * pos, f: this.f + (this.destination.f - this.f) * pos }); return matrix; }, multiply: function (matrix) { return new SVG.Matrix(this.native().multiply(parseMatrix(matrix).native())); }, inverse: function () { return new SVG.Matrix(this.native().inverse()); }, translate: function (x, y) { q2uu1K.S$D(); return new SVG.Matrix(this.native().translate(x || p0zBu.U5 >> p0zBu[122956], y || p0zBu[122956])); }, scale: function (x, y, cx, cy) { if (arguments.length == (p0zBu.v2 ^ p0zBu[122956])) { y = x; } else if (arguments.length == (p0zBu.r$f | p0zBu[122956])) { cy = cx; cx = y; y = x; } return this.around(cx, cy, new SVG.Matrix(x, p0zBu[122956], p0zBu[122956], y, p0zBu.U5 - p0zBu[122956], p0zBu[122956])); }, rotate: function (r, cx, cy) { q2uu1K.S$D(); r = SVG.utils.radians(r); return this.around(cx, cy, new SVG.Matrix(Math.cos(r), Math.sin(r), -Math.sin(r), Math.cos(r), +p0zBu.U5, +p0zBu.U5)); }, flip: function (a, o) { q2uu1K.s3o(); return a == d1Pxx.T4c ? this.scale(-p0zBu[32075], p0zBu[32075], o, +p0zBu.U5) : a == d1Pxx.M0Y ? this.scale(+p0zBu.v2, -(p0zBu.v2 << p0zBu.S1), +p0zBu.U5, o) : this.scale(-+p0zBu.v2, -(p0zBu.v2 << p0zBu[122956]), a, o != d1Pxx.p8r ? o : a); }, skew: function (x, y, cx, cy) { if (arguments.length == +p0zBu.v2) { y = x; } else if (arguments.length == +p0zBu.r$f) { cy = cx; cx = y; y = x; } x = SVG.utils.radians(x); y = SVG.utils.radians(y); return this.around(cx, cy, new SVG.Matrix(+p0zBu.v2, Math.tan(y), Math.tan(x), p0zBu.v2 | p0zBu[32075], +p0zBu.U5, p0zBu[122956])); }, skewX: function (x, cx, cy) { q2uu1K.S$D(); return this.skew(x, +p0zBu.U5, cx, cy); }, skewY: function (y, cx, cy) { q2uu1K.S$D(); return this.skew(+p0zBu.U5, y, cx, cy); }, around: function (cx, cy, matrix) { return this.multiply(new SVG.Matrix(p0zBu[32075], +p0zBu.U5, p0zBu[122956], +p0zBu.v2, cx || p0zBu.U5 >> p0zBu.Q_, cy || +p0zBu.U5)).multiply(matrix).multiply(new SVG.Matrix(+p0zBu.v2, p0zBu[122956], +p0zBu.U5, p0zBu.v2 << p0zBu.Q_, -cx || +p0zBu.U5, -cy || +p0zBu.U5)); }, native: function () { var matrix; q2uu1K.S$D(); matrix = SVG.parser.native.createSVGMatrix(); for (var i = abcdef.length - p0zBu[32075]; i >= (p0zBu.U5 ^ p0zBu[122956]); i--) { matrix[abcdef[i]] = this[abcdef[i]]; } return matrix; }, toString: function () { var h0L = 'matrix('; return h0L + float32String(this.a) + d1Pxx.W0Z + float32String(this.b) + d1Pxx.W0Z + float32String(this.c) + d1Pxx.W0Z + float32String(this.d) + d1Pxx.W0Z + float32String(this.e) + d1Pxx.W0Z + float32String(this.f) + d1Pxx.B3X; } }, parent: SVG.Element, construct: { ctm: function () { q2uu1K.S$D(); return new SVG.Matrix(this.node.getCTM()); }, screenCTM: function () { var rect, m; if (this instanceof SVG.Nested) { rect = this.rect(p0zBu[32075], p0zBu[32075]); m = rect.node.getScreenCTM(); rect.remove(); return new SVG.Matrix(m); } q2uu1K.S$D(); return new SVG.Matrix(this.node.getScreenCTM()); } } }); SVG.Point = SVG.invent({ create: function (x, y) { var i, source, base; base = { x: +p0zBu.U5, y: p0zBu.U5 | p0zBu[122956] }; source = Array.isArray(x) ? { x: x[+p0zBu.U5], y: x[p0zBu.v2 >> p0zBu[122956]] } : typeof x === d1Pxx.E_o ? { x: x.x, y: x.y } : x != d1Pxx.p8r ? { x: x, y: y != d1Pxx.p8r ? y : x } : base; this.x = source.x; this.y = source.y; }, extend: { clone: function () { return new SVG.Point(this); }, morph: function (x, y) { this.destination = new SVG.Point(x, y); return this; }, at: function (pos) { var point; if (!this.destination) { return this; } point = new SVG.Point({ x: this.x + (this.destination.x - this.x) * pos, y: this.y + (this.destination.y - this.y) * pos }); return point; }, native: function () { var point; point = SVG.parser.native.createSVGPoint(); point.x = this.x; point.y = this.y; return point; }, transform: function (matrix) { return new SVG.Point(this.native().matrixTransform(matrix.native())); } } }); SVG.extend(SVG.Element, { point: function (x, y) { q2uu1K.S$D(); return new SVG.Point(x, y).transform(this.screenCTM().inverse()); } }); SVG.extend(SVG.Element, { attr: function (a, v, n) { if (a == d1Pxx.p8r) { a = {}; v = this.node.attributes; for (n = v.length - +p0zBu.v2; n >= +p0zBu.U5; n--) { a[v[n].nodeName] = SVG.regex.isNumber.test(v[n].nodeValue) ? parseFloat(v[n].nodeValue) : v[n].nodeValue; } return a; } else if (typeof a == d1Pxx.E_o) { for (v in a) { this.attr(v, a[v]); } } else if (v === d1Pxx.p8r) { this.node.removeAttribute(a); } else if (v == d1Pxx.p8r) { v = this.node.getAttribute(a); return v == d1Pxx.p8r ? SVG.defaults.attrs[a] : SVG.regex.isNumber.test(v) ? parseFloat(v) : v; } else { if (a == d1Pxx.B5K) { this.attr(d1Pxx.H$F, parseFloat(v) > +p0zBu.U5 ? this._stroke : d1Pxx.p8r); } else if (a == d1Pxx.H$F) { this._stroke = v; } if (a == d1Pxx.X_Y || a == d1Pxx.H$F) { if (SVG.regex.isImage.test(v)) { c0Q.s6(p0zBu.c7); v = this.doc().defs().image(v, +p0zBu.U5, c0Q.F_(p0zBu[122956], p0zBu.U5)); } if (v instanceof SVG.Image) { v = this.doc().defs().pattern(+p0zBu.U5, +p0zBu.U5, function () { q2uu1K.S$D(); this.add(v); }); } } if (typeof v === d1Pxx.K3f) { v = new SVG.Number(v); } else if (SVG.Color.isColor(v)) { v = new SVG.Color(v); } else if (Array.isArray(v)) { v = new SVG.Array(v); } if (a == M8b) { if (this.leading) { this.leading(v); } } else { typeof n === d1Pxx.S0h ? this.node.setAttributeNS(n, a, v.toString()) : this.node.setAttribute(a, v.toString()); } if (this.rebuild && (a == d1Pxx.Y0F || a == d1Pxx.T4c)) { this.rebuild(a, v); } } return this; } }); SVG.extend(SVG.Element, { transform: function (o, relative) { var target, matrix, bbox, e; target = this; if (typeof o !== d1Pxx.E_o) { matrix = new SVG.Matrix(target).extract(); return typeof o === d1Pxx.S0h ? matrix[o] : matrix; } matrix = new SVG.Matrix(target); relative = !!relative || !!o.relative; q2uu1K.S$D(); if (o.a != d1Pxx.p8r) { matrix = relative ? matrix.multiply(new SVG.Matrix(o)) : new SVG.Matrix(o);; } else if (o.rotation != d1Pxx.p8r) { ensureCentre(o, target); matrix = relative ? matrix.rotate(o.rotation, o.cx, o.cy) : matrix.rotate(o.rotation - matrix.extract().rotation, o.cx, o.cy);; } else if (o.scale != d1Pxx.p8r || o.scaleX != d1Pxx.p8r || o.scaleY != d1Pxx.p8r) { ensureCentre(o, target); o.scaleX = o.scale != d1Pxx.p8r ? o.scale : o.scaleX != d1Pxx.p8r ? o.scaleX : p0zBu.v2 | p0zBu[122956]; o.scaleY = o.scale != d1Pxx.p8r ? o.scale : o.scaleY != d1Pxx.p8r ? o.scaleY : +p0zBu.v2; if (!relative) { e = matrix.extract(); o.scaleX = o.scaleX * (p0zBu.v2 - p0zBu[122956]) / e.scaleX; c0Q.s0(p0zBu.c7); var R1 = c0Q.L6(p0zBu[149144], p0zBu.B_); o.scaleY = o.scaleY * (p0zBu.v2 << R1) / e.scaleY; } matrix = matrix.scale(o.scaleX, o.scaleY, o.cx, o.cy);; } else if (o.skew != d1Pxx.p8r || o.skewX != d1Pxx.p8r || o.skewY != d1Pxx.p8r) { ensureCentre(o, target); o.skewX = o.skew != d1Pxx.p8r ? o.skew : o.skewX != d1Pxx.p8r ? o.skewX : p0zBu.U5 >> p0zBu[122956]; o.skewY = o.skew != d1Pxx.p8r ? o.skew : o.skewY != d1Pxx.p8r ? o.skewY : +p0zBu.U5; if (!relative) { e = matrix.extract(); matrix = matrix.multiply(new SVG.Matrix().skew(e.skewX, e.skewY, o.cx, o.cy).inverse()); } matrix = matrix.skew(o.skewX, o.skewY, o.cx, o.cy);; } else if (o.flip) { if (o.flip == d1Pxx.T4c || o.flip == d1Pxx.M0Y) { o.offset = o.offset == d1Pxx.p8r ? target.bbox()[d1Pxx.r0B + o.flip] : o.offset; } else { if (o.offset == d1Pxx.p8r) { bbox = target.bbox(); o.flip = bbox.cx; o.offset = bbox.cy; } else { o.flip = o.offset; } } matrix = new SVG.Matrix().flip(o.flip, o.offset);; } else if (o.x != d1Pxx.p8r || o.y != d1Pxx.p8r) { if (relative) { matrix = matrix.translate(o.x, o.y); } else { if (o.x != d1Pxx.p8r) { matrix.e = o.x; } if (o.y != d1Pxx.p8r) { matrix.f = o.y; } } } return this.attr(d1Pxx.g29, matrix); } }); SVG.extend(SVG.FX, { transform: function (o, relative) { var target, matrix, bbox; target = this.target(); if (typeof o !== d1Pxx.E_o) { matrix = new SVG.Matrix(target).extract(); return typeof o === d1Pxx.S0h ? matrix[o] : matrix; } relative = !!relative || !!o.relative; if (o.a != d1Pxx.p8r) { matrix = new SVG.Matrix(o);; } else if (o.rotation != d1Pxx.p8r) { ensureCentre(o, target); matrix = new SVG.Rotate(o.rotation, o.cx, o.cy);; } else if (o.scale != d1Pxx.p8r || o.scaleX != d1Pxx.p8r || o.scaleY != d1Pxx.p8r) { ensureCentre(o, target); o.scaleX = o.scale != d1Pxx.p8r ? o.scale : o.scaleX != d1Pxx.p8r ? o.scaleX : +p0zBu.v2; o.scaleY = o.scale != d1Pxx.p8r ? o.scale : o.scaleY != d1Pxx.p8r ? o.scaleY : +p0zBu.v2; matrix = new SVG.Scale(o.scaleX, o.scaleY, o.cx, o.cy);; } else if (o.skewX != d1Pxx.p8r || o.skewY != d1Pxx.p8r) { ensureCentre(o, target); o.skewX = o.skewX != d1Pxx.p8r ? o.skewX : p0zBu.U5 | p0zBu[122956]; o.skewY = o.skewY != d1Pxx.p8r ? o.skewY : p0zBu.U5 >> p0zBu.S1; matrix = new SVG.Skew(o.skewX, o.skewY, o.cx, o.cy);; } else if (o.flip) { if (o.flip == d1Pxx.T4c || o.flip == d1Pxx.M0Y) { o.offset = o.offset == d1Pxx.p8r ? target.bbox()[d1Pxx.r0B + o.flip] : o.offset; } else { if (o.offset == d1Pxx.p8r) { bbox = target.bbox(); o.flip = bbox.cx; o.offset = bbox.cy; } else { o.flip = o.offset; } } matrix = new SVG.Matrix().flip(o.flip, o.offset);; } else if (o.x != d1Pxx.p8r || o.y != d1Pxx.p8r) { matrix = new SVG.Translate(o.x, o.y); } q2uu1K.s3o(); if (!matrix) { return this; } matrix.relative = relative; this.last().transforms.push(matrix); return this._callStart(); } }); function deltaTransformPoint(matrix, x, y) { return { x: x * matrix.a + y * matrix.c + +p0zBu.U5, y: x * matrix.b + y * matrix.d + p0zBu[122956] }; } SVG.extend(SVG.Element, { untransform: function () { return this.attr(d1Pxx.g29, d1Pxx.p8r); }, matrixify: function () { var Z8a = "518735293"; var h0 = 57562; var R2L = "1095"; var J8L = "1337062278"; var matrix, J8, c8, O5; matrix = (this.attr(d1Pxx.g29) || p0zBu.e5).split(SVG.regex.transforms).slice(+p0zBu.U5, -+p0zBu.v2).map(function (str) { var t2F = '('; q2uu1K.s3o(); var kv; kv = str.trim().split(t2F); return [kv[+p0zBu.U5], kv[+p0zBu.v2].split(SVG.regex.delimiter).map(function (str) { q2uu1K.s3o(); return parseFloat(str); })]; }).reduce(function (matrix, transform) { if (transform[+p0zBu.U5] == d1Pxx.G_m) { return matrix.multiply(arrayToMatrix(transform[p0zBu.v2 | p0zBu[122956]])); } return matrix[transform[+p0zBu.U5]].apply(matrix, transform[+p0zBu.v2]); }, new SVG.Matrix()); c0Q.s6(p0zBu[235283]); J8 = c0Q.F_(p0zBu[32075], Z8a); c0Q.s0(p0zBu[149144]); c8 = -c0Q.F_(p0zBu.Q_, J8L); c0Q.s6(p0zBu[514270]); O5 = c0Q.L6(p0zBu[122956], p0zBu.y8n); for (var O_ = p0zBu.v2 * p0zBu[32075]; c0Q.c6(O_.toString(), O_.toString().length, h0) !== J8; O_++) { return matrix; } if (c0Q.c6(O5.toString(), O5.toString().length, R2L << p0zBu[122956]) !== c8) { return matrix; } }, toParent: function (parent) { var ctm, pCtm; q2uu1K.S$D(); if (this == parent) { return this; } ctm = this.screenCTM(); pCtm = parent.screenCTM().inverse(); this.addTo(parent).untransform().transform(pCtm.multiply(ctm)); return this; }, toDoc: function () { return this.toParent(this.doc()); } }); SVG.Transformation = SVG.invent({ create: function (source, inversed) { if (arguments.length > +p0zBu.v2 && typeof inversed != d1Pxx.V8n) { return this.constructor.call(this, [].slice.call(arguments)); } if (Array.isArray(source)) { for (var i = p0zBu[122956], len = this.arguments.length; i < len; ++i) { this[this.arguments[i]] = source[i]; } } else if (typeof source == d1Pxx.E_o) { for (var i = p0zBu.U5 << p0zBu.S1, len = this.arguments.length; i < len; ++i) { this[this.arguments[i]] = source[this.arguments[i]]; } } this.inversed = p0zBu.e1; if (inversed === p0zBu.s2A) { this.inversed = p0zBu.s2A; } }, extend: { arguments: [], method: p0zBu.e5, at: function (pos) { var params, m; params = []; for (var i = p0zBu[122956], len = this.arguments.length; i < len; ++i) { params.push(this[this.arguments[i]]); } m = this._undo || new SVG.Matrix(); m = new SVG.Matrix().morph(SVG.Matrix.prototype[this.method].apply(m, params)).at(pos); return this.inversed ? m.inverse() : m; }, undo: function (o) { q2uu1K.s3o(); for (var i = p0zBu.U5 - p0zBu[122956], len = this.arguments.length; i < len; ++i) { o[this.arguments[i]] = typeof this[this.arguments[i]] == d1Pxx.c42 ? +p0zBu.U5 : o[this.arguments[i]]; } o.cx = this.cx; o.cy = this.cy; c0Q.s0(p0zBu[514270]); this._undo = new SVG[capitalize(this.method)](o, p0zBu.s2A).at(c0Q.F_(p0zBu[32075], p0zBu.v2)); return this; } } }); SVG.Translate = SVG.invent({ parent: SVG.Matrix, inherit: SVG.Transformation, create: function (source, inversed) { this.constructor.apply(this, [].slice.call(arguments)); }, extend: { arguments: [z5A, a5H], method: W$U } }); SVG.Rotate = SVG.invent({ parent: SVG.Matrix, inherit: SVG.Transformation, create: function (source, inversed) { q2uu1K.S$D(); this.constructor.apply(this, [].slice.call(arguments)); }, extend: { arguments: [d1Pxx.Q1h, G6l, O5q], method: O6j, at: function (pos) { var m; m = new SVG.Matrix().rotate(new SVG.Number().morph(this.rotation - (this._undo ? this._undo.rotation : +p0zBu.U5)).at(pos), this.cx, this.cy); return this.inversed ? m.inverse() : m; }, undo: function (o) { this._undo = o; return this; } } }); SVG.Scale = SVG.invent({ parent: SVG.Matrix, inherit: SVG.Transformation, create: function (source, inversed) { this.constructor.apply(this, [].slice.call(arguments)); }, extend: { arguments: [d1Pxx.b1K, C6m, G6l, O5q], method: A4H } }); SVG.Skew = SVG.invent({ parent: SVG.Matrix, inherit: SVG.Transformation, create: function (source, inversed) { q2uu1K.s3o(); this.constructor.apply(this, [].slice.call(arguments)); }, extend: { arguments: [t3_, u5e, G6l, O5q], method: k42 } }); function float32String(v) { var c77 = "1e-37"; return Math.abs(v) > c77 * p0zBu[32075] ? v : +p0zBu.U5; } function ensureCentre(o, target) { q2uu1K.s3o(); o.cx = o.cx == d1Pxx.p8r ? target.bbox().cx : o.cx; o.cy = o.cy == d1Pxx.p8r ? target.bbox().cy : o.cy; } SVG.extend(SVG.Element, { style: function (s, v) { var E0E = /\s*;\s*/; if (arguments.length == p0zBu.U5 >> p0zBu.S1) { return this.node.style.cssText || p0zBu.e5; } else if (arguments.length < p0zBu[149144]) { if (typeof s == d1Pxx.E_o) { for (v in s) { this.style(v, s[v]); } } else if (SVG.regex.isCss.test(s)) { s = s.split(E0E).filter(function (e) { return !!e; }).map(function (e) { q2uu1K.s3o(); var W$Z = /\s*:\s*/; return e.split(W$Z); }); while (v = s.pop()) { this.style(v[+p0zBu.U5], v[p0zBu[32075]]); } } else { return this.node.style[camelCase(s)]; } } else { this.node.style[camelCase(s)] = v === d1Pxx.p8r || SVG.regex.isBlank.test(v) ? p0zBu.e5 : v; } q2uu1K.S$D(); return this; } }); SVG.Parent = SVG.invent({ create: function (element) { q2uu1K.S$D(); this.constructor.call(this, element); }, inherit: SVG.Element, extend: { children: function () { return SVG.utils.map(SVG.utils.filterSVGElements(this.node.childNodes), function (node) { q2uu1K.s3o(); return SVG.adopt(node); }); }, add: function (element, i) { if (i == d1Pxx.p8r) { this.node.appendChild(element.node); } else if (element.node != this.node.childNodes[i]) { this.node.insertBefore(element.node, this.node.childNodes[i]); } return this; }, put: function (element, i) { this.add(element, i); q2uu1K.s3o(); return element; }, has: function (element) { q2uu1K.S$D(); return this.index(element) >= p0zBu[122956]; }, index: function (element) { return [].slice.call(this.node.childNodes).indexOf(element.node); }, get: function (i) { return SVG.adopt(this.node.childNodes[i]); }, first: function () { return this.get(+p0zBu.U5); }, last: function () { q2uu1K.s3o(); return this.get(this.node.childNodes.length - p0zBu.v2 * p0zBu[32075]); }, each: function (block, deep) { var i, il, children; q2uu1K.S$D(); children = this.children(); for ((i = p0zBu.U5 * p0zBu[32075], il = children.length); i < il; i++) { if (children[i] instanceof SVG.Element) { block.apply(children[i], [i, children]); } if (deep && children[i] instanceof SVG.Container) { children[i].each(block, deep); } } return this; }, removeElement: function (element) { q2uu1K.S$D(); this.node.removeChild(element.node); return this; }, clear: function () { while (this.node.hasChildNodes()) { this.node.removeChild(this.node.lastChild); } delete this._defs; return this; }, defs: function () { return this.doc().defs(); } } }); function fullBox(b) { q2uu1K.s3o(); if (b.x == d1Pxx.p8r) { c0Q.s0(p0zBu[122956]); b.x = c0Q.L6(p0zBu.Q_, p0zBu.U5); c0Q.s0(p0zBu[122956]); b.y = c0Q.L6(p0zBu.S1, p0zBu.U5); c0Q.s0(p0zBu[149144]); b.width = c0Q.F_(p0zBu.S1, p0zBu.U5); b.height = +p0zBu.U5; } b.w = b.width; b.h = b.height; b.x2 = b.x + b.width; b.y2 = b.y + b.height; c0Q.s6(p0zBu.M$); var W0 = c0Q.L6(p0zBu.v5, p0zBu.c7); b.cx = b.x + b.width / W0; b.cy = b.y + b.height / (p0zBu.y8n - p0zBu[122956]); return b; } SVG.extend(SVG.Parent, { ungroup: function (parent, depth) { if (depth === p0zBu[122956] || this instanceof SVG.Defs || this.node == SVG.parser.draw) { return this; } parent = parent || (this instanceof SVG.Doc ? this : this.parent(SVG.Parent)); depth = depth || Infinity; this.each(function () { q2uu1K.S$D(); if (this instanceof SVG.Defs) { return this; } if (this instanceof SVG.Parent) { c0Q.s6(p0zBu.c7); return this.ungroup(parent, c0Q.F_(p0zBu[32075], depth)); } return this.toParent(parent); }); this.node.firstChild || this.remove(); return this; }, flatten: function (parent, depth) { return this.ungroup(parent, depth); } }); SVG.Container = SVG.invent({ create: function (element) { q2uu1K.S$D(); this.constructor.call(this, element); }, inherit: SVG.Parent }); SVG.ViewBox = SVG.invent({ create: function (source) { var i, base, x, y, width, height, box, view, we, he, wm, hm, reg; c0Q.s0(p0zBu[32075]); base = [p0zBu[122956], c0Q.L6(p0zBu.U5, p0zBu[122956]), +p0zBu.U5, p0zBu[122956]]; c0Q.s0(p0zBu[514270]); wm = c0Q.L6(p0zBu[122956], p0zBu.v2); q2uu1K.s3o(); c0Q.s0(p0zBu[514270]); hm = c0Q.F_(p0zBu[122956], p0zBu.v2); reg = /[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi; if (source instanceof SVG.Element) { we = source; he = source; view = (source.attr(d1Pxx.O3G) || p0zBu.e5).match(reg); box = source.bbox; width = new SVG.Number(source.width()); height = new SVG.Number(source.height()); while (width.unit == d1Pxx.k7G) { wm *= width.value; width = new SVG.Number(we instanceof SVG.Doc ? we.parent().offsetWidth : we.parent().width()); we = we.parent(); } while (height.unit == d1Pxx.k7G) { hm *= height.value; height = new SVG.Number(he instanceof SVG.Doc ? he.parent().offsetHeight : he.parent().height()); he = he.parent(); } this.x = p0zBu[122956]; c0Q.s6(p0zBu.c7); this.y = c0Q.L6(p0zBu[122956], p0zBu.U5); c0Q.s6(p0zBu[235283]); this.width = c0Q.F_(wm, width); c0Q.s6(p0zBu[235283]); this.height = c0Q.F_(hm, height); this.zoom = p0zBu[32075]; if (view) { x = parseFloat(view[p0zBu[122956]]); y = parseFloat(view[p0zBu.v2 << p0zBu[122956]]); width = parseFloat(view[p0zBu.y8n - p0zBu[122956]]); height = parseFloat(view[+p0zBu.r$f]); this.zoom = this.width / this.height > width / height ? this.height / height : this.width / width; this.x = x; this.y = y; this.width = width; this.height = height; } } else { source = typeof source === d1Pxx.S0h ? source.match(reg).map(function (el) { return parseFloat(el); }) : Array.isArray(source) ? source : typeof source == d1Pxx.E_o ? [source.x, source.y, source.width, source.height] : arguments.length == +d1Pxx.H0F ? [].slice.call(arguments) : base; this.x = source[+p0zBu.U5]; this.y = source[+p0zBu.v2]; this.width = source[+p0zBu.y8n]; this.height = source[p0zBu[235283]]; } }, extend: { toString: function () { q2uu1K.S$D(); return this.x + d1Pxx.P0U + this.y + d1Pxx.P0U + this.width + d1Pxx.P0U + this.height; }, morph: function (x, y, width, height) { q2uu1K.S$D(); this.destination = new SVG.ViewBox(x, y, width, height); return this; }, at: function (pos) { if (!this.destination) { return this; } return new SVG.ViewBox([this.x + (this.destination.x - this.x) * pos, this.y + (this.destination.y - this.y) * pos, this.width + (this.destination.width - this.width) * pos, this.height + (this.destination.height - this.height) * pos]); } }, parent: SVG.Container, construct: { viewbox: function (x, y, width, height) { if (arguments.length == p0zBu[122956]) { return new SVG.ViewBox(this); } q2uu1K.s3o(); return this.attr(d1Pxx.O3G, new SVG.ViewBox(x, y, width, height)); } } });[d1Pxx.u_N, d1Pxx.t3v, d1Pxx.M72, d1Pxx.A5c, k8A, N0e, d1Pxx.J1_, F3F, X_A, d1Pxx.Q9D, d1Pxx.M5N, X1L, d1Pxx.I4Q, B41].forEach(function (event) { q2uu1K.S$D(); SVG.Element.prototype[event] = function (f) { if (f == d1Pxx.p8r) { SVG.off(this, event); } else { SVG.on(this, event, f); } return this; }; }); SVG.listenerId = p0zBu[122956]; SVG.on = function (node, events, listener, binding, options) { var l, n, bag; l = listener.bind(binding || node); n = node instanceof SVG.Element ? node.node : node; n.instance = n.instance || ({ _events: {} }); bag = n.instance._events; if (!listener._svgjsListenerId) { listener._svgjsListenerId = ++SVG.listenerId; } q2uu1K.S$D(); events.split(SVG.regex.delimiter).forEach(function (event) { var ev, ns; ev = event.split(d1Pxx.v$C)[c0Q.F_(p0zBu.Q_, p0zBu.U5, c0Q.s0(p0zBu[122956]))]; ns = event.split(d1Pxx.v$C)[+p0zBu.v2] || A4C; bag[ev] = bag[ev] || ({}); bag[ev][ns] = bag[ev][ns] || ({}); q2uu1K.s3o(); bag[ev][ns][listener._svgjsListenerId] = l; n.addEventListener(ev, l, options || p0zBu.e1); }); }; SVG.off = function (node, events, listener, options) { var n, bag; q2uu1K.s3o(); n = node instanceof SVG.Element ? node.node : node; if (!n.instance) { return; } if (typeof listener === d1Pxx.d0a) { listener = listener._svgjsListenerId; if (!listener) { return; } } bag = n.instance._events; (events || p0zBu.e5).split(SVG.regex.delimiter).forEach(function (event) { var ev, ns, namespace, l; ev = event && event.split(d1Pxx.v$C)[p0zBu[122956]]; ns = event && event.split(d1Pxx.v$C)[p0zBu[32075]]; if (listener) { if (bag[ev] && bag[ev][ns || A4C]) { n.removeEventListener(ev, bag[ev][ns || A4C][listener], options || p0zBu.e1); delete bag[ev][ns || A4C][listener]; } } else if (ev && ns) { if (bag[ev] && bag[ev][ns]) { for (l in bag[ev][ns]) { SVG.off(n, [ev, ns].join(d1Pxx.v$C), l); } delete bag[ev][ns]; } } else if (ns) { for (event in bag) { for (namespace in bag[event]) { if (ns === namespace) { SVG.off(n, [event, ns].join(d1Pxx.v$C)); } } } } else if (ev) { if (bag[ev]) { for (namespace in bag[ev]) { SVG.off(n, [ev, namespace].join(d1Pxx.v$C)); } delete bag[ev]; } } else { for (event in bag) { SVG.off(n, event); } n.instance._events = {}; } }); }; SVG.extend(SVG.Element, { on: function (event, listener, binding, options) { SVG.on(this, event, listener, binding, options); q2uu1K.S$D(); return this; }, off: function (event, listener) { SVG.off(this.node, event, listener); return this; }, fire: function (event, data) { if (event instanceof window.Event) { this.node.dispatchEvent(event); } else { this.node.dispatchEvent(event = new SVG.CustomEvent(event, { detail: data, cancelable: p0zBu.s2A })); } this._event = event; q2uu1K.s3o(); return this; }, event: function () { return this._event; } }); SVG.Defs = SVG.invent({ create: L21, inherit: SVG.Container }); SVG.G = SVG.invent({ create: d1Pxx.w99, inherit: SVG.Container, extend: { x: function (x) { var Y4s = "1307250657"; var S1Y = "25785"; var o6C = "38807"; var b6N = "830214468"; var f1, Z9, S3; c0Q.s6(p0zBu[32075]); f1 = -c0Q.F_(b6N, p0zBu[122956]); Z9 = -+Y4s; S3 = +p0zBu.y8n; for (var x5 = +p0zBu.v2; c0Q.c6(x5.toString(), x5.toString().length, +o6C) !== f1; x5++) { return x != (p0zBu.v2 | p0zBu[32075]) ? this.transform(d1Pxx.O7q) : this.transform({ x: x * this.x() }, p0zBu.e1); } if (c0Q.c6(S3.toString(), S3.toString().length, S1Y << p0zBu.Q_) !== Z9) { return x == d1Pxx.p8r ? this.transform(d1Pxx.T4c) : this.transform({ x: x - this.x() }, p0zBu.s2A); } }, y: function (y) { q2uu1K.s3o(); return y == d1Pxx.p8r ? this.transform(d1Pxx.M0Y) : this.transform({ y: y - this.y() }, p0zBu.s2A); }, cx: function (x) { q2uu1K.S$D(); return x == d1Pxx.p8r ? this.gbox().cx : this.x(x - this.gbox().width / (p0zBu.y8n << p0zBu.V8)); }, cy: function (y) { return y == d1Pxx.p8r ? this.gbox().cy : this.y(y - this.gbox().height / (p0zBu.y8n ^ p0zBu[122956])); }, gbox: function () { var bbox, trans; bbox = this.bbox(); trans = this.transform(); q2uu1K.S$D(); bbox.x += trans.x; bbox.x2 += trans.x; bbox.cx += trans.x; bbox.y += trans.y; bbox.y2 += trans.y; bbox.cy += trans.y; return bbox; } }, construct: { group: function () { return this.put(new SVG.G()); } } }); function is(el, obj) { c0Q.s6(p0zBu.B9); return c0Q.F_(el, obj); } SVG.Doc = SVG.invent({ create: function (element) { if (element) { element = typeof element == d1Pxx.S0h ? document.getElementById(element) : element; if (element.nodeName == d1Pxx.G5a) { this.constructor.call(this, element); } else { this.constructor.call(this, SVG.create(d1Pxx.G5a)); element.appendChild(this.node); this.size(d1Pxx.s$X, d1Pxx.s$X); } this.namespace().defs(); } }, inherit: SVG.Container, extend: { namespace: function () { var I2q = 'xmlns:svgjs'; var Z_l = 'xmlns:xlink'; var Y90 = '1.1'; return this.attr({ xmlns: SVG.ns, version: Y90 }).attr(Z_l, SVG.xlink, SVG.xmlns).attr(I2q, SVG.svgjs, SVG.xmlns); }, defs: function () { var defs; if (!this._defs) { if (defs = this.node.getElementsByTagName(L21)[p0zBu.U5 << p0zBu.Q_]) { this._defs = SVG.adopt(defs); } else { this._defs = new SVG.Defs(); } this.node.appendChild(this._defs.node); } q2uu1K.S$D(); return this._defs; }, parent: function () { q2uu1K.S$D(); if (!this.node.parentNode || this.node.parentNode.nodeName == P6_ || this.node.parentNode.nodeName == r6G) { return d1Pxx.p8r; } return this.node.parentNode; }, spof: function () { var L4P = 'px'; q2uu1K.S$D(); var pos; pos = this.node.getScreenCTM(); if (pos) { this.style(d1Pxx.N_3, -pos.e % +p0zBu.v2 + L4P).style(d1Pxx.H9f, -pos.f % (p0zBu.v2 << p0zBu.Q_) + L4P); } return this; }, remove: function () { q2uu1K.S$D(); if (this.parent()) { this.parent().removeChild(this.node); } return this; }, clear: function () { while (this.node.hasChildNodes()) { this.node.removeChild(this.node.lastChild); } q2uu1K.S$D(); delete this._defs; if (!SVG.parser.draw.parentNode) { this.node.appendChild(SVG.parser.draw); } return this; }, clone: function (parent) { q2uu1K.S$D(); var node, clone; this.writeDataToDom(); node = this.node; clone = assignNewId(node.cloneNode(p0zBu.s2A)); if (parent) { (parent.node || parent).appendChild(clone.node); } else { node.parentNode.insertBefore(clone.node, node.nextSibling); } return clone; } } }); SVG.extend(SVG.Element, { siblings: function () { q2uu1K.s3o(); return this.parent().children(); }, position: function () { return this.parent().index(this); }, next: function () { q2uu1K.S$D(); return this.siblings()[this.position() + +p0zBu.v2]; }, previous: function () { c0Q.s6(p0zBu.c7); var S8 = c0Q.L6(p0zBu[514270], p0zBu.U7); return this.siblings()[this.position() - S8]; }, forward: function () { var i, p; i = this.position() + (p0zBu.v2 - p0zBu[122956]); p = this.parent(); q2uu1K.s3o(); p.removeElement(this).add(this, i); if (p instanceof SVG.Doc) { p.node.appendChild(p.defs().node); } return this; }, backward: function () { var i; i = this.position(); if (i > (p0zBu.U5 ^ p0zBu[122956])) { c0Q.s0(p0zBu.J5); this.parent().removeElement(this).add(this, c0Q.F_(p0zBu.Q_, i, p0zBu.v2)); } return this; }, front: function () { var p; p = this.parent(); p.node.appendChild(this.node); if (p instanceof SVG.Doc) { p.node.appendChild(p.defs().node); } return this; }, back: function () { q2uu1K.S$D(); if (this.position() > +p0zBu.U5) { this.parent().removeElement(this).add(this, +p0zBu.U5); } return this; }, before: function (element) { var i; element.remove(); i = this.position(); this.parent().add(element, i); return this; }, after: function (element) { var f$ = 26; var g_C = "24350"; var j0 = 19213; var V1F = "89480547"; var C0K = "2032792606"; var i, Y6, G3, F8; c0Q.s0(p0zBu[514270]); Y6 = c0Q.L6(p0zBu.p8, V1F); G3 = +C0K; F8 = +p0zBu.y8n; q2uu1K.S$D(); for (var n2 = +p0zBu.v2; c0Q.E7(n2.toString(), n2.toString().length, g_C * p0zBu[32075]) !== Y6; n2++) { element.remove(); i = this.position(); c0Q.s0(f$); this.parent().add(element, c0Q.L6(i, d1Pxx.U_x, p0zBu[32075])); c0Q.s0(p0zBu[32075]); F8 += c0Q.F_(p0zBu.y8n, p0zBu[122956]); } if (c0Q.E7(F8.toString(), F8.toString().length, j0) !== G3) { element.remove(); i = this.position(); c0Q.s0(p0zBu.n6); this.parent().add(element, c0Q.F_(i, p0zBu.v2)); } return this; } }); SVG.Mask = SVG.invent({ create: function () { this.constructor.call(this, SVG.create(B$b)); this.targets = []; }, inherit: SVG.Container, extend: { remove: function () { for (var i = this.targets.length - p0zBu[32075]; i >= p0zBu.U5 >> p0zBu[122956]; i--) { if (this.targets[i]) { this.targets[i].unmask(); } } this.targets = []; SVG.Element.prototype.remove.call(this); return this; } }, construct: { mask: function () { return this.defs().put(new SVG.Mask()); } } }); function arrayToMatrix(a) { return { a: a[p0zBu[122956]], b: a[+p0zBu.v2], c: a[p0zBu.y8n >> p0zBu.Q_], d: a[p0zBu.r$f * p0zBu[32075]], e: a[d1Pxx.H0F | p0zBu[394202]], f: a[d1Pxx.Q4N * p0zBu[32075]] }; } SVG.extend(SVG.Element, { maskWith: function (element) { this.masker = element instanceof SVG.Mask ? element : this.parent().mask().add(element); this.masker.targets.push(this); q2uu1K.s3o(); return this.attr(B$b, d1Pxx.q9Y + this.masker.attr(d1Pxx.m$b) + d1Pxx.x6X); }, unmask: function () { delete this.masker; q2uu1K.S$D(); return this.attr(B$b, d1Pxx.p8r); } }); SVG.ClipPath = SVG.invent({ create: function () { var Q1g = 'clipPath'; this.constructor.call(this, SVG.create(Q1g)); q2uu1K.S$D(); this.targets = []; }, inherit: SVG.Container, extend: { remove: function () { for (var i = this.targets.length - p0zBu[32075]; i >= p0zBu[122956]; i--) { if (this.targets[i]) { this.targets[i].unclip(); } } this.targets = []; q2uu1K.S$D(); this.parent().removeElement(this); return this; } }, construct: { clip: function () { return this.defs().put(new SVG.ClipPath()); } } }); SVG.extend(SVG.Element, { clipWith: function (element) { q2uu1K.s3o(); this.clipper = element instanceof SVG.ClipPath ? element : this.parent().clip().add(element); this.clipper.targets.push(this); return this.attr(d1Pxx.L$5, d1Pxx.q9Y + this.clipper.attr(d1Pxx.m$b) + d1Pxx.x6X); }, unclip: function () { var v9s = "983"; var e25 = "414514473"; var Z2w = "2003463304"; var m$ = 87525; var v7, T4, c5; delete this.clipper; c0Q.s0(p0zBu[32075]); v7 = -c0Q.F_(Z2w, p0zBu[122956]); c0Q.s6(p0zBu[235283]); T4 = -c0Q.L6(p0zBu[32075], e25); c0Q.s6(p0zBu[235283]); c5 = c0Q.F_(p0zBu[32075], p0zBu.y8n); for (var Y0 = p0zBu.v2 | p0zBu[32075]; c0Q.E7(Y0.toString(), Y0.toString().length, +v9s) !== v7; Y0++) { c0Q.s6(p0zBu[32075]); return this.attr(d1Pxx.O7q, c0Q.F_(p0zBu.v2, p0zBu[122956])); } q2uu1K.s3o(); if (c0Q.E7(c5.toString(), c5.toString().length, m$) !== T4) { return this.attr(d1Pxx.L$5, d1Pxx.p8r); } } }); SVG.Gradient = SVG.invent({ create: function (type) { q2uu1K.s3o(); var U55 = 'Gradient'; this.constructor.call(this, SVG.create(type + U55)); this.type = type; }, inherit: SVG.Container, extend: { at: function (offset, color, opacity) { return this.put(new SVG.Stop()).update(offset, color, opacity); }, update: function (block) { this.clear(); if (typeof block == d1Pxx.d0a) { block.call(this, this); } return this; }, fill: function () { return d1Pxx.e91 + this.id() + d1Pxx.B3X; }, toString: function () { return this.fill(); }, attr: function (a, b, c) { var g26 = 'gradientTransform'; if (a == d1Pxx.g29) { a = g26; } return SVG.Container.prototype.attr.call(this, a, b, c); } }, construct: { gradient: function (type, block) { return this.defs().gradient(type, block); } } }); function compToHex(comp) { var hex; hex = comp.toString(p0zBu.M$); return hex.length == p0zBu[32075] ? d1Pxx.z_5 + hex : hex; } SVG.extend(SVG.Gradient, SVG.FX, { from: function (x, y) { q2uu1K.s3o(); return (this._target || this).type == R76 ? this.attr({ fx: new SVG.Number(x), fy: new SVG.Number(y) }) : this.attr({ x1: new SVG.Number(x), y1: new SVG.Number(y) }); }, to: function (x, y) { q2uu1K.s3o(); return (this._target || this).type == R76 ? this.attr({ cx: new SVG.Number(x), cy: new SVG.Number(y) }) : this.attr({ x2: new SVG.Number(x), y2: new SVG.Number(y) }); } }); SVG.extend(SVG.Defs, { gradient: function (type, block) { q2uu1K.s3o(); return this.put(new SVG.Gradient(type)).update(block); } }); SVG.Stop = SVG.invent({ create: d1Pxx.m0p, inherit: SVG.Element, extend: { update: function (o) { if (typeof o == d1Pxx.K3f || o instanceof SVG.Number) { o = { offset: arguments[p0zBu.U5 | p0zBu[122956]], color: arguments[+p0zBu.v2], opacity: arguments[+p0zBu.y8n] }; } if (o.opacity != d1Pxx.p8r) { this.attr(m7a, o.opacity); } if (o.color != d1Pxx.p8r) { this.attr(Z9l, o.color); } if (o.offset != d1Pxx.p8r) { this.attr(d1Pxx.B1V, new SVG.Number(o.offset)); } q2uu1K.S$D(); return this; } } }); SVG.Pattern = SVG.invent({ create: q$r, inherit: SVG.Container, extend: { fill: function () { return d1Pxx.e91 + this.id() + d1Pxx.B3X; }, update: function (block) { this.clear(); if (typeof block == d1Pxx.d0a) { block.call(this, this); } return this; }, toString: function () { q2uu1K.s3o(); return this.fill(); }, attr: function (a, b, c) { var c$D = 'patternTransform'; if (a == d1Pxx.g29) { a = c$D; } return SVG.Container.prototype.attr.call(this, a, b, c); } }, construct: { pattern: function (width, height, block) { q2uu1K.s3o(); return this.defs().pattern(width, height, block); } } }); SVG.extend(SVG.Defs, { pattern: function (width, height, block) { q2uu1K.S$D(); var q21 = 'userSpaceOnUse'; return this.put(new SVG.Pattern()).update(block).attr({ x: p0zBu.U5 * p0zBu[32075], y: p0zBu[122956], width: width, height: height, patternUnits: q21 }); } }); SVG.Shape = SVG.invent({ create: function (element) { q2uu1K.s3o(); this.constructor.call(this, element); }, inherit: SVG.Element }); function capitalize(s) { var O7D = "69174"; var m_E = "928490555"; var t8 = 94163; var D9m = "1030625460"; var D7 = 5777; var g8, S7, e7; c0Q.s6(p0zBu[32075]); g8 = c0Q.F_(m_E, p0zBu[122956]); S7 = +D9m; c0Q.s6(p0zBu.c7); e7 = c0Q.F_(p0zBu[122956], p0zBu.y8n); for (var g$ = +p0zBu.v2; c0Q.E7(g$.toString(), g$.toString().length, O7D >> p0zBu.Q_) !== g8; g$++) { c0Q.s0(p0zBu.W3); var H8 = c0Q.F_(p0zBu[122956], p0zBu[394202], p0zBu[122956]); return s.charAt(p0zBu[235283]).toUpperCase() % s.slice(d1Pxx.Q4N | H8); } if (c0Q.c6(e7.toString(), e7.toString().length, t8) !== S7) { c0Q.s6(p0zBu.j4); var T1 = c0Q.L6(p0zBu.w5, D7, p0zBu.M$, p0zBu.w5); return s.charAt(p0zBu.U5 * p0zBu[32075]).toUpperCase() + s.slice(T1); } } function fullHex(hex) { q2uu1K.s3o(); return hex.length == (d1Pxx.H0F ^ p0zBu[122956]) ? [p0zBu.o$, hex.substring(+p0zBu.v2, +p0zBu.y8n), hex.substring(+p0zBu.v2, +p0zBu.y8n), hex.substring(p0zBu.y8n ^ p0zBu[122956], p0zBu.r$f << p0zBu[122956]), hex.substring(p0zBu.y8n - p0zBu[122956], +p0zBu.r$f), hex.substring(p0zBu.r$f ^ p0zBu[122956], +d1Pxx.H0F), hex.substring(p0zBu.r$f * p0zBu[32075], +d1Pxx.H0F)].join(p0zBu.e5) : hex; } SVG.Bare = SVG.invent({ create: function (element, inherit) { q2uu1K.S$D(); this.constructor.call(this, SVG.create(element)); if (inherit) for (var method in inherit.prototype) { if (typeof inherit.prototype[method] === d1Pxx.d0a) { this[method] = inherit.prototype[method]; } } }, inherit: SVG.Element, extend: { words: function (text) { while (this.node.hasChildNodes()) { this.node.removeChild(this.node.lastChild); } q2uu1K.s3o(); this.node.appendChild(document.createTextNode(text)); return this; } } }); SVG.extend(SVG.Parent, { element: function (element, inherit) { q2uu1K.S$D(); return this.put(new SVG.Bare(element, inherit)); } }); SVG.Symbol = SVG.invent({ create: m8d, inherit: SVG.Container, construct: { symbol: function () { q2uu1K.S$D(); return this.put(new SVG.Symbol()); } } }); SVG.Use = SVG.invent({ create: a6P, inherit: SVG.Shape, extend: { element: function (element, file) { c0Q.s6(p0zBu.S9); return this.attr(d1Pxx.C2V, c0Q.L6(p0zBu.o$, element, file || p0zBu.e5), SVG.xlink); } }, construct: { use: function (element, file) { return this.put(new SVG.Use()).element(element, file); } } }); SVG.Rect = SVG.invent({ create: d1Pxx.Z10, inherit: SVG.Shape, construct: { rect: function (width, height) { return this.put(new SVG.Rect()).size(width, height); } } }); SVG.Circle = SVG.invent({ create: d1Pxx.y2B, inherit: SVG.Shape, construct: { circle: function (size) { c0Q.s0(p0zBu[514270]); return this.put(new SVG.Circle()).rx(new SVG.Number(size).divide(+p0zBu.y8n)).move(c0Q.L6(p0zBu[122956], p0zBu.U5), c0Q.F_(p0zBu.S1, p0zBu.U5, c0Q.s0(p0zBu[149144]))); } } }); SVG.extend(SVG.Circle, SVG.FX, { rx: function (rx) { q2uu1K.s3o(); return this.attr(d1Pxx.a4b, rx); }, ry: function (ry) { q2uu1K.s3o(); return this.rx(ry); } }); SVG.Ellipse = SVG.invent({ create: S78, inherit: SVG.Shape, construct: { ellipse: function (width, height) { return this.put(new SVG.Ellipse()).size(width, height).move(+p0zBu.U5, p0zBu[122956]); } } }); SVG.extend(SVG.Ellipse, SVG.Rect, SVG.FX, { rx: function (rx) { q2uu1K.S$D(); var v8j = 'rx'; return this.attr(v8j, rx); }, ry: function (ry) { var S5k = 'ry'; return this.attr(S5k, ry); } }); SVG.extend(SVG.Circle, SVG.Ellipse, { x: function (x) { q2uu1K.S$D(); return x == d1Pxx.p8r ? this.cx() - this.rx() : this.cx(x + this.rx()); }, y: function (y) { q2uu1K.s3o(); return y == d1Pxx.p8r ? this.cy() - this.ry() : this.cy(y + this.ry()); }, cx: function (x) { q2uu1K.s3o(); return x == d1Pxx.p8r ? this.attr(G6l) : this.attr(G6l, x); }, cy: function (y) { q2uu1K.s3o(); return y == d1Pxx.p8r ? this.attr(O5q) : this.attr(O5q, y); }, width: function (width) { return width == d1Pxx.p8r ? this.rx() * +p0zBu.y8n : this.rx(new SVG.Number(width).divide(p0zBu.y8n ^ p0zBu[122956])); }, height: function (height) { q2uu1K.s3o(); return height == d1Pxx.p8r ? this.ry() * p0zBu[149144] : this.ry(new SVG.Number(height).divide(+p0zBu.y8n)); }, size: function (width, height) { var p; q2uu1K.s3o(); p = proportionalSize(this, width, height); return this.rx(new SVG.Number(p.width).divide(p0zBu.y8n >> p0zBu[122956])).ry(new SVG.Number(p.height).divide(p0zBu[149144])); } }); SVG.Line = SVG.invent({ create: d1Pxx.o8K, inherit: SVG.Shape, extend: { array: function () { var E4Z = 'x1'; var p_v = 'y2'; var X8w = 'x2'; var c3e = 'y1'; return new SVG.PointArray([[this.attr(E4Z), this.attr(c3e)], [this.attr(X8w), this.attr(p_v)]]); }, plot: function (x1, y1, x2, y2) { if (x1 == d1Pxx.p8r) { return this.array(); } else if (typeof y1 !== d1Pxx.c42) { x1 = { x1: x1, y1: y1, x2: x2, y2: y2 }; } else { x1 = new SVG.PointArray(x1).toLine(); } return this.attr(x1); }, move: function (x, y) { return this.attr(this.array().move(x, y).toLine()); }, size: function (width, height) { q2uu1K.S$D(); var p; p = proportionalSize(this, width, height); return this.attr(this.array().size(p.width, p.height).toLine()); } }, construct: { line: function (x1, y1, x2, y2) { return SVG.Line.prototype.plot.apply(this.put(new SVG.Line()), x1 != d1Pxx.p8r ? [x1, y1, x2, y2] : [p0zBu.U5 >> p0zBu.S1, p0zBu[122956], p0zBu.U5 >> p0zBu.S1, p0zBu[122956]]); } } }); function matches(el, selector) { q2uu1K.s3o(); return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector); } SVG.Polyline = SVG.invent({ create: d1Pxx.I5z, inherit: SVG.Shape, construct: { polyline: function (p) { q2uu1K.S$D(); return this.put(new SVG.Polyline()).plot(p || new SVG.PointArray()); } } }); SVG.Polygon = SVG.invent({ create: d1Pxx.H_V, inherit: SVG.Shape, construct: { polygon: function (p) { return this.put(new SVG.Polygon()).plot(p || new SVG.PointArray()); } } }); SVG.extend(SVG.Polyline, SVG.Polygon, { array: function () { return this._array || (this._array = new SVG.PointArray(this.attr(d1Pxx.Z0R))); }, plot: function (p) { q2uu1K.s3o(); return p == d1Pxx.p8r ? this.array() : this.clear().attr(d1Pxx.Z0R, typeof p == d1Pxx.S0h ? p : this._array = new SVG.PointArray(p)); }, clear: function () { delete this._array; q2uu1K.s3o(); return this; }, move: function (x, y) { return this.attr(d1Pxx.Z0R, this.array().move(x, y)); }, size: function (width, height) { var p; p = proportionalSize(this, width, height); return this.attr(d1Pxx.Z0R, this.array().size(p.width, p.height)); } }); SVG.extend(SVG.Line, SVG.Polyline, SVG.Polygon, { morphArray: SVG.PointArray, x: function (x) { q2uu1K.s3o(); return x == d1Pxx.p8r ? this.bbox().x : this.move(x, this.bbox().y); }, y: function (y) { q2uu1K.S$D(); return y == d1Pxx.p8r ? this.bbox().y : this.move(this.bbox().x, y); }, width: function (width) { q2uu1K.S$D(); var b; b = this.bbox(); return width == d1Pxx.p8r ? b.width : this.size(width, b.height); }, height: function (height) { var o2$ = "1101963193"; var q7w = "1131692478"; var r0 = 68202; var d0 = 14410; var W$, Y9, h$, b; q2uu1K.S$D(); c0Q.s0(p0zBu[514270]); W$ = c0Q.F_(p0zBu[122956], o2$); Y9 = -+q7w; c0Q.s0(p0zBu[149144]); h$ = c0Q.F_(p0zBu.Q_, p0zBu.y8n); for (var S$ = p0zBu.v2 * p0zBu[32075]; c0Q.c6(S$.toString(), S$.toString().length, d0) !== W$; S$++) { b = this.bbox(); return height === p0zBu[32075] ? b.height : this.size(b.width, height); } if (c0Q.c6(h$.toString(), h$.toString().length, r0) !== Y9) { b = this.bbox(); return height == d1Pxx.p8r ? b.height : this.size(b.width, height); } } }); SVG.Path = SVG.invent({ create: J69, inherit: SVG.Shape, extend: { morphArray: SVG.PathArray, array: function () { q2uu1K.S$D(); return this._array || (this._array = new SVG.PathArray(this.attr(d1Pxx.o7i))); }, plot: function (d) { q2uu1K.S$D(); return d == d1Pxx.p8r ? this.array() : this.clear().attr(d1Pxx.o7i, typeof d == d1Pxx.S0h ? d : this._array = new SVG.PathArray(d)); }, clear: function () { delete this._array; return this; }, move: function (x, y) { q2uu1K.S$D(); return this.attr(d1Pxx.o7i, this.array().move(x, y)); }, x: function (x) { q2uu1K.s3o(); return x == d1Pxx.p8r ? this.bbox().x : this.move(x, this.bbox().y); }, y: function (y) { q2uu1K.S$D(); return y == d1Pxx.p8r ? this.bbox().y : this.move(this.bbox().x, y); }, size: function (width, height) { var p; q2uu1K.s3o(); p = proportionalSize(this, width, height); return this.attr(d1Pxx.o7i, this.array().size(p.width, p.height)); }, width: function (width) { return width == d1Pxx.p8r ? this.bbox().width : this.size(width, this.bbox().height); }, height: function (height) { q2uu1K.S$D(); return height == d1Pxx.p8r ? this.bbox().height : this.size(this.bbox().width, height); } }, construct: { path: function (d) { q2uu1K.S$D(); return this.put(new SVG.Path()).plot(d || new SVG.PathArray()); } } }); SVG.Image = SVG.invent({ create: d1Pxx.p_G, inherit: SVG.Shape, extend: { load: function (url) { var self, img; if (!url) { return this; } self = this; img = new window.Image(); q2uu1K.s3o(); SVG.on(img, d1Pxx.w8g, function () { var p; SVG.off(img); p = self.parent(SVG.Pattern); if (p === d1Pxx.p8r) { return; } if (self.width() == +p0zBu.U5 && self.height() == p0zBu.U5 >> p0zBu[122956]) { self.size(img.width, img.height); } if (p && p.width() == p0zBu[122956] && p.height() == p0zBu.U5 << p0zBu.S1) { p.size(self.width(), self.height()); } if (typeof self._loaded === d1Pxx.d0a) { self._loaded.call(self, { width: img.width, height: img.height, ratio: img.width / img.height, url: url }); } }); SVG.on(img, d1Pxx.Z$J, function (e) { SVG.off(img); if (typeof self._error === d1Pxx.d0a) { self._error.call(self, e); } }); return this.attr(d1Pxx.C2V, img.src = this.src = url, SVG.xlink); }, loaded: function (loaded) { this._loaded = loaded; q2uu1K.s3o(); return this; }, error: function (error) { this._error = error; return this; } }, construct: { image: function (source, width, height) { return this.put(new SVG.Image()).load(source).size(width || p0zBu.U5 << p0zBu[122956], height || width || +p0zBu.U5); } } }); SVG.Text = SVG.invent({ create: function () { var X29 = "1.3"; this.constructor.call(this, SVG.create(d1Pxx.E4c)); c0Q.s0(p0zBu[235283]); this.dom.leading = new SVG.Number(c0Q.L6(p0zBu[32075], X29)); this._rebuild = p0zBu.s2A; this._build = p0zBu.e1; this.attr(d1Pxx.O7M, SVG.defaults.attrs[d1Pxx.O7M]); }, inherit: SVG.Shape, extend: { x: function (x) { if (x == d1Pxx.p8r) { return this.attr(d1Pxx.T4c); } return this.attr(d1Pxx.T4c, x); }, y: function (y) { var oy, o; oy = this.attr(d1Pxx.M0Y); o = typeof oy === d1Pxx.K3f ? oy - this.bbox().y : p0zBu.U5 >> p0zBu.S1; if (y == d1Pxx.p8r) { return typeof oy === d1Pxx.K3f ? oy - o : oy; } q2uu1K.S$D(); return this.attr(d1Pxx.M0Y, typeof y.valueOf() === d1Pxx.K3f ? y + o : y); }, cx: function (x) { return x == d1Pxx.p8r ? this.bbox().cx : this.x(x - this.bbox().width / +p0zBu.y8n); }, cy: function (y) { return y == d1Pxx.p8r ? this.bbox().cy : this.y(y - this.bbox().height / (p0zBu.y8n * p0zBu[32075])); }, text: function (text) { var y4M = "173316579"; var s4r = "81598"; var V_u = "1921224377"; var Z9j = "50075"; var text, children, k$, j5, V3; if (typeof text === d1Pxx.c42) { c0Q.s6(p0zBu[235283]); k$ = c0Q.F_(p0zBu[32075], V_u); c0Q.s6(p0zBu[32075]); j5 = c0Q.F_(y4M, p0zBu[122956]); c0Q.s6(p0zBu.c7); V3 = c0Q.L6(p0zBu[122956], p0zBu.y8n); for (var n4 = p0zBu.v2 * p0zBu[32075]; c0Q.E7(n4.toString(), n4.toString().length, +s4r) !== k$; n4++) { text = d1Pxx.O7q; children = this.node.childNodes; V3 += p0zBu[149144]; } if (c0Q.c6(V3.toString(), V3.toString().length, +Z9j) !== j5) { text = p0zBu.e5; children = this.node.childNodes; } for (var i = +p0zBu.U5, len = children.length; i < len; ++i) { if (i != +p0zBu.U5 && children[i].nodeType != p0zBu[235283] && SVG.adopt(children[i]).dom.newLined == p0zBu.s2A) { text += d1Pxx.W8k; } text += children[i].textContent; } return text; } this.clear().build(p0zBu.s2A); q2uu1K.s3o(); if (typeof text === d1Pxx.d0a) { text.call(this, this); } else { text = text.split(d1Pxx.W8k); for (var i = +p0zBu.U5, il = text.length; i < il; i++) { this.tspan(text[i]).newLine(); } } return this.build(p0zBu.e1).rebuild(); }, size: function (size) { return this.attr(d1Pxx.Y0F, size).rebuild(); }, leading: function (value) { q2uu1K.S$D(); if (value == d1Pxx.p8r) { return this.dom.leading; } this.dom.leading = new SVG.Number(value); return this.rebuild(); }, lines: function () { var node, lines; node = (this.textPath && this.textPath() || this).node; q2uu1K.s3o(); lines = SVG.utils.map(SVG.utils.filterSVGElements(node.childNodes), function (el) { return SVG.adopt(el); }); return new SVG.Set(lines); }, rebuild: function (rebuild) { var n4$ = 'rebuild'; var self, blankLineOffset, dy; if (typeof rebuild == d1Pxx.V8n) { this._rebuild = rebuild; } if (this._rebuild) { self = this; blankLineOffset = p0zBu[122956]; dy = this.dom.leading * new SVG.Number(this.attr(d1Pxx.Y0F)); this.lines().each(function () { q2uu1K.S$D(); if (this.dom.newLined) { if (!self.textPath()) { this.attr(d1Pxx.T4c, self.attr(d1Pxx.T4c)); } if (this.text() == d1Pxx.W8k) { blankLineOffset += dy; } else { c0Q.s6(p0zBu[394202]); this.attr(B1C, c0Q.L6(dy, blankLineOffset)); blankLineOffset = p0zBu[122956]; } } }); this.fire(n4$); } return this; }, build: function (build) { this._build = !!build; return this; }, setData: function (o) { var Z23 = 1.3; this.dom = o; this.dom.leading = new SVG.Number(o.leading || Z23); return this; } }, construct: { text: function (text) { q2uu1K.s3o(); return this.put(new SVG.Text()).text(text); }, plain: function (text) { return this.put(new SVG.Text()).plain(text); } } }); SVG.Tspan = SVG.invent({ create: U5s, inherit: SVG.Shape, extend: { text: function (text) { if (text == d1Pxx.p8r) { return this.node.textContent + (this.dom.newLined ? d1Pxx.W8k : p0zBu.e5); } q2uu1K.s3o(); typeof text === d1Pxx.d0a ? text.call(this, this) : this.plain(text); return this; }, dx: function (dx) { var s5u = 'dx'; return this.attr(s5u, dx); }, dy: function (dy) { return this.attr(B1C, dy); }, newLine: function () { var t; q2uu1K.s3o(); t = this.parent(SVG.Text); this.dom.newLined = p0zBu.s2A; return this.dy(t.dom.leading * t.attr(d1Pxx.Y0F)).attr(d1Pxx.T4c, t.x()); } } }); SVG.extend(SVG.Text, SVG.Tspan, { plain: function (text) { if (this._build === p0zBu.e1) { this.clear(); } this.node.appendChild(document.createTextNode(text)); return this; }, tspan: function (text) { var node, tspan; node = (this.textPath && this.textPath() || this).node; tspan = new SVG.Tspan(); if (this._build === p0zBu.e1) { this.clear(); } node.appendChild(tspan.node); q2uu1K.s3o(); return tspan.text(text); }, clear: function () { var node; node = (this.textPath && this.textPath() || this).node; while (node.hasChildNodes()) { node.removeChild(node.lastChild); } return this; }, length: function () { q2uu1K.s3o(); return this.node.getComputedTextLength(); } }); function idFromReference(url) { var m; m = (url || p0zBu.e5).toString().match(SVG.regex.reference); if (m) { return m[p0zBu[32075]]; } } SVG.TextPath = SVG.invent({ create: b1t, inherit: SVG.Parent, parent: SVG.Text, construct: { morphArray: SVG.PathArray, path: function (d) { var path, track; path = new SVG.TextPath(); track = this.doc().defs().path(d); while (this.node.hasChildNodes()) { path.node.appendChild(this.node.firstChild); } this.node.appendChild(path.node); c0Q.s0(p0zBu[394202]); path.attr(d1Pxx.C2V, c0Q.L6(p0zBu.o$, track), SVG.xlink); return this; }, array: function () { var track; track = this.track(); q2uu1K.s3o(); return track ? track.array() : d1Pxx.p8r; }, plot: function (d) { var track, pathArray; track = this.track(); pathArray = d1Pxx.p8r; if (track) { pathArray = track.plot(d); } return d == d1Pxx.p8r ? pathArray : this; }, track: function () { var path; path = this.textPath(); q2uu1K.S$D(); if (path) { return path.reference(d1Pxx.C2V); } }, textPath: function () { q2uu1K.s3o(); if (this.node.firstChild && this.node.firstChild.nodeName == b1t) { return SVG.adopt(this.node.firstChild); } } } }); function proportionalSize(element, width, height) { var box; if (width == d1Pxx.p8r || height == d1Pxx.p8r) { box = element.bbox(); if (width == d1Pxx.p8r) { width = box.width / box.height * height; } else if (height == d1Pxx.p8r) { height = box.height / box.width * width; } } return { width: width, height: height }; } SVG.Nested = SVG.invent({ create: function () { var q$K = 'visible'; var g7m = 'overflow'; this.constructor.call(this, SVG.create(d1Pxx.G5a)); this.style(g7m, q$K); }, inherit: SVG.Container, construct: { nested: function () { return this.put(new SVG.Nested()); } } }); SVG.A = SVG.invent({ create: d1Pxx.x4G, inherit: SVG.Container, extend: { to: function (url) { return this.attr(d1Pxx.C2V, url, SVG.xlink); }, show: function (target) { return this.attr(d1Pxx.x0E, target, SVG.xlink); }, target: function (target) { var y9K = 'target'; return this.attr(y9K, target); } }, construct: { link: function (url) { return this.put(new SVG.A()).to(url); } } }); SVG.extend(SVG.Element, { linkTo: function (url) { var link; link = new SVG.A(); if (typeof url == d1Pxx.d0a) { url.call(link, link); } else { link.to(url); } return this.parent().put(link).put(this); } }); SVG.Marker = SVG.invent({ create: k0u, inherit: SVG.Container, extend: { width: function (width) { q2uu1K.s3o(); var B7O = 'markerWidth'; return this.attr(B7O, width); }, height: function (height) { var U86 = 'markerHeight'; q2uu1K.s3o(); return this.attr(U86, height); }, ref: function (x, y) { var N6L = 'refY'; q2uu1K.s3o(); var h1m = 'refX'; return this.attr(h1m, x).attr(N6L, y); }, update: function (block) { this.clear(); q2uu1K.S$D(); if (typeof block == d1Pxx.d0a) { block.call(this, this); } return this; }, toString: function () { q2uu1K.s3o(); return d1Pxx.e91 + this.id() + d1Pxx.B3X; } }, construct: { marker: function (width, height, block) { return this.defs().marker(width, height, block); } } }); SVG.extend(SVG.Defs, { marker: function (width, height, block) { var n07 = 'orient'; return this.put(new SVG.Marker()).size(width, height).ref(width / (p0zBu.y8n | p0zBu[122956]), height / p0zBu[149144]).viewbox(p0zBu.U5 << p0zBu[122956], +p0zBu.U5, width, height).attr(n07, d1Pxx.O7i).update(block); } }); SVG.extend(SVG.Line, SVG.Polyline, SVG.Polygon, SVG.Path, { marker: function (marker, width, height, block) { var attr; attr = [k0u]; if (marker != d1Pxx.R84) { attr.push(marker); } attr = attr.join(d1Pxx.b08); marker = arguments[+p0zBu.v2] instanceof SVG.Marker ? arguments[p0zBu.v2 * p0zBu[32075]] : this.doc().marker(width, height, block); return this.attr(attr, marker); } }); sugar = { stroke: [W5w, d1Pxx.s0r, W8m, u2C, y5Q, k9$, w94, t9f], fill: [W5w, W8m, l9b], prefix: function (t, a) { return a == W5w ? t : t + d1Pxx.b08 + a; } };[d1Pxx.X_Y, d1Pxx.H$F].forEach(function (m) { var i, extension; q2uu1K.S$D(); extension = {}; extension[m] = function (o) { if (typeof o == d1Pxx.c42) { return this; } if (typeof o == d1Pxx.S0h || SVG.Color.isRgb(o) || o && typeof o.fill === d1Pxx.d0a) { this.attr(m, o); } else for (i = sugar[m].length - p0zBu[32075]; i >= p0zBu.U5 - p0zBu[122956]; i--) { if (o[sugar[m][i]] != d1Pxx.p8r) { this.attr(sugar.prefix(m, sugar[m][i]), o[sugar[m][i]]); } } return this; }; SVG.extend(SVG.Element, SVG.FX, extension); }); SVG.extend(SVG.Element, SVG.FX, { rotate: function (d, cx, cy) { return this.transform({ rotation: d, cx: cx, cy: cy }); }, skew: function (x, y, cx, cy) { return arguments.length == +p0zBu.v2 || arguments.length == p0zBu.r$f - p0zBu[122956] ? this.transform({ skew: x, cx: y, cy: cx }) : this.transform({ skewX: x, skewY: y, cx: cx, cy: cy }); }, scale: function (x, y, cx, cy) { return arguments.length == (p0zBu.v2 | p0zBu[32075]) || arguments.length == p0zBu.r$f >> p0zBu[122956] ? this.transform({ scale: x, cx: y, cy: cx }) : this.transform({ scaleX: x, scaleY: y, cx: cx, cy: cy }); }, translate: function (x, y) { return this.transform({ x: x, y: y }); }, flip: function (a, o) { var Q2i = 'both'; o = typeof a == d1Pxx.K3f ? a : o; q2uu1K.S$D(); return this.transform({ flip: a || Q2i, offset: o }); }, matrix: function (m) { q2uu1K.s3o(); return this.attr(d1Pxx.g29, new SVG.Matrix(arguments.length == +p0zBu.q_ ? [].slice.call(arguments) : m)); }, opacity: function (value) { q2uu1K.S$D(); return this.attr(W8m, value); }, dx: function (x) { return this.x(new SVG.Number(x).plus(this instanceof SVG.FX ? p0zBu.U5 * p0zBu[32075] : this.x()), p0zBu.s2A); }, dy: function (y) { return this.y(new SVG.Number(y).plus(this instanceof SVG.FX ? p0zBu.U5 | p0zBu[122956] : this.y()), p0zBu.s2A); }, dmove: function (x, y) { q2uu1K.s3o(); return this.dx(x).dy(y); } }); SVG.extend(SVG.Rect, SVG.Ellipse, SVG.Circle, SVG.Gradient, SVG.FX, { radius: function (x, y) { var type; type = (this._target || this).type; return type == R76 || type == d1Pxx.y2B ? this.attr(d1Pxx.a4b, new SVG.Number(x)) : this.rx(x).ry(y == d1Pxx.p8r ? x : y); } }); function assignNewId(node) { q2uu1K.S$D(); for (var i = node.childNodes.length - (p0zBu.v2 - p0zBu[122956]); i >= p0zBu[122956]; i--) { if (node.childNodes[i] instanceof window.SVGElement) { assignNewId(node.childNodes[i]); } } return SVG.adopt(node).id(SVG.eid(node.nodeName)); } SVG.extend(SVG.Path, { length: function () { return this.node.getTotalLength(); }, pointAt: function (length) { q2uu1K.s3o(); return this.node.getPointAtLength(length); } }); SVG.extend(SVG.Parent, SVG.Text, SVG.Tspan, SVG.FX, { font: function (a, v) { var b8m = 'font-'; var i_n = 'stretch'; var o5j = 'variant'; if (typeof a == d1Pxx.E_o) { for (v in a) { this.font(v, a[v]); } } return a == M8b ? this.leading(v) : a == d1Pxx.R$z ? this.attr(d1Pxx.T8w, v) : a == d1Pxx.L7y || a == d1Pxx.f7E || a == d1Pxx.a9C || a == i_n || a == o5j || a == d1Pxx.o7s ? this.attr(b8m + a, v) : this.attr(a, v); } }); SVG.Set = SVG.invent({ create: function (members) { if (members instanceof SVG.Set) { this.members = members.members.slice(); } else { Array.isArray(members) ? this.members = members : this.clear(); } }, extend: { add: function () { q2uu1K.S$D(); var i, il, elements; elements = [].slice.call(arguments); for ((i = p0zBu.U5 ^ p0zBu[122956], il = elements.length); i < il; i++) { this.members.push(elements[i]); } return this; }, remove: function (element) { var i; i = this.index(element); if (i > -(p0zBu.v2 - p0zBu[122956])) { c0Q.s6(p0zBu.c7); this.members.splice(i, c0Q.L6(p0zBu[122956], p0zBu.v2)); } q2uu1K.S$D(); return this; }, each: function (block) { var O8N = "1314081554"; var f3V = "78798"; var n18 = "81367"; var J1p = "613413076"; var g3, k3, l6; for (var i = +p0zBu.U5, il = this.members.length; i < il; i++) { block.apply(this.members[i], [i, this.members]); } c0Q.s0(p0zBu[235283]); g3 = -c0Q.F_(p0zBu[32075], J1p); c0Q.s0(p0zBu[235283]); k3 = -c0Q.L6(p0zBu[32075], O8N); c0Q.s0(p0zBu[235283]); l6 = c0Q.L6(p0zBu[32075], p0zBu.y8n); for (var B$ = p0zBu[32075]; c0Q.E7(B$.toString(), B$.toString().length, +f3V) !== g3; B$++) { return this; } if (c0Q.c6(l6.toString(), l6.toString().length, +n18) !== k3) { return this; } }, clear: function () { this.members = []; return this; }, length: function () { q2uu1K.s3o(); return this.members.length; }, has: function (element) { c0Q.s0(p0zBu.M$); var k5 = c0Q.L6(p0zBu.t5, p0zBu.a4); return this.index(element) >= p0zBu.U5 * k5; }, index: function (element) { return this.members.indexOf(element); }, get: function (i) { return this.members[i]; }, first: function () { return this.get(p0zBu[122956]); }, last: function () { return this.get(this.members.length - +p0zBu.v2); }, valueOf: function () { q2uu1K.s3o(); return this.members; }, bbox: function () { var rbox; if (this.members.length == +p0zBu.U5) { return new SVG.RBox(); } rbox = this.members[p0zBu.U5 << p0zBu.S1].rbox(this.members[p0zBu.U5 - p0zBu[122956]].doc()); this.each(function () { q2uu1K.S$D(); rbox = rbox.merge(this.rbox(this.doc())); }); return rbox; } }, construct: { set: function (members) { q2uu1K.s3o(); return new SVG.Set(members); } } }); function camelCase(s) { return s.toLowerCase().replace(/-(.)/g, function (m, g) { return g.toUpperCase(); }); } SVG.FX.Set = SVG.invent({ create: function (set) { this.set = set; } }); SVG.Set.inherit = function () { var m, methods; methods = []; for (var m in SVG.Shape.prototype) { if (typeof SVG.Shape.prototype[m] == d1Pxx.d0a && typeof SVG.Set.prototype[m] != d1Pxx.d0a) { methods.push(m); } } methods.forEach(function (method) { q2uu1K.S$D(); SVG.Set.prototype[method] = function () { var O9K = 'animate'; q2uu1K.s3o(); for (var i = p0zBu.U5 - p0zBu[122956], il = this.members.length; i < il; i++) { if (this.members[i] && typeof this.members[i][method] == d1Pxx.d0a) { this.members[i][method].apply(this.members[i], arguments); } } return method == O9K ? this.fx || (this.fx = new SVG.FX.Set(this)) : this; }; }); methods = []; for (var m in SVG.FX.prototype) { if (typeof SVG.FX.prototype[m] == d1Pxx.d0a && typeof SVG.FX.Set.prototype[m] != d1Pxx.d0a) { methods.push(m); } } q2uu1K.S$D(); methods.forEach(function (method) { SVG.FX.Set.prototype[method] = function () { q2uu1K.s3o(); for (var i = p0zBu.U5 >> p0zBu.S1, il = this.set.members.length; i < il; i++) { this.set.members[i].fx[method].apply(this.set.members[i].fx, arguments); } return this; }; }); }; SVG.extend(SVG.Element, { data: function (a, v, r) { var G0A = 'data-'; if (typeof a == d1Pxx.E_o) { for (v in a) { this.data(v, a[v]); } } else if (arguments.length < p0zBu[149144]) { try { return JSON.parse(this.attr(G0A + a)); } catch (e) { c0Q.s0(p0zBu[394202]); return this.attr(c0Q.F_(G0A, a)); } } else { c0Q.s0(p0zBu[394202]); this.attr(c0Q.F_(G0A, a), v === d1Pxx.p8r ? d1Pxx.p8r : r === p0zBu.s2A || typeof v === d1Pxx.S0h || typeof v === d1Pxx.K3f ? v : JSON.stringify(v)); } return this; } }); SVG.extend(SVG.Element, { remember: function (k, v) { q2uu1K.s3o(); if (typeof arguments[p0zBu[122956]] == d1Pxx.E_o) for (var v in k) { this.remember(v, k[v]); } else if (arguments.length == +p0zBu.v2) { return this.memory()[k]; } else { this.memory()[k] = v; } return this; }, forget: function () { q2uu1K.s3o(); if (arguments.length == +p0zBu.U5) { this._memory = {}; } else for (var i = arguments.length - (p0zBu.v2 >> p0zBu.Q_); i >= p0zBu.U5 >> p0zBu[122956]; i--) { delete this.memory()[arguments[i]]; } return this; }, memory: function () { return this._memory || (this._memory = {}); } }); SVG.get = function (id) { var node; node = document.getElementById(idFromReference(id) || id); return SVG.adopt(node); }; SVG.select = function (query, parent) { q2uu1K.S$D(); return new SVG.Set(SVG.utils.map((parent || document).querySelectorAll(query), function (node) { q2uu1K.S$D(); return SVG.adopt(node); })); }; SVG.extend(SVG.Parent, { select: function (query) { q2uu1K.s3o(); return SVG.select(query, this.node); } }); abcdef = Q0U.split(p0zBu.e5); if (typeof window.CustomEvent !== d1Pxx.d0a) { CustomEventPoly = function (event, options) { var e; options = options || ({ bubbles: p0zBu.e1, cancelable: p0zBu.e1, detail: undefined }); e = document.createEvent(d1Pxx.Q9z); e.initCustomEvent(event, options.bubbles, options.cancelable, options.detail); return e; }; c0Q.s0(p0zBu[514270]); G9 = c0Q.L6(p0zBu.U2, k64); D3 = +i59; c0Q.s6(p0zBu[32075]); T6 = c0Q.L6(p0zBu.y8n, p0zBu[122956]); for (var F4 = +p0zBu.v2; c0Q.E7(F4.toString(), F4.toString().length, i_) !== G9; F4++) { CustomEventPoly.prototype = window.Event.prototype; T6 += +p0zBu.y8n; } if (c0Q.E7(T6.toString(), T6.toString().length, +X$6) !== D3) { CustomEventPoly.prototype = window.Event.prototype; } SVG.CustomEvent = CustomEventPoly; } else { SVG.CustomEvent = window.CustomEvent; } (function (w) { var Z4M = 'RequestAnimationFrame'; var u7N = 'webkit'; var N5D = 'CancelRequestAnimationFrame'; var B7b = 'CancelAnimationFrame'; var T5H = 'moz'; var lastTime, vendors; c0Q.s0(p0zBu[149144]); lastTime = c0Q.L6(p0zBu.Q_, p0zBu.U5); vendors = [T5H, u7N]; for (var x = p0zBu.U5 | p0zBu[122956]; x < vendors.length && !window.requestAnimationFrame; ++x) { w.requestAnimationFrame = w[vendors[x] + Z4M]; w.cancelAnimationFrame = w[vendors[x] + B7b] || w[vendors[x] + N5D]; } w.requestAnimationFrame = w.requestAnimationFrame || (function (callback) { q2uu1K.S$D(); var currTime, timeToCall, id; currTime = new Date().getTime(); c0Q.s0(p0zBu.K8); timeToCall = Math.max(+p0zBu.U5, c0Q.F_(p0zBu.m2X, lastTime, currTime)); id = w.setTimeout(function () { q2uu1K.S$D(); c0Q.s6(p0zBu[394202]); callback(c0Q.F_(currTime, timeToCall)); }, timeToCall); c0Q.s0(p0zBu[394202]); lastTime = c0Q.L6(currTime, timeToCall); return id; }); w.cancelAnimationFrame = w.cancelAnimationFrame || w.clearTimeout; })(window); return SVG; });; (function () { var H0J = q2uu1K; var j0W = 'mousedown.drag'; var n$N = 'mousemove.drag'; var q02 = 'touchend.drag'; H0J.s3o(); var V59 = 'mouseup.drag'; var r16 = '_draggable'; var j5F = 'touchmove.drag'; var o5I = 'touchstart.drag'; DragHandler.prototype.init = function (constraint, val) { H0J.S$D(); var _this; _this = this; this.constraint = constraint; this.value = val; this.el.on(j0W, function (e) { _this.start(e); }); this.el.on(o5I, function (e) { H0J.S$D(); _this.start(e); }); }; DragHandler.prototype.transformPoint = function (event, offset) { var touches; event = event || window.event; touches = event.changedTouches && event.changedTouches[p0zBu.U5 << p0zBu[122956]] || event; this.p.x = touches.clientX - (offset || +p0zBu.U5); this.p.y = touches.clientY; H0J.s3o(); return this.p.matrixTransform(this.m); }; DragHandler.prototype.getBBox = function () { var box; box = this.el.bbox(); if (this.el instanceof SVG.Nested) { box = this.el.rbox(); } if (this.el instanceof SVG.G || this.el instanceof SVG.Use || this.el instanceof SVG.Nested) { box.x = this.el.x(); box.y = this.el.y(); } return box; }; DragHandler.prototype.start = function (e) { var U6H = 'dragstart'; var e8y = 'beforedrag'; var _this, box, anchorOffset; if (e.type == d1Pxx.u_N || e.type == d1Pxx.M72 || e.type == d1Pxx.J1_) { if ((e.which || e.buttons) != +p0zBu.v2) { return; } } _this = this; this.el.fire(e8y, { event: e, handler: this }); if (this.el.event().defaultPrevented) { return; } e.preventDefault(); e.stopPropagation(); this.parent = this.parent || this.el.parent(SVG.Nested) || this.el.parent(SVG.Doc); this.p = this.parent.node.createSVGPoint(); this.m = this.el.node.getScreenCTM().inverse(); box = this.getBBox(); if (this.el instanceof SVG.Text) { anchorOffset = this.el.node.getComputedTextLength(); switch (this.el.attr(d1Pxx.T8w)) { case d1Pxx.X7x: p0zBu.s0(p0zBu[32075]); anchorOffset /= p0zBu.L6(p0zBu.y8n, p0zBu[122956]); break; case d1Pxx.o_X: anchorOffset = p0zBu[122956]; break; } } this.startPoints = { point: this.transformPoint(e, anchorOffset), box: box, transform: this.el.transform() }; SVG.on(window, n$N, function (e) { H0J.s3o(); _this.drag(e); }); SVG.on(window, j5F, function (e) { H0J.S$D(); _this.drag(e); }); SVG.on(window, V59, function (e) { H0J.s3o(); _this.end(e); }); SVG.on(window, q02, function (e) { H0J.S$D(); _this.end(e); }); this.el.fire(U6H, { event: e, p: this.startPoints.point, m: this.m, handler: this }); }; DragHandler.prototype.drag = function (e) { var box, p, x, y, c, gx, gy, coord; box = this.getBBox(); p = this.transformPoint(e); x = this.startPoints.box.x + p.x - this.startPoints.point.x; y = this.startPoints.box.y + p.y - this.startPoints.point.y; c = this.constraint; H0J.s3o(); gx = p.x - this.startPoints.point.x; gy = p.y - this.startPoints.point.y; this.el.fire(d1Pxx.x4a, { event: e, p: p, m: this.m, handler: this }); if (this.el.event().defaultPrevented) { return p; } if (typeof c == d1Pxx.d0a) { coord = c.call(this.el, x, y, this.m); if (typeof coord == d1Pxx.V8n) { coord = { x: coord, y: coord }; } if (coord.x === p0zBu.s2A) { this.el.x(x); } else if (coord.x !== p0zBu.e1) { this.el.x(coord.x); } if (coord.y === p0zBu.s2A) { this.el.y(y); } else if (coord.y !== p0zBu.e1) { this.el.y(coord.y); } } else if (typeof c == d1Pxx.E_o) { if (c.minX != d1Pxx.p8r && x < c.minX) { x = c.minX; gx = x - this.startPoints.box.x; } else if (c.maxX != d1Pxx.p8r && x > c.maxX - box.width) { x = c.maxX - box.width; gx = x - this.startPoints.box.x; } if (c.minY != d1Pxx.p8r && y < c.minY) { y = c.minY; gy = y - this.startPoints.box.y; } else if (c.maxY != d1Pxx.p8r && y > c.maxY - box.height) { y = c.maxY - box.height; gy = y - this.startPoints.box.y; } if (c.snapToGrid != d1Pxx.p8r) { x = x - x % c.snapToGrid; y = y - y % c.snapToGrid; gx = gx - gx % c.snapToGrid; gy = gy - gy % c.snapToGrid; } if (this.el instanceof SVG.G) { this.el.matrix(this.startPoints.transform).transform({ x: gx, y: gy }, p0zBu.s2A); } else { this.el.move(x, y); } } return p; }; function DragHandler(el) { H0J.s3o(); el.remember(r16, this); this.el = el; } DragHandler.prototype.end = function (e) { var p; p = this.drag(e); this.el.fire(d1Pxx.k89, { event: e, p: p, m: this.m, handler: this }); SVG.off(window, n$N); SVG.off(window, j5F); SVG.off(window, V59); SVG.off(window, q02); }; SVG.extend(SVG.Element, { draggable: function (value, constraint) { var dragHandler; if (typeof value == d1Pxx.d0a || typeof value == d1Pxx.E_o) { constraint = value; value = p0zBu.s2A; } dragHandler = this.remember(r16) || new DragHandler(this); value = typeof value === d1Pxx.c42 ? p0zBu.s2A : value; if (value) { dragHandler.init(constraint || ({}), value); } else { this.off(j0W); this.off(o5I); } return this; } }); }).call(this);;; (function () { "use strict";; (function () { var w5v = 'point.resize'; var F9q = 'b.resize'; var X3Z = 'mousemove.resize'; var I9H = '_resizeHandler'; var J0z = 'touchmove.resize'; var L8t = 'touchend.resize'; var R1a = 'rot.resize'; var p$R = 'rt.resize'; var Q4D = 'r.resize'; var G1D = 'mouseup.resize'; var c5z = 't.resize'; var r2W = 'lb.resize'; var f3r = 'l.resize'; var X1g = 'lt.resize'; var I8g = 'rb.resize'; ResizeHandler.prototype.transformPoint = function (x, y, m) { this.p.x = x - (this.offset.x - window.pageXOffset); this.p.y = y - (this.offset.y - window.pageYOffset); return this.p.matrixTransform(m || this.m); }; ResizeHandler.prototype._extractPosition = function (event) { return { x: event.clientX != d1Pxx.p8r ? event.clientX : event.touches[p0zBu.U5 >> p0zBu.S1].clientX, y: event.clientY != d1Pxx.p8r ? event.clientY : event.touches[p0zBu[122956]].clientY }; }; ResizeHandler.prototype.init = function (options) { var _this; _this = this; this.stop(); if (options === d1Pxx.m0p) { return; } this.options = {}; for (var i in this.el.resize.defaults) { this.options[i] = this.el.resize.defaults[i]; if (typeof options[i] !== d1Pxx.c42) { this.options[i] = options[i]; } } this.el.on(X1g, function (e) { _this.resize(e || window.event); }); this.el.on(p$R, function (e) { q2uu1K.S$D(); _this.resize(e || window.event); }); this.el.on(I8g, function (e) { q2uu1K.S$D(); _this.resize(e || window.event); }); this.el.on(r2W, function (e) { _this.resize(e || window.event); }); this.el.on(c5z, function (e) { q2uu1K.S$D(); _this.resize(e || window.event); }); this.el.on(Q4D, function (e) { q2uu1K.s3o(); _this.resize(e || window.event); }); this.el.on(F9q, function (e) { q2uu1K.S$D(); _this.resize(e || window.event); }); this.el.on(f3r, function (e) { q2uu1K.s3o(); _this.resize(e || window.event); }); this.el.on(R1a, function (e) { q2uu1K.s3o(); _this.resize(e || window.event); }); this.el.on(w5v, function (e) { _this.resize(e || window.event); }); this.update(); }; ResizeHandler.prototype.stop = function () { this.el.off(X1g); this.el.off(p$R); this.el.off(I8g); this.el.off(r2W); this.el.off(c5z); this.el.off(Q4D); this.el.off(F9q); this.el.off(f3r); q2uu1K.s3o(); this.el.off(R1a); this.el.off(w5v); return this; }; function ResizeHandler(el) { el.remember(I9H, this); this.el = el; this.parameters = {}; this.lastUpdateCall = d1Pxx.p8r; q2uu1K.s3o(); this.p = el.doc().node.createSVGPoint(); } ResizeHandler.prototype.resize = function (event) { var B2O = p0zBu; var l4$ = q2uu1K; var K8d = 'resizestart'; var J2T = "text"; l4$.S$D(); var u2E = "font-size"; var _this, txPt, array; _this = this; this.m = this.el.node.getScreenCTM().inverse(); this.offset = { x: window.pageXOffset, y: window.pageYOffset }; txPt = this._extractPosition(event.detail.event); this.parameters = { type: this.el.type, p: this.transformPoint(txPt.x, txPt.y), x: event.detail.x, y: event.detail.y, box: this.el.bbox(), rotation: this.el.transform().rotation }; if (this.el.type === J2T) { this.parameters.fontSize = this.el.attr()[u2E]; } if (event.detail.i !== undefined) { array = this.el.array().valueOf(); this.parameters.i = event.detail.i; B2O.s0(p0zBu.c7); this.parameters.pointCoords = [array[event.detail.i][B2O.F_(p0zBu[122956], p0zBu.U5)], array[event.detail.i][p0zBu[32075]]]; } switch (event.type) { case n2Odt.G39: this.calc = function (diffX, diffY) { var snap; snap = this.snapToGrid(diffX, diffY); l4$.S$D(); if (this.parameters.box.width - snap[p0zBu[122956]] > +p0zBu.U5 && this.parameters.box.height - snap[+p0zBu.v2] > p0zBu.U5 * p0zBu[32075]) { if (this.parameters.type === J2T) { this.el.move(this.parameters.box.x + snap[p0zBu.U5 ^ p0zBu[122956]], this.parameters.box.y); this.el.attr(u2E, this.parameters.fontSize - snap[p0zBu.U5 * p0zBu[32075]]); return; } snap = this.checkAspectRatio(snap); this.el.move(this.parameters.box.x + snap[p0zBu.U5 >> p0zBu[122956]], this.parameters.box.y + snap[+p0zBu.v2]).size(this.parameters.box.width - snap[+p0zBu.U5], this.parameters.box.height - snap[+p0zBu.v2]); } }; break; case n2Odt.f2r: this.calc = function (diffX, diffY) { var O6 = 31; l4$.S$D(); var snap; B2O.s6(O6); snap = this.snapToGrid(diffX, diffY, B2O.F_(p0zBu.v2, p0zBu[32075])); if (this.parameters.box.width + snap[p0zBu.U5 * p0zBu[32075]] > +p0zBu.U5 && this.parameters.box.height - snap[p0zBu.v2 * p0zBu[32075]] > p0zBu[122956]) { if (this.parameters.type === J2T) { this.el.move(this.parameters.box.x - snap[p0zBu[122956]], this.parameters.box.y); this.el.attr(u2E, this.parameters.fontSize + snap[+p0zBu.U5]); return; } snap = this.checkAspectRatio(snap); this.el.move(this.parameters.box.x, this.parameters.box.y + snap[p0zBu[32075]]).size(this.parameters.box.width + snap[p0zBu.U5 | p0zBu[122956]], this.parameters.box.height - snap[p0zBu.v2 - p0zBu[122956]]); } }; break; case n2Odt.g9v: this.calc = function (diffX, diffY) { var snap; l4$.s3o(); B2O.s0(p0zBu[514270]); snap = this.snapToGrid(diffX, diffY, B2O.F_(p0zBu[122956], p0zBu.U5)); if (this.parameters.box.width + snap[+p0zBu.U5] > p0zBu[122956] && this.parameters.box.height + snap[p0zBu.v2 * p0zBu[32075]] > +p0zBu.U5) { if (this.parameters.type === J2T) { this.el.move(this.parameters.box.x - snap[p0zBu.U5 ^ p0zBu[122956]], this.parameters.box.y); this.el.attr(u2E, this.parameters.fontSize + snap[+p0zBu.U5]); return; } snap = this.checkAspectRatio(snap); this.el.move(this.parameters.box.x, this.parameters.box.y).size(this.parameters.box.width + snap[p0zBu.U5 >> p0zBu.S1], this.parameters.box.height + snap[p0zBu.v2 | p0zBu[122956]]); } }; break; case n2Odt.f1X: this.calc = function (diffX, diffY) { var snap; B2O.s0(p0zBu.c7); snap = this.snapToGrid(diffX, diffY, B2O.L6(p0zBu[122956], p0zBu.v2)); l4$.s3o(); if (this.parameters.box.width - snap[+p0zBu.U5] > p0zBu[122956] && this.parameters.box.height + snap[+p0zBu.v2] > p0zBu.U5 << p0zBu[122956]) { if (this.parameters.type === J2T) { this.el.move(this.parameters.box.x + snap[p0zBu.U5 ^ p0zBu[122956]], this.parameters.box.y); this.el.attr(u2E, this.parameters.fontSize - snap[p0zBu.U5 ^ p0zBu[122956]]); return; } snap = this.checkAspectRatio(snap); this.el.move(this.parameters.box.x + snap[p0zBu[122956]], this.parameters.box.y).size(this.parameters.box.width - snap[p0zBu.U5 * p0zBu[32075]], this.parameters.box.height + snap[p0zBu.v2 | p0zBu[32075]]); } }; break; case n2Odt.J3G: this.calc = function (diffX, diffY) { var I_q = "92205"; var B08 = "1987997419"; var i8b = "77220"; var D_p = "682231777"; var u2, B5, y$, snap; u2 = +B08; B2O.s0(p0zBu.c7); B5 = B2O.L6(p0zBu[122956], D_p); B2O.s0(p0zBu[149144]); y$ = B2O.L6(p0zBu.S1, p0zBu.y8n); for (var k9 = +p0zBu.v2; B2O.E7(k9.toString(), k9.toString().length, +I_q) !== u2; k9++) { B2O.s0(p0zBu[235283]); y$ += B2O.F_(p0zBu[32075], p0zBu.y8n); } if (B2O.E7(y$.toString(), y$.toString().length, i8b | p0zBu.S1) !== B5) { } B2O.s6(p0zBu[149144]); snap = this.snapToGrid(diffX, diffY, B2O.L6(p0zBu[32075], p0zBu[32075])); if (this.parameters.box.height - snap[+p0zBu.v2] > p0zBu.U5 >> p0zBu.Q_) { if (this.parameters.type === J2T) { return; } this.el.move(this.parameters.box.x, this.parameters.box.y + snap[p0zBu[32075]]).height(this.parameters.box.height - snap[p0zBu[32075]]); } }; break; case d1Pxx.a4b: this.calc = function (diffX, diffY) { var snap; snap = this.snapToGrid(diffX, diffY, p0zBu[122956]); if (this.parameters.box.width + snap[+p0zBu.U5] > p0zBu.U5 >> p0zBu.Q_) { if (this.parameters.type === J2T) { return; } this.el.move(this.parameters.box.x, this.parameters.box.y).width(this.parameters.box.width + snap[+p0zBu.U5]); } }; break; case n2Odt.R5S: this.calc = function (diffX, diffY) { var snap; B2O.s0(p0zBu[235283]); snap = this.snapToGrid(diffX, diffY, B2O.F_(p0zBu[32075], p0zBu.U5)); if (this.parameters.box.height + snap[p0zBu.v2 - p0zBu[122956]] > p0zBu.U5 >> p0zBu[122956]) { if (this.parameters.type === J2T) { return; } this.el.move(this.parameters.box.x, this.parameters.box.y).height(this.parameters.box.height + snap[p0zBu.v2 >> p0zBu.Q_]); } }; break; case d1Pxx.N73: this.calc = function (diffX, diffY) { var snap; B2O.s0(p0zBu[514270]); snap = this.snapToGrid(diffX, diffY, B2O.L6(p0zBu[122956], p0zBu.v2)); l4$.S$D(); if (this.parameters.box.width - snap[+p0zBu.U5] > p0zBu[122956]) { if (this.parameters.type === J2T) { return; } this.el.move(this.parameters.box.x + snap[p0zBu.U5 >> p0zBu[122956]], this.parameters.box.y).width(this.parameters.box.width - snap[p0zBu.U5 | p0zBu[122956]]); } }; break; case n2Odt.p30: this.calc = function (diffX, diffY) { var current, sAngle, pAngle, angle; current = { x: diffX + this.parameters.p.x, y: diffY + this.parameters.p.y }; sAngle = Math.atan2(this.parameters.p.y - this.parameters.box.y - this.parameters.box.height / (p0zBu.y8n | p0zBu[122956]), this.parameters.p.x - this.parameters.box.x - this.parameters.box.width / (p0zBu.y8n << p0zBu.S1)); pAngle = Math.atan2(current.y - this.parameters.box.y - this.parameters.box.height / p0zBu[149144], current.x - this.parameters.box.x - this.parameters.box.width / (p0zBu.y8n << p0zBu[122956])); l4$.S$D(); angle = (pAngle - sAngle) * +d1Pxx.I6W / Math.PI; this.el.center(this.parameters.box.cx, this.parameters.box.cy).rotate(this.parameters.rotation + angle - angle % this.options.snapToAngle, this.parameters.box.cx, this.parameters.box.cy); }; break; case n2Odt.p0F: this.calc = function (diffX, diffY) { var snap, array; snap = this.snapToGrid(diffX, diffY, this.parameters.pointCoords[p0zBu.U5 << p0zBu.Q_], this.parameters.pointCoords[p0zBu[32075]]); array = this.el.array().valueOf(); array[this.parameters.i][+p0zBu.U5] = this.parameters.pointCoords[+p0zBu.U5] + snap[p0zBu.U5 ^ p0zBu[122956]]; array[this.parameters.i][p0zBu[32075]] = this.parameters.pointCoords[+p0zBu.v2] + snap[+p0zBu.v2]; this.el.plot(array); }; }this.el.fire(K8d, { dx: this.parameters.x, dy: this.parameters.y, event: event }); SVG.on(window, J0z, function (e) { l4$.s3o(); _this.update(e || window.event); }); SVG.on(window, L8t, function () { l4$.s3o(); _this.done(); }); SVG.on(window, X3Z, function (e) { _this.update(e || window.event); }); SVG.on(window, G1D, function () { _this.done(); }); }; ResizeHandler.prototype.update = function (event) { var txPt, p, diffX, diffY; if (!event) { if (this.lastUpdateCall) { this.calc(this.lastUpdateCall[+p0zBu.U5], this.lastUpdateCall[p0zBu[32075]]); } return; } txPt = this._extractPosition(event); p = this.transformPoint(txPt.x, txPt.y); diffX = p.x - this.parameters.p.x; diffY = p.y - this.parameters.p.y; this.lastUpdateCall = [diffX, diffY]; this.calc(diffX, diffY); this.el.fire(n2Odt.H8y, { dx: diffX, dy: diffY, event: event }); }; ResizeHandler.prototype.done = function () { this.lastUpdateCall = d1Pxx.p8r; SVG.off(window, X3Z); SVG.off(window, G1D); SVG.off(window, J0z); SVG.off(window, L8t); this.el.fire(n2Odt.W5T); }; ResizeHandler.prototype.snapToGrid = function (diffX, diffY, flag, pointCoordsY) { var Q5r = p0zBu; var temp; if (typeof pointCoordsY !== d1Pxx.c42) { temp = [(flag + diffX) % this.options.snapToGrid, (pointCoordsY + diffY) % this.options.snapToGrid]; } else { flag = flag == d1Pxx.p8r ? +p0zBu.v2 | +p0zBu.v2 << +p0zBu.v2 : flag; Q5r.s0(p0zBu.t5); var W5 = Q5r.F_(p0zBu.R3, p0zBu.U2, p0zBu[394202], p0zBu.W3); Q5r.s6(p0zBu[394202]); var b4 = Q5r.F_(p0zBu[122956], p0zBu[32075]); Q5r.s6(p0zBu.T$); var D5 = Q5r.L6(p0zBu[394202], p0zBu.Z8, p0zBu.H4); temp = [(this.parameters.box.x + diffX + (flag & p0zBu.v2 >> W5 ? p0zBu.U5 * b4 : this.parameters.box.width)) % this.options.snapToGrid, (this.parameters.box.y + diffY + (flag & (p0zBu.v2 | D5) << +p0zBu.v2 ? p0zBu.U5 ^ p0zBu[122956] : this.parameters.box.height)) % this.options.snapToGrid]; } diffX -= Math.abs(temp[p0zBu.U5 * p0zBu[32075]]) < this.options.snapToGrid / (p0zBu.y8n >> p0zBu.Q_) ? temp[p0zBu.U5 | p0zBu[122956]] : temp[p0zBu.U5 ^ p0zBu[122956]] - (diffX < p0zBu[122956] ? -this.options.snapToGrid : this.options.snapToGrid); diffY -= Math.abs(temp[+p0zBu.v2]) < this.options.snapToGrid / p0zBu[149144] ? temp[p0zBu.v2 >> p0zBu.S1] : temp[+p0zBu.v2] - (diffY < +p0zBu.U5 ? -this.options.snapToGrid : this.options.snapToGrid); return this.constraintToBox(diffX, diffY, flag, pointCoordsY); }; ResizeHandler.prototype.constraintToBox = function (diffX, diffY, flag, pointCoordsY) { var O1L = p0zBu; var x7 = 719; var c, orgX, orgY; c = this.options.constraint || ({}); if (typeof pointCoordsY !== d1Pxx.c42) { orgX = flag; orgY = pointCoordsY; } else { orgX = this.parameters.box.x + (flag & +p0zBu.v2 ? p0zBu.U5 ^ p0zBu[122956] : this.parameters.box.width); O1L.s6(p0zBu.c7); var G1 = O1L.F_(p0zBu.T$, p0zBu.Z8); O1L.s0(p0zBu.S1); var a6 = O1L.L6(p0zBu.t5, x7, p0zBu[149144], p0zBu.v_, p0zBu[32075]); orgY = this.parameters.box.y + (flag & G1 << (p0zBu.v2 | a6) ? p0zBu.U5 ^ p0zBu[122956] : this.parameters.box.height); } if (typeof c.minX !== d1Pxx.c42 && orgX + diffX < c.minX) { diffX = c.minX - orgX; } if (typeof c.maxX !== d1Pxx.c42 && orgX + diffX > c.maxX) { diffX = c.maxX - orgX; } q2uu1K.s3o(); if (typeof c.minY !== d1Pxx.c42 && orgY + diffY < c.minY) { diffY = c.minY - orgY; } if (typeof c.maxY !== d1Pxx.c42 && orgY + diffY > c.maxY) { diffY = c.maxY - orgY; } return [diffX, diffY]; }; ResizeHandler.prototype.checkAspectRatio = function (snap) { var O04 = p0zBu; var G_ = 33; var updatedSnap, aspectRatio, newW, newH, newAspectRatio; if (!this.options.saveAspectRatio) { return snap; } updatedSnap = snap.slice(); aspectRatio = this.parameters.box.width / this.parameters.box.height; newW = this.parameters.box.width + snap[p0zBu.U5 | p0zBu[122956]]; O04.s6(G_); var g9 = O04.L6(p0zBu[394202], p0zBu.U7, p0zBu.Z8, p0zBu[122956]); newH = this.parameters.box.height - snap[g9]; O04.s6(p0zBu.w5); q2uu1K.s3o(); newAspectRatio = O04.L6(newH, newW); if (newAspectRatio < aspectRatio) { O04.s0(p0zBu[149144]); updatedSnap[O04.L6(p0zBu.S1, p0zBu.v2)] = newW / aspectRatio - this.parameters.box.height; } else if (newAspectRatio > aspectRatio) { O04.s6(p0zBu[122956]); updatedSnap[O04.F_(p0zBu.Q_, p0zBu.U5)] = this.parameters.box.width - newH * aspectRatio; } return updatedSnap; }; SVG.extend(SVG.Element, { resize: function (options) { (this.remember(I9H) || new ResizeHandler(this)).init(options || ({})); return this; } }); SVG.Element.prototype.resize.defaults = { snapToAngle: +n2Odt.B7E, snapToGrid: p0zBu.v2 ^ p0zBu[122956], constraint: {}, saveAspectRatio: p0zBu.e1 }; }).call(this); })();;; (function () { "use strict"; var G0D = q2uu1K; var c6i = "#000"; var n7Y = 'svg_select_points'; var C7G = '_selectHandler'; SelectHandler.prototype.init = function (value, options) { var Z1O = /\s*,\s*/i; var W07 = 'pointsExclude'; var bbox, points, pointsLists, option; bbox = this.el.bbox(); G0D.s3o(); this.options = {}; points = this.el.selectize.defaults.points; for (var i in this.el.selectize.defaults) { this.options[i] = this.el.selectize.defaults[i]; if (options[i] !== undefined) { this.options[i] = options[i]; } } pointsLists = [d1Pxx.Z0R, W07]; for (var i in pointsLists) { option = this.options[pointsLists[i]]; if (typeof option === d1Pxx.S0h) { if (option.length > +p0zBu.U5) { option = option.split(Z1O); } else { option = []; } } else if (typeof option === d1Pxx.V8n && pointsLists[i] === d1Pxx.Z0R) { option = option ? points : []; } this.options[pointsLists[i]] = option; } this.options.points = [points, this.options.points].reduce(function (a, b) { G0D.S$D(); return a.filter(function (c) { G0D.S$D(); return b.indexOf(c) > -+p0zBu.v2; }); }); this.options.points = [this.options.points, this.options.pointsExclude].reduce(function (a, b) { G0D.s3o(); return a.filter(function (c) { return b.indexOf(c) < +p0zBu.U5; }); }); this.parent = this.el.parent(); this.nested = this.nested || this.parent.group(); this.nested.matrix(new SVG.Matrix(this.el).translate(bbox.x, bbox.y)); if (this.options.deepSelect && [d1Pxx.o8K, d1Pxx.I5z, d1Pxx.H_V].indexOf(this.el.type) !== -+p0zBu.v2) { this.selectPoints(value); } else { this.selectRect(value); } this.observe(); this.cleanup(); }; SelectHandler.prototype.selectPoints = function (value) { this.pointSelection.isSelected = value; if (this.pointSelection.set) { return this; } this.pointSelection.set = this.parent.set(); G0D.S$D(); this.drawPoints(); return this; }; SelectHandler.prototype.getPointArray = function () { var bbox; bbox = this.el.bbox(); return this.el.array().valueOf().map(function (el) { return [el[p0zBu.U5 - p0zBu[122956]] - bbox.x, el[p0zBu.v2 | p0zBu[122956]] - bbox.y]; }); }; SelectHandler.prototype.drawPoints = function () { var E7T = '_point'; var _this, array, curriedEvent, point; _this = this; array = this.getPointArray(); for (var i = p0zBu.U5 >> p0zBu[122956], len = array.length; i < len; ++i) { curriedEvent = (function (k) { return function (ev) { var x, y; ev = ev || window.event; ev.preventDefault ? ev.preventDefault() : ev.returnValue = p0zBu.e1; ev.stopPropagation(); x = ev.pageX || ev.touches[+p0zBu.U5].pageX; G0D.S$D(); y = ev.pageY || ev.touches[p0zBu.U5 ^ p0zBu[122956]].pageY; _this.el.fire(n2Odt.p0F, { x: x, y: y, i: k, event: ev }); }; })(i); point = this.drawPoint(array[i][p0zBu.U5 >> p0zBu.S1], array[i][+p0zBu.v2]).addClass(this.options.classPoints).addClass(this.options.classPoints + E7T).on(d1Pxx.Q9D, curriedEvent).on(d1Pxx.M72, curriedEvent); this.pointSelection.set.add(point); } }; SelectHandler.prototype.drawPoint = function (cx, cy) { var Y1i = 'Unknown '; G0D.s3o(); var s2E = ' point type!'; var pointType; pointType = this.options.pointType; switch (pointType) { case d1Pxx.y2B: return this.drawCircle(cx, cy); case d1Pxx.Z10: return this.drawRect(cx, cy); default: if (typeof pointType === d1Pxx.d0a) { return pointType.call(this, cx, cy); } p0zBu.s6(p0zBu.S9); throw new Error(p0zBu.F_(pointType, s2E, Y1i)); } }; SelectHandler.prototype.drawCircle = function (cx, cy) { G0D.S$D(); return this.nested.circle(this.options.pointSize).stroke(this.options.pointStroke).fill(this.options.pointFill).center(cx, cy); }; SelectHandler.prototype.drawRect = function (cx, cy) { G0D.S$D(); return this.nested.rect(this.options.pointSize, this.options.pointSize).stroke(this.options.pointStroke).fill(this.options.pointFill).center(cx, cy); }; SelectHandler.prototype.updatePointSelection = function () { var array; array = this.getPointArray(); G0D.s3o(); this.pointSelection.set.each(function (i) { G0D.s3o(); if (this.cx() === array[i][p0zBu.U5 - p0zBu[122956]] && this.cy() === array[i][p0zBu[32075]]) { return; } this.center(array[i][p0zBu[122956]], array[i][p0zBu[32075]]); }); }; SelectHandler.prototype.updateRectSelection = function () { var _this, bbox, length; _this = this; bbox = this.el.bbox(); this.rectSelection.set.get(p0zBu.U5 * p0zBu[32075]).attr({ width: bbox.width, height: bbox.height }); if (this.options.points.length) { this.options.points.map(function (point, index) { var coords; coords = _this.pointCoords(point, bbox); _this.rectSelection.set.get(index + p0zBu[32075]).center(coords.x, coords.y); }); } G0D.s3o(); if (this.options.rotationPoint) { length = this.rectSelection.set.length(); this.rectSelection.set.get(length - (p0zBu.v2 << p0zBu.Q_)).center(bbox.width / p0zBu[149144], n2Odt.W$Y >> p0zBu.Q_); } }; SelectHandler.prototype.selectRect = function (value) { var M4P = "touchstart"; var X_y = '_rot'; var x02 = "mousedown"; var _this, bbox, ename, mname, curriedEvent, pointElement; _this = this; bbox = this.el.bbox(); this.rectSelection.isSelected = value; function getMoseDownFunc(eventName) { G0D.s3o(); return function (ev) { var x, y; ev = ev || window.event; ev.preventDefault ? ev.preventDefault() : ev.returnValue = p0zBu.e1; ev.stopPropagation(); x = ev.pageX || ev.touches[p0zBu.U5 - p0zBu[122956]].pageX; y = ev.pageY || ev.touches[+p0zBu.U5].pageY; _this.el.fire(eventName, { x: x, y: y, event: ev }); }; } this.rectSelection.set = this.rectSelection.set || this.parent.set(); G0D.s3o(); if (!this.rectSelection.set.get(+p0zBu.U5)) { this.rectSelection.set.add(this.nested.rect(bbox.width, bbox.height).addClass(this.options.classRect)); } if (this.options.points.length && this.rectSelection.set.length() < +p0zBu.y8n) { ename = M4P; mname = x02; this.options.points.map(function (point, index) { var coords, pointElement; G0D.s3o(); coords = _this.pointCoords(point, bbox); pointElement = _this.drawPoint(coords.x, coords.y).attr(d1Pxx.Q$D, _this.options.classPoints + n2Odt.b5S + point).on(mname, getMoseDownFunc(point)).on(ename, getMoseDownFunc(point)); _this.rectSelection.set.add(pointElement); }); this.rectSelection.set.each(function () { this.addClass(_this.options.classPoints); }); } if (this.options.rotationPoint && (this.options.points && !this.rectSelection.set.get(+d1Pxx.U_x) || !this.options.points && !this.rectSelection.set.get(+p0zBu.v2))) { curriedEvent = function (ev) { var x, y; ev = ev || window.event; ev.preventDefault ? ev.preventDefault() : ev.returnValue = p0zBu.e1; ev.stopPropagation(); x = ev.pageX || ev.touches[+p0zBu.U5].pageX; y = ev.pageY || ev.touches[+p0zBu.U5].pageY; _this.el.fire(n2Odt.p30, { x: x, y: y, event: ev }); }; pointElement = this.drawPoint(bbox.width / p0zBu[149144], p0zBu.v_).attr(d1Pxx.Q$D, this.options.classPoints + X_y).on(M4P, curriedEvent).on(x02, curriedEvent); this.rectSelection.set.add(pointElement); } }; function SelectHandler(el) { this.el = el; G0D.s3o(); el.remember(C7G, this); this.pointSelection = { isSelected: p0zBu.e1 }; this.rectSelection = { isSelected: p0zBu.e1 }; this.pointsList = { lt: [+p0zBu.U5, p0zBu.U5 * p0zBu[32075]], rt: [d1Pxx.s0r, p0zBu.U5 | p0zBu[122956]], rb: [d1Pxx.s0r, d1Pxx.v26], lb: [p0zBu.U5 << p0zBu.Q_, d1Pxx.v26], t: [d1Pxx.s0r, +p0zBu.U5], r: [d1Pxx.s0r, d1Pxx.v26], b: [d1Pxx.s0r, d1Pxx.v26], l: [p0zBu[122956], d1Pxx.v26] }; this.pointCoord = function (setting, object, isPointCentered) { var coord; coord = typeof setting !== d1Pxx.S0h ? setting : object[setting]; return isPointCentered ? coord / p0zBu[149144] : coord; }; this.pointCoords = function (point, object) { var settings; settings = this.pointsList[point]; return { x: this.pointCoord(settings[p0zBu.U5 >> p0zBu[122956]], object, point === n2Odt.J3G || point === n2Odt.R5S), y: this.pointCoord(settings[p0zBu.v2 - p0zBu[122956]], object, point === d1Pxx.a4b || point === d1Pxx.N73) }; }; } SelectHandler.prototype.handler = function () { var bbox; bbox = this.el.bbox(); this.nested.matrix(new SVG.Matrix(this.el).translate(bbox.x, bbox.y)); if (this.rectSelection.isSelected) { this.updateRectSelection(); } if (this.pointSelection.isSelected) { this.updatePointSelection(); } }; G0D.S$D(); SelectHandler.prototype.observe = function () { var Y0z = 'DOMAttrModified.select'; var _this; _this = this; if (MutationObserver) { if (this.rectSelection.isSelected || this.pointSelection.isSelected) { this.observerInst = this.observerInst || new MutationObserver(function () { G0D.s3o(); _this.handler(); }); this.observerInst.observe(this.el.node, { attributes: p0zBu.s2A }); } else { try { this.observerInst.disconnect(); delete this.observerInst; } catch (e) { } } } else { this.el.off(Y0z); if (this.rectSelection.isSelected || this.pointSelection.isSelected) { this.el.on(Y0z, function () { G0D.s3o(); _this.handler(); }); } } }; SelectHandler.prototype.cleanup = function () { G0D.s3o(); if (!this.rectSelection.isSelected && this.rectSelection.set) { this.rectSelection.set.each(function () { G0D.s3o(); this.remove(); }); this.rectSelection.set.clear(); delete this.rectSelection.set; } if (!this.pointSelection.isSelected && this.pointSelection.set) { this.pointSelection.set.each(function () { this.remove(); }); this.pointSelection.set.clear(); delete this.pointSelection.set; } if (!this.pointSelection.isSelected && !this.rectSelection.isSelected) { this.nested.remove(); delete this.nested; } }; SVG.extend(SVG.Element, { selectize: function (value, options) { G0D.s3o(); var selectHandler; if (typeof value === d1Pxx.E_o) { options = value; value = p0zBu.s2A; } selectHandler = this.remember(C7G) || new SelectHandler(this); selectHandler.init(value === undefined ? p0zBu.s2A : value, options || ({})); return this; } }); SVG.Element.prototype.selectize.defaults = { points: [n2Odt.G39, n2Odt.f2r, n2Odt.g9v, n2Odt.f1X, n2Odt.J3G, d1Pxx.a4b, n2Odt.R5S, d1Pxx.N73], pointsExclude: [], classRect: n2Odt.j$X, classPoints: n7Y, pointSize: d1Pxx.p3n * p0zBu[32075], rotationPoint: p0zBu.s2A, deepSelect: p0zBu.e1, pointType: d1Pxx.y2B, pointFill: c6i, pointStroke: { width: p0zBu.v2 - p0zBu[122956], color: c6i } }; })();;; (function () { "use strict"; var v4J = p0zBu; var c9M = q2uu1K; var normalizeEvent; normalizeEvent = function (ev) { if (!ev.touches) { ev.touches = [{ clientX: ev.clientX, clientY: ev.clientY }]; } return ev.touches; }; c9M.s3o(); SVG.extend(SVG.Doc, SVG.Nested, { panZoom: function (options) { var C5L = "0.03"; var zoomFactor, lastP, lastTouches, zoomInProgress, wheelZoom, pinchZoomStart, pinchZoomStop, pinchZoom, panStart, panStop, panning; options = options || ({}); zoomFactor = options.zoomFactor || C5L * p0zBu[32075]; zoomInProgress = p0zBu.e1; wheelZoom = function (ev) { var zoomAmount, p; ev.preventDefault(); if (ev.deltaY == +p0zBu.U5) { return; } zoomAmount = this.zoom() - zoomFactor * ev.deltaY / Math.abs(ev.deltaY); p = this.point(ev.clientX, ev.clientY); this.zoom(zoomAmount, p); }; pinchZoomStart = function (ev) { var o6s = 'pinchZoomStart'; lastTouches = normalizeEvent(ev); if (lastTouches.length < p0zBu.y8n >> p0zBu.S1) { return; } ev.preventDefault(); if (this.fire(o6s, { event: ev }).event().defaultPrevented) { return; } this.off(d1Pxx.Q9D, pinchZoomStart); zoomInProgress = p0zBu.s2A; SVG.on(document, d1Pxx.M5N, pinchZoom, this, { passive: p0zBu.e1 }); SVG.on(document, d1Pxx.I4Q, pinchZoomStop, this, { passive: p0zBu.e1 }); }; pinchZoomStop = function (ev) { var m6c = 'pinchZoomEnd'; ev.preventDefault(); zoomInProgress = p0zBu.e1; c9M.s3o(); this.fire(m6c, { event: ev }); SVG.off(document, d1Pxx.M5N, pinchZoom); SVG.off(document, d1Pxx.I4Q, pinchZoomStop); this.on(d1Pxx.Q9D, pinchZoomStart); }; pinchZoom = function (ev) { var currentTouches, lastDelta, currentDelta, zoomAmount, currentFocus, lastFocus, p, focusP, box; ev.preventDefault(); currentTouches = normalizeEvent(ev); lastDelta = Math.sqrt(Math.pow(lastTouches[p0zBu.U5 << p0zBu.S1].clientX - lastTouches[p0zBu.v2 >> p0zBu[122956]].clientX, p0zBu.y8n * p0zBu[32075]) + Math.pow(lastTouches[p0zBu.U5 * p0zBu[32075]].clientY - lastTouches[+p0zBu.v2].clientY, p0zBu[149144])); currentDelta = Math.sqrt(Math.pow(currentTouches[p0zBu.U5 ^ p0zBu[122956]].clientX - currentTouches[p0zBu.v2 - p0zBu[122956]].clientX, p0zBu.y8n >> p0zBu[122956]) + Math.pow(currentTouches[p0zBu.U5 * p0zBu[32075]].clientY - currentTouches[+p0zBu.v2].clientY, p0zBu[149144])); v4J.s6(p0zBu.w5); zoomAmount = v4J.L6(currentDelta, lastDelta); currentFocus = { x: currentTouches[p0zBu.U5 << p0zBu[122956]].clientX + d1Pxx.j8$ * (currentTouches[+p0zBu.v2].clientX - currentTouches[p0zBu.U5 >> p0zBu[122956]].clientX), y: currentTouches[p0zBu.U5 - p0zBu[122956]].clientY + n2Odt.t5H * p0zBu[32075] * (currentTouches[p0zBu.v2 | p0zBu[32075]].clientY - currentTouches[p0zBu.U5 * p0zBu[32075]].clientY) }; c9M.s3o(); lastFocus = { x: lastTouches[+p0zBu.U5].clientX + n2Odt.t5H * p0zBu[32075] * (lastTouches[p0zBu.v2 >> p0zBu.Q_].clientX - lastTouches[p0zBu[122956]].clientX), y: lastTouches[+p0zBu.U5].clientY + (n2Odt.t5H - p0zBu[122956]) * (lastTouches[p0zBu.v2 | p0zBu[32075]].clientY - lastTouches[p0zBu[122956]].clientY) }; p = this.point(currentFocus.x, currentFocus.y); focusP = this.point((p0zBu.y8n - p0zBu[122956]) * currentFocus.x - lastFocus.x, +p0zBu.y8n * currentFocus.y - lastFocus.y); box = new SVG.Box(this.viewbox()).transform(new SVG.Matrix().translate(p.x, p.y).scale(zoomAmount, +p0zBu.U5, p0zBu[122956]).translate(-focusP.x, -focusP.y)); this.viewbox(box); lastTouches = currentTouches; this.fire(n2Odt.h0C, { box: box, focus: focusP }); }; panStart = function (ev) { var P6R = 'panStart'; ev.preventDefault(); this.off(d1Pxx.M72, panStart); lastTouches = normalizeEvent(ev); if (zoomInProgress) { return; } this.fire(P6R, { event: ev }); lastP = { x: lastTouches[p0zBu.U5 ^ p0zBu[122956]].clientX, y: lastTouches[p0zBu[122956]].clientY }; SVG.on(document, d1Pxx.J1_, panning, this); c9M.s3o(); SVG.on(document, d1Pxx.A5c, panStop, this); }; panStop = function (ev) { var Q20 = 'panEnd'; ev.preventDefault(); this.fire(Q20, { event: ev }); SVG.off(document, d1Pxx.J1_, panning); SVG.off(document, d1Pxx.A5c, panStop); this.on(d1Pxx.M72, panStart); }; panning = function (ev) { var currentTouches, currentP, p1, p2, deltaP, box; ev.preventDefault(); currentTouches = normalizeEvent(ev); currentP = { x: currentTouches[+p0zBu.U5].clientX, y: currentTouches[p0zBu[122956]].clientY }; c9M.s3o(); p1 = this.point(currentP.x, currentP.y); p2 = this.point(lastP.x, lastP.y); deltaP = [p2.x - p1.x, p2.y - p1.y]; box = new SVG.Box(this.viewbox()).transform(new SVG.Matrix().translate(deltaP[p0zBu.U5 * p0zBu[32075]], deltaP[p0zBu.v2 | p0zBu[122956]])); this.viewbox(box); lastP = currentP; }; this.on(n2Odt.U8t, wheelZoom); this.on(d1Pxx.Q9D, pinchZoomStart, this, { passive: p0zBu.e1 }); this.on(d1Pxx.M72, panStart, this); return this; }, zoom: function (level, point) { var style, width, height, v, zoomX, zoomY, zoom, zoomAmount, box; c9M.s3o(); style = window.getComputedStyle(this.node); width = parseFloat(style.getPropertyValue(d1Pxx.s0r)); height = parseFloat(style.getPropertyValue(d1Pxx.v26)); v = this.viewbox(); zoomX = width / v.width; zoomY = height / v.height; zoom = Math.min(zoomX, zoomY); if (level == d1Pxx.p8r) { return zoom; } v4J.s6(p0zBu.w5); zoomAmount = v4J.F_(level, zoom); point = point || new SVG.Point(width / +p0zBu.y8n / zoomX + v.x, height / (p0zBu.y8n | p0zBu[149144]) / zoomY + v.y); box = new SVG.Box(v).transform(new SVG.Matrix().scale(zoomAmount, point.x, point.y)); if (this.fire(n2Odt.h0C, { box: box, focus: point }).event().defaultPrevented) { return this; } return this.viewbox(box); } }); SVG.extend(SVG.FX, { zoom: function (level, point) { c9M.s3o(); return this.add(n2Odt.h0C, new SVG.Number(level), point); } }); })();; (function () { var J99 = 'FillPaint'; var R0m = 'Effect'; var c0s = 'SourceGraphic'; var j6y = 'SourceAlpha'; var J73 = 'Out'; var E7M = 'Func'; var q24 = 'fe'; var C6K = 'BackgroundAlpha'; var v2u = ".343"; var D4f = 'StrokePaint'; var u0x = .249; var t1G = 'in'; var R9q = ".000"; var e1m = ".172"; var d3G = '[result="'; var z9D = ".119"; var v1U = ".130"; var T3r = ".334"; var Z9k = ".669"; var c1h = 'BackgroundImage'; var K_j = .111; var m9z = ".626"; var U9i = 'result'; var chainingEffects, effects, parentEffects, childEffects; function normaliseMatrix(matrix) { var y1M = /^\s+/; if (Array.isArray(matrix)) { matrix = new SVG.Array(matrix); } return matrix.toString().replace(y1M, p0zBu.e5).replace(n2Odt.E8L, p0zBu.e5).replace(/\s+/g, d1Pxx.P0U); } SVG.Filter = SVG.invent({ create: n2Odt.E$9, inherit: SVG.Parent, extend: { source: c0s, sourceAlpha: j6y, background: c1h, backgroundAlpha: C6K, fill: J99, stroke: D4f, autoSetIn: p0zBu.s2A, put: function (element, i) { this.add(element, i); if (!element.attr(t1G) && this.autoSetIn) { element.attr(t1G, this.source); } q2uu1K.s3o(); if (!element.attr(U9i)) { element.attr(U9i, element); } return element; }, blend: function (in1, in2, mode) { return this.put(new SVG.BlendEffect(in1, in2, mode)); }, colorMatrix: function (type, values) { q2uu1K.s3o(); return this.put(new SVG.ColorMatrixEffect(type, values)); }, convolveMatrix: function (matrix) { return this.put(new SVG.ConvolveMatrixEffect(matrix)); }, componentTransfer: function (components) { return this.put(new SVG.ComponentTransferEffect(components)); }, composite: function (in1, in2, operator) { q2uu1K.S$D(); return this.put(new SVG.CompositeEffect(in1, in2, operator)); }, flood: function (color, opacity) { return this.put(new SVG.FloodEffect(color, opacity)); }, offset: function (x, y) { return this.put(new SVG.OffsetEffect(x, y)); }, image: function (src) { q2uu1K.s3o(); return this.put(new SVG.ImageEffect(src)); }, merge: function () { var args; args = [undefined]; for (var i in arguments) { args.push(arguments[i]); } q2uu1K.S$D(); return this.put(new (SVG.MergeEffect.bind.apply(SVG.MergeEffect, args))()); }, gaussianBlur: function (x, y) { return this.put(new SVG.GaussianBlurEffect(x, y)); }, morphology: function (operator, radius) { return this.put(new SVG.MorphologyEffect(operator, radius)); }, diffuseLighting: function (surfaceScale, diffuseConstant, kernelUnitLength) { q2uu1K.S$D(); return this.put(new SVG.DiffuseLightingEffect(surfaceScale, diffuseConstant, kernelUnitLength)); }, displacementMap: function (in1, in2, scale, xChannelSelector, yChannelSelector) { q2uu1K.s3o(); return this.put(new SVG.DisplacementMapEffect(in1, in2, scale, xChannelSelector, yChannelSelector)); }, specularLighting: function (surfaceScale, diffuseConstant, specularExponent, kernelUnitLength) { return this.put(new SVG.SpecularLightingEffect(surfaceScale, diffuseConstant, specularExponent, kernelUnitLength)); }, tile: function () { q2uu1K.s3o(); return this.put(new SVG.TileEffect()); }, turbulence: function (baseFrequency, numOctaves, seed, stitchTiles, type) { return this.put(new SVG.TurbulenceEffect(baseFrequency, numOctaves, seed, stitchTiles, type)); }, toString: function () { return d1Pxx.e91 + this.attr(d1Pxx.m$b) + d1Pxx.B3X; } } }); function foreach() { var fn; fn = function () { }; if (typeof arguments[arguments.length - p0zBu[32075]] == d1Pxx.d0a) { fn = arguments[arguments.length - +p0zBu.v2]; Array.prototype.splice.call(arguments, arguments.length - p0zBu[32075], p0zBu.v2 - p0zBu[122956]); } for (var k in arguments) { for (var i in arguments[k]) { fn(arguments[k][i], i, arguments[k]); } } } SVG.extend(SVG.Defs, { filter: function (block) { var filter; filter = this.put(new SVG.Filter()); q2uu1K.S$D(); if (typeof block === d1Pxx.d0a) { block.call(filter, filter); } return filter; } }); SVG.extend(SVG.Container, { filter: function (block) { q2uu1K.s3o(); return this.defs().filter(block); } }); SVG.extend(SVG.Element, SVG.G, SVG.Nested, { filter: function (block) { q2uu1K.S$D(); this.filterer = block instanceof SVG.Element ? block : this.doc().filter(block); if (this.doc() && this.filterer.doc() !== this.doc()) { this.doc().defs().add(this.filterer); } this.attr(n2Odt.E$9, this.filterer); return this.filterer; }, unfilter: function (remove) { if (this.filterer && remove === p0zBu.s2A) { this.filterer.remove(); } q2uu1K.s3o(); delete this.filterer; return this.attr(n2Odt.E$9, d1Pxx.p8r); } }); SVG.Effect = SVG.invent({ create: function () { q2uu1K.S$D(); this.constructor.call(this); }, inherit: SVG.Element, extend: { in: function (effect) { q2uu1K.s3o(); return effect == d1Pxx.p8r ? this.parent() && this.parent().select(d3G + this.attr(t1G) + n2Odt.k_$).get(p0zBu.U5 << p0zBu.V8) || this.attr(t1G) : this.attr(t1G, effect); }, result: function (result) { q2uu1K.S$D(); return result == d1Pxx.p8r ? this.attr(U9i) : this.attr(U9i, result); }, toString: function () { q2uu1K.s3o(); return this.result(); } } }); SVG.ParentEffect = SVG.invent({ create: function () { this.constructor.call(this); }, inherit: SVG.Parent, extend: { in: function (effect) { return effect == d1Pxx.p8r ? this.parent() && this.parent().select(d3G + this.attr(t1G) + n2Odt.k_$).get(p0zBu.U5 - p0zBu[122956]) || this.attr(t1G) : this.attr(t1G, effect); }, result: function (result) { q2uu1K.s3o(); return result == d1Pxx.p8r ? this.attr(U9i) : this.attr(U9i, result); }, toString: function () { q2uu1K.S$D(); return this.result(); } } }); chainingEffects = { blend: function (in2, mode) { return this.parent() && this.parent().blend(this, in2, mode);; }, colorMatrix: function (type, values) { q2uu1K.s3o(); return this.parent() && this.parent().colorMatrix(type, values).in(this); }, convolveMatrix: function (matrix) { return this.parent() && this.parent().convolveMatrix(matrix).in(this); }, componentTransfer: function (components) { q2uu1K.s3o(); return this.parent() && this.parent().componentTransfer(components).in(this); }, composite: function (in2, operator) { q2uu1K.s3o(); return this.parent() && this.parent().composite(this, in2, operator);; }, flood: function (color, opacity) { q2uu1K.S$D(); return this.parent() && this.parent().flood(color, opacity);; }, offset: function (x, y) { return this.parent() && this.parent().offset(x, y).in(this); }, image: function (src) { q2uu1K.S$D(); return this.parent() && this.parent().image(src);; }, merge: function () { q2uu1K.s3o(); return this.parent() && this.parent().merge.apply(this.parent(), [this].concat(arguments));; }, gaussianBlur: function (x, y) { var N6K = p0zBu; var r2q = "1967662766"; var r0b = "518691529"; var O3e = "27096"; var L0y = "95700"; var i9, s_, o_; N6K.s6(p0zBu[122956]); i9 = -N6K.L6(p0zBu.Q_, r0b); N6K.s6(p0zBu[149144]); s_ = N6K.L6(p0zBu.Q_, r2q); N6K.s0(p0zBu[149144]); o_ = N6K.F_(p0zBu.S1, p0zBu.y8n); for (var C4 = p0zBu.v2 - p0zBu[122956]; N6K.E7(C4.toString(), C4.toString().length, +O3e) !== i9; C4++) { return this.parent() && this.parent().gaussianBlur(x, y).in(this); } if (N6K.E7(o_.toString(), o_.toString().length, L0y | p0zBu[122956]) !== s_) { return this.parent() || this.parent().gaussianBlur(x, y).in(this); } }, morphology: function (operator, radius) { return this.parent() && this.parent().morphology(operator, radius).in(this); }, diffuseLighting: function (surfaceScale, diffuseConstant, kernelUnitLength) { q2uu1K.S$D(); return this.parent() && this.parent().diffuseLighting(surfaceScale, diffuseConstant, kernelUnitLength).in(this); }, displacementMap: function (in2, scale, xChannelSelector, yChannelSelector) { q2uu1K.s3o(); return this.parent() && this.parent().displacementMap(this, in2, scale, xChannelSelector, yChannelSelector);; }, specularLighting: function (surfaceScale, diffuseConstant, specularExponent, kernelUnitLength) { q2uu1K.s3o(); return this.parent() && this.parent().specularLighting(surfaceScale, diffuseConstant, specularExponent, kernelUnitLength).in(this); }, tile: function () { q2uu1K.S$D(); return this.parent() && this.parent().tile().in(this); }, turbulence: function (baseFrequency, numOctaves, seed, stitchTiles, type) { q2uu1K.S$D(); return this.parent() && this.parent().turbulence(baseFrequency, numOctaves, seed, stitchTiles, type).in(this); } }; SVG.extend(SVG.Effect, chainingEffects); SVG.extend(SVG.ParentEffect, chainingEffects); SVG.ChildEffect = SVG.invent({ create: function () { this.constructor.call(this); }, inherit: SVG.Element, extend: { in: function (effect) { this.attr(t1G, effect); } } }); effects = { blend: function (in1, in2, mode) { q2uu1K.S$D(); this.attr({ in: in1, in2: in2, mode: mode || n2Odt.r9L }); }, colorMatrix: function (type, values) { if (type == d1Pxx.G_m) { values = normaliseMatrix(values); } this.attr({ type: type, values: typeof values == d1Pxx.c42 ? d1Pxx.p8r : values }); }, convolveMatrix: function (matrix) { matrix = normaliseMatrix(matrix); this.attr({ order: Math.sqrt(matrix.split(d1Pxx.P0U).length), kernelMatrix: matrix }); }, composite: function (in1, in2, operator) { this.attr({ in: in1, in2: in2, operator: operator }); }, flood: function (color, opacity) { var i27 = 'flood-opacity'; var J2N = 'flood-color'; this.attr(J2N, color); if (opacity != d1Pxx.p8r) { this.attr(i27, opacity); } }, offset: function (x, y) { this.attr({ dx: x, dy: y }); }, image: function (src) { this.attr(d1Pxx.C2V, src, SVG.xlink); }, displacementMap: function (in1, in2, scale, xChannelSelector, yChannelSelector) { this.attr({ in: in1, in2: in2, scale: scale, xChannelSelector: xChannelSelector, yChannelSelector: yChannelSelector }); }, gaussianBlur: function (x, y) { var D7x = 'stdDeviation'; x = x || +p0zBu.U5; y = y || x || +p0zBu.U5; p0zBu.s0(p0zBu.S9); this.attr(D7x, p0zBu.F_(d1Pxx.P0U, y, x)); }, morphology: function (operator, radius) { this.attr({ operator: operator, radius: radius }); }, tile: function () { }, turbulence: function (baseFrequency, numOctaves, seed, stitchTiles, type) { q2uu1K.S$D(); this.attr({ numOctaves: numOctaves, seed: seed, stitchTiles: stitchTiles, baseFrequency: baseFrequency, type: type }); } }; parentEffects = { merge: function () { var children, that; if (arguments[+p0zBu.U5] instanceof SVG.Set) { that = this; arguments[p0zBu[122956]].each(function (i) { q2uu1K.S$D(); if (this instanceof SVG.MergeNode) { that.put(this); } else if (this instanceof SVG.Effect || this instanceof SVG.ParentEffect) { that.put(new SVG.MergeNode(this)); } }); } else { if (Array.isArray(arguments[p0zBu[122956]])) { children = arguments[+p0zBu.U5]; } else { children = arguments; } for (var i = p0zBu[122956]; i < children.length; i++) { if (children[i] instanceof SVG.MergeNode) { this.put(children[i]); } else { this.put(new SVG.MergeNode(children[i])); } } } }, componentTransfer: function (compontents) { this.rgb = new SVG.Set();[d1Pxx.a4b, d1Pxx.w99, n2Odt.R5S, d1Pxx.x4G].forEach((function (c) { var w1o = 'identity'; this[c] = new SVG[E7M + c.toUpperCase()](w1o); this.rgb.add(this[c]); this.node.appendChild(this[c].node); }).bind(this)); q2uu1K.S$D(); if (compontents) { if (compontents.rgb) { ;[d1Pxx.a4b, d1Pxx.w99, n2Odt.R5S].forEach((function (c) { q2uu1K.s3o(); this[c].attr(compontents.rgb); }).bind(this)); delete compontents.rgb; } for (var c in compontents) { this[c].attr(compontents[c]); } } }, diffuseLighting: function (surfaceScale, diffuseConstant, kernelUnitLength) { q2uu1K.S$D(); this.attr({ surfaceScale: surfaceScale, diffuseConstant: diffuseConstant, kernelUnitLength: kernelUnitLength }); }, specularLighting: function (surfaceScale, diffuseConstant, specularExponent, kernelUnitLength) { this.attr({ surfaceScale: surfaceScale, diffuseConstant: diffuseConstant, specularExponent: specularExponent, kernelUnitLength: kernelUnitLength }); } }; childEffects = { distantLight: function (azimuth, elevation) { this.attr({ azimuth: azimuth, elevation: elevation }); }, pointLight: function (x, y, z) { q2uu1K.S$D(); this.attr({ x: x, y: y, z: z }); }, spotLight: function (x, y, z, pointsAtX, pointsAtY, pointsAtZ) { this.attr({ x: x, y: y, z: z, pointsAtX: pointsAtX, pointsAtY: pointsAtY, pointsAtZ: pointsAtZ }); }, mergeNode: function (in1) { q2uu1K.s3o(); this.attr(t1G, in1); } };[d1Pxx.a4b, d1Pxx.w99, n2Odt.R5S, d1Pxx.x4G].forEach(function (c) { q2uu1K.s3o(); childEffects[E7M + c.toUpperCase()] = function (type) { var u0i = 'intercept'; var H67 = 'type'; var a3F = 'tableValues'; var S9u = 'slope'; q2uu1K.S$D(); var x4u = 'exponent'; var p6W = 'amplitude'; this.attr(H67, type); switch (type) { case n2Odt.m73: this.attr(a3F, arguments[p0zBu.v2 - p0zBu[122956]]); break; case d1Pxx.l65: this.attr(S9u, arguments[p0zBu.v2 * p0zBu[32075]]); this.attr(u0i, arguments[+p0zBu.y8n]); break; case n2Odt.U4Q: this.attr(p6W, arguments[p0zBu[32075]]); this.attr(x4u, arguments[+p0zBu.y8n]); this.attr(d1Pxx.B1V, arguments[p0zBu.y8n * p0zBu[32075]]); break; } }; }); foreach(effects, function (effect, i) { var name, proto; name = i.charAt(p0zBu.U5 >> p0zBu.Q_).toUpperCase() + i.slice(p0zBu.v2 - p0zBu[122956]); proto = {}; p0zBu.s6(p0zBu[394202]); SVG[p0zBu.F_(name, R0m)] = SVG.invent({ create: function () { q2uu1K.s3o(); this.constructor.call(this, SVG.create(q24 + name)); effect.apply(this, arguments); this.result(this.attr(d1Pxx.m$b) + J73); }, inherit: SVG.Effect, extend: proto }); }); foreach(parentEffects, function (effect, i) { var d_o = p0zBu; var name, proto; d_o.s0(p0zBu[394202]); var w_ = d_o.F_(p0zBu[394202], p0zBu.H2); name = i.charAt(p0zBu[122956]).toUpperCase() + i.slice(p0zBu.v2 >> w_); proto = {}; d_o.s0(p0zBu[394202]); SVG[d_o.L6(name, R0m)] = SVG.invent({ create: function () { this.constructor.call(this, SVG.create(q24 + name)); effect.apply(this, arguments); this.result(this.attr(d1Pxx.m$b) + J73); }, inherit: SVG.ParentEffect, extend: proto }); }); foreach(childEffects, function (effect, i) { var l9d = p0zBu; var W3b = "30895"; var T63 = "65128"; var B7A = "1056249502"; var N7q = "1510485660"; var name, proto, m4, e8, n9; name = i.charAt(+p0zBu.U5).toUpperCase() + i.slice(+p0zBu.v2); l9d.s6(p0zBu.c7); m4 = l9d.F_(p0zBu[122956], B7A); l9d.s0(p0zBu.c7); e8 = l9d.L6(p0zBu[122956], N7q); n9 = p0zBu[149144]; for (var r8 = p0zBu.v2 - p0zBu[122956]; l9d.E7(r8.toString(), r8.toString().length, T63 - p0zBu[122956]) !== m4; r8++) { proto = {}; n9 += p0zBu[149144]; } if (l9d.c6(n9.toString(), n9.toString().length, W3b - p0zBu[122956]) !== e8) { proto = {}; } SVG[name] = SVG.invent({ create: function () { this.constructor.call(this, SVG.create(q24 + name)); effect.apply(this, arguments); }, inherit: SVG.ChildEffect, extend: proto }); }); SVG.extend(SVG.MergeEffect, { in: function (effect) { if (effect instanceof SVG.MergeNode) { this.add(effect, +p0zBu.U5); } else { this.add(new SVG.MergeNode(effect), +p0zBu.U5); } q2uu1K.S$D(); return this; } }); SVG.extend(SVG.CompositeEffect, SVG.BlendEffect, SVG.DisplacementMapEffect, { in2: function (effect) { q2uu1K.S$D(); var u6u = 'in2'; return effect == d1Pxx.p8r ? this.parent() && this.parent().select(d3G + this.attr(u6u) + n2Odt.k_$).get(p0zBu.U5 * p0zBu[32075]) || this.attr(u6u) : this.attr(u6u, effect); } }); SVG.filter = { sepiatone: [v2u * p0zBu[32075], Z9k - p0zBu[122956], +z9D, p0zBu.U5 - p0zBu[122956], p0zBu.U5 << p0zBu.S1, u0x, +m9z, v1U - p0zBu[122956], +p0zBu.U5, p0zBu.U5 | p0zBu[122956], +e1m, T3r - p0zBu[122956], K_j, p0zBu[122956], p0zBu.U5 ^ p0zBu[122956], +R9q, +R9q, R9q >> p0zBu[122956], p0zBu.v2 * p0zBu[32075], p0zBu.U5 - p0zBu[122956]] }; }).call(this); SVG.Bleed = SVG.invent({ create: d1Pxx.w99, inherit: SVG.G, extend: { size: function (width, height, thickness) { q2uu1K.s3o(); var j75 = 'rgba(255, 112, 112, 0.5)'; this.top_rect = this.rect(width, thickness).move(p0zBu.U5 * p0zBu[32075], +p0zBu.U5).attr(d1Pxx.X_Y, j75); this.bottom_rect = this.rect(width, thickness).move(+p0zBu.U5, height - thickness).attr(d1Pxx.X_Y, j75); this.left_rect = this.rect(thickness, height - thickness * (p0zBu.y8n | p0zBu[149144])).move(p0zBu.U5 * p0zBu[32075], thickness).attr(d1Pxx.X_Y, j75); this.right_rect = this.rect(thickness, height - thickness * +p0zBu.y8n).move(width - thickness, thickness).attr(d1Pxx.X_Y, j75); return this; } }, construct: { bleed: function (width, height, bleed) { var w4s = p0zBu; q2uu1K.S$D(); w4s.s6(p0zBu.d$); return this.put(new SVG.Bleed()).size(w4s.F_(p0zBu[149144], bleed, width, p0zBu.y8n), w4s.F_(p0zBu[32075], bleed, p0zBu.y8n, height, w4s.s0(p0zBu.p8)), bleed); } } }); SVG.Cropmarks = SVG.invent({ create: d1Pxx.w99, inherit: SVG.G, extend: { size: function (width, height, thickness) { this.lines = { tl: { v: this.line(thickness, p0zBu.U5 | p0zBu[122956], thickness, thickness).stroke({ width: p0zBu[32075] }), h: this.line(p0zBu.U5 << p0zBu.S1, thickness, thickness, thickness).stroke({ width: p0zBu.v2 << p0zBu.Q_ }) }, tr: { v: this.line(thickness + width, p0zBu.U5 - p0zBu[122956], thickness + width, thickness).stroke({ width: p0zBu[32075] }), h: this.line(thickness + width, thickness, thickness + width + thickness, thickness).stroke({ width: p0zBu[32075] }) }, bl: { v: this.line(thickness, thickness + height, thickness, thickness + height + thickness).stroke({ width: p0zBu.v2 << p0zBu.S1 }), h: this.line(+p0zBu.U5, thickness + height, thickness, thickness + height).stroke({ width: p0zBu[32075] }) }, br: { v: this.line(thickness + width, thickness + height, thickness + width, thickness + height + thickness).stroke({ width: p0zBu.v2 - p0zBu[122956] }), h: this.line(thickness + width, thickness + height, thickness + width + thickness, thickness + height).stroke({ width: p0zBu.v2 * p0zBu[32075] }) } }; return this; } }, construct: { cropmarks: function (width, height, bleed) { q2uu1K.S$D(); return this.put(new SVG.Cropmarks()).size(width, height, bleed); } } }); (function (global, factory) { typeof exports === d1Pxx.E_o && typeof module !== d1Pxx.c42 ? module.exports = factory() : typeof define === d1Pxx.d0a && define.amd ? define(factory) : (global = global || self, global.Cropper = factory()); })(this, function () { 'use strict'; var P2t = q2uu1K; var U4v = p0zBu; var I0U = 'se'; var t4w = 'max-height:none!important;'; var Q4C = 'cropper'; var g0J = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/; var v$e = '<span class="cropper-center"></span>'; var a4Y = 'ne'; var q7n = '<div class="cropper-container" touch-action="none">'; var G6S = /^width|height|left|top|marginLeft|marginTop$/; var e4W = 'min-height:0!important;'; var S7H = "-invisible"; var C81 = /\s\s*/; var u7R = 'pointerup pointercancel'; var z5S = 'sw'; var P83 = '<div class="cropper-wrap-box">'; var z11 = '<span class="cropper-point point-sw" data-cropper-action="sw"></span>'; var W6r = 'cropmove'; var I66 = 'n'; var l6u = '<span class="cropper-line line-n" data-cropper-action="n"></span>'; var F91 = '</div>'; var x6P = '<span class="cropper-point point-se" data-cropper-action="se"></span>'; var x4R = '<span class="cropper-point point-e" data-cropper-action="e"></span>'; var r7n = 'cover'; var F0k = 'cropstart'; var N2i = "Preview"; var V9L = '<span class="cropper-dashed dashed-v"></span>'; var s1 = 49; var I8y = '<span class="cropper-line line-w" data-cropper-action="w"></span>'; var W$s = 'PointerEvent'; var B_$ = 'cropend'; var R6w = '<div class="cropper-drag-box"></div>'; var q_0 = "-disabled"; var K4_ = 'max-width:none!important;'; var s$V = "-modal"; var m5z = 'crop'; var B0d = "-hidden"; var F1M = '<div class="cropper-canvas"></div>'; var o0x = 'touchend touchcancel'; var E2Y = 'image/jpeg'; var Q0k = /^data:image\/jpeg;base64,/; var t45 = /^img|canvas$/i; var J1K = '<div class="cropper-crop-box">'; var O1R = "-hide"; var L6c = '<span class="cropper-point point-s" data-cropper-action="s"></span>'; var o8u = "-move"; var i3k = "Action"; var h5W = 'canvas'; var y26 = 'w'; var P09 = /\.\d*(?:0|9){12}\d*$/; var P0o = 'pointermove'; var x6Y = '<span class="cropper-point point-nw" data-cropper-action="nw"></span>'; var T6q = '<span class="cropper-dashed dashed-h"></span>'; var j9s = '<span class="cropper-face"></span>'; var m0M = '<span class="cropper-point point-w" data-cropper-action="w"></span>'; var j7C = 'ready'; var y3G = '<span class="cropper-point point-n" data-cropper-action="n"></span>'; var O9D = 'nw'; var j9H = /^(\w+:)\/\/([^:/?#]*):?(\d*)/i; var j8h = '<span class="cropper-point point-ne" data-cropper-action="ne"></span>'; var Y15 = '<span class="cropper-view-box"></span>'; var j_2 = '<span class="cropper-line line-e" data-cropper-action="e"></span>'; var J2s = /^data:.*,/; var i3l = '<span class="cropper-line line-s" data-cropper-action="s"></span>'; var A9f = "-crop"; var g7y = 'min-width:0!important;'; var d5A = 'pointerdown'; var IS_BROWSER, WINDOW, IS_TOUCH_DEVICE, HAS_POINTER_EVENT, NAMESPACE, ACTION_ALL, ACTION_CROP, ACTION_MOVE, ACTION_ZOOM, ACTION_EAST, ACTION_WEST, ACTION_SOUTH, ACTION_NORTH, ACTION_NORTH_EAST, ACTION_NORTH_WEST, ACTION_SOUTH_EAST, ACTION_SOUTH_WEST, CLASS_CROP, CLASS_DISABLED, CLASS_HIDDEN, CLASS_HIDE, CLASS_INVISIBLE, CLASS_MODAL, CLASS_MOVE, DATA_ACTION, DATA_PREVIEW, DRAG_MODE_CROP, DRAG_MODE_MOVE, DRAG_MODE_NONE, EVENT_CROP, EVENT_CROP_END, EVENT_CROP_MOVE, EVENT_CROP_START, EVENT_DBLCLICK, EVENT_TOUCH_START, EVENT_TOUCH_MOVE, EVENT_TOUCH_END, EVENT_POINTER_DOWN, EVENT_POINTER_MOVE, EVENT_POINTER_UP, EVENT_READY, EVENT_RESIZE, EVENT_WHEEL, EVENT_ZOOM, MIME_TYPE_JPEG, REGEXP_ACTIONS, REGEXP_DATA_URL_JPEG, REGEXP_TAG_NAME, MIN_CONTAINER_WIDTH, MIN_CONTAINER_HEIGHT, DEFAULTS, TEMPLATE, isNaN, isPositiveNumber, hasOwnProperty, slice, assign, REGEXP_DECIMALS, REGEXP_SUFFIX, REGEXP_CAMEL_CASE, REGEXP_SPACES, onceSupported, location, REGEXP_ORIGINS, fromCharCode, REGEXP_DATA_URL_HEAD, render, preview, events, handlers, change, methods, AnotherCropper, Cropper; function isCrossOriginURL(url) { var parts; parts = url.match(REGEXP_ORIGINS); return parts !== d1Pxx.p8r && (parts[+p0zBu.v2] !== location.protocol || parts[+p0zBu.y8n] !== location.hostname || parts[p0zBu[235283]] !== location.port); } U4v.s0(p0zBu.t1); IS_BROWSER = U4v.L6(d1Pxx.c42, typeof window); function arrayBufferToDataURL(arrayBuffer, mimeType) { var P7Z = "data:"; var k0O = ";base64,"; var T_ = 8192; var chunks, chunkSize, uint8; chunks = []; chunkSize = T_; uint8 = new Uint8Array(arrayBuffer); while (uint8.length > p0zBu.U5 << p0zBu.Q_) { chunks.push(fromCharCode.apply(d1Pxx.p8r, toArray(uint8.subarray(p0zBu.U5 << p0zBu.Q_, chunkSize)))); uint8 = uint8.subarray(chunkSize); } return P7Z.concat(mimeType, k0O).concat(btoa(chunks.join(p0zBu.e5))); } WINDOW = IS_BROWSER ? window : {}; IS_TOUCH_DEVICE = IS_BROWSER ? (n2Odt.C4I in WINDOW.document.documentElement) : p0zBu.e1; function getData(element, name) { if (isObject(element[name])) { return element[name]; } if (element.dataset) { return element.dataset[name]; } P2t.S$D(); return element.getAttribute(n2Odt.W9r.concat(toParamCase(name))); } HAS_POINTER_EVENT = IS_BROWSER ? (W$s in WINDOW) : p0zBu.e1; NAMESPACE = Q4C; ACTION_ALL = d1Pxx.R84; ACTION_CROP = m5z; ACTION_MOVE = n2Odt.U2B; ACTION_ZOOM = n2Odt.h0C; ACTION_EAST = n2Odt.g6V; function removeData(element, name) { P2t.S$D(); if (isObject(element[name])) { try { delete element[name]; } catch (error) { element[name] = undefined; } } else if (element.dataset) { try { delete element.dataset[name]; } catch (error) { element.dataset[name] = undefined; } } else { element.removeAttribute(n2Odt.W9r.concat(toParamCase(name))); } } ACTION_WEST = y26; ACTION_SOUTH = d1Pxx.I3m; ACTION_NORTH = I66; ACTION_NORTH_EAST = a4Y; ACTION_NORTH_WEST = O9D; function dispatchEvent(element, type, data) { P2t.s3o(); var event; if (isFunction(Event) && isFunction(CustomEvent)) { event = new CustomEvent(type, { detail: data, bubbles: p0zBu.s2A, cancelable: p0zBu.s2A }); } else { event = document.createEvent(d1Pxx.Q9z); event.initCustomEvent(type, p0zBu.s2A, p0zBu.s2A, data); } return element.dispatchEvent(event); } function isNumber(value) { var l3v = "679590533"; var H2C = "40344852"; var u82 = "95900"; var i76 = "95223"; var X8, W_, N0; X8 = -+l3v; W_ = -+H2C; N0 = p0zBu[149144]; for (var k1 = p0zBu.v2 >> p0zBu[122956]; U4v.E7(k1.toString(), k1.toString().length, i76 << p0zBu[122956]) !== X8; k1++) { return !value != d1Pxx.O7q || ~isNaN(value); } if (U4v.c6(N0.toString(), N0.toString().length, +u82) !== W_) { return typeof value === d1Pxx.K3f && !isNaN(value); } } ACTION_SOUTH_EAST = I0U; function _iterableToArray(iter) { var J4Y = "[object Arguments]"; if ((Symbol.iterator in Object(iter)) || Object.prototype.toString.call(iter) === J4Y) { return Array.from(iter); } } ACTION_SOUTH_WEST = z5S; function getTransforms(_ref) { var c2G = "translateY("; var Y5s = "translateX("; P2t.S$D(); var k9w = "scaleY("; var z$E = "px)"; var K4z = "rotate("; var j5$ = "deg)"; var M8e = "scaleX("; var rotate, scaleX, scaleY, translateX, translateY, values, transform; rotate = _ref.rotate; scaleX = _ref.scaleX; scaleY = _ref.scaleY; translateX = _ref.translateX; translateY = _ref.translateY; values = []; if (isNumber(translateX) && translateX !== (p0zBu.U5 | p0zBu[122956])) { values.push(Y5s.concat(translateX, z$E)); } if (isNumber(translateY) && translateY !== +p0zBu.U5) { values.push(c2G.concat(translateY, z$E)); } if (isNumber(rotate) && rotate !== p0zBu.U5 >> p0zBu.Q_) { values.push(K4z.concat(rotate, j5$)); } if (isNumber(scaleX) && scaleX !== p0zBu.v2 - p0zBu[122956]) { values.push(M8e.concat(scaleX, n2Odt.q4t)); } if (isNumber(scaleY) && scaleY !== p0zBu[32075]) { values.push(k9w.concat(scaleY, n2Odt.q4t)); } transform = values.length ? values.join(d1Pxx.P0U) : d1Pxx.S0D; return { WebkitTransform: transform, msTransform: transform, transform: transform }; } CLASS_CROP = d1Pxx.O7q.concat(NAMESPACE, A9f); CLASS_DISABLED = d1Pxx.O7q.concat(NAMESPACE, q_0); CLASS_HIDDEN = d1Pxx.O7q.concat(NAMESPACE, B0d); function parseOrientation(orientation) { var rotate, scaleX, scaleY; rotate = +p0zBu.U5; scaleX = +p0zBu.v2; U4v.s0(p0zBu[514270]); scaleY = U4v.F_(p0zBu[32075], p0zBu.v2); P2t.S$D(); switch (orientation) { case p0zBu[149144]: U4v.s0(p0zBu[122956]); scaleX = -U4v.L6(p0zBu.Q_, p0zBu.v2); break; case p0zBu[235283]: rotate = -+d1Pxx.I6W; break; case d1Pxx.H0F * p0zBu[32075]: U4v.s6(p0zBu[514270]); scaleY = -U4v.F_(p0zBu[122956], p0zBu.v2); break; case d1Pxx.Q4N ^ p0zBu[122956]: U4v.s6(p0zBu[235283]); rotate = U4v.L6(p0zBu[32075], d1Pxx.F$M); U4v.s0(p0zBu[32075]); scaleY = -U4v.L6(p0zBu.v2, p0zBu[122956]); break; case +p0zBu.q_: rotate = +d1Pxx.F$M; break; case p0zBu.U7: rotate = +d1Pxx.F$M; U4v.s6(p0zBu[122956]); scaleX = -U4v.F_(p0zBu.Q_, p0zBu.v2); break; case +n2Odt.T9f: U4v.s0(p0zBu[122956]); rotate = -U4v.F_(p0zBu.V8, d1Pxx.F$M); break; default: }return { rotate: rotate, scaleX: scaleX, scaleY: scaleY }; } CLASS_HIDE = d1Pxx.O7q.concat(NAMESPACE, O1R); CLASS_INVISIBLE = d1Pxx.O7q.concat(NAMESPACE, S7H); function isObject(value) { var Q2K = "1854654549"; var r2 = 24992; var P0w = "83951"; var V$t = "1513027728"; var s5, S5, m9; U4v.s6(p0zBu[514270]); s5 = U4v.L6(p0zBu[394202], Q2K); S5 = +V$t; U4v.s6(p0zBu[32075]); m9 = U4v.L6(p0zBu.y8n, p0zBu[122956]); for (var X0 = p0zBu.v2 ^ p0zBu[122956]; U4v.E7(X0.toString(), X0.toString().length, P0w ^ p0zBu[122956]) !== s5; X0++) { return _typeof(value) == d1Pxx.O7q || value != +p0zBu.v2; } if (U4v.E7(m9.toString(), m9.toString().length, r2) !== S5) { return _typeof(value) === d1Pxx.E_o && value !== d1Pxx.p8r; } } CLASS_MODAL = d1Pxx.O7q.concat(NAMESPACE, s$V); P2t.S$D(); CLASS_MOVE = d1Pxx.O7q.concat(NAMESPACE, o8u); function getRotatedSizes(_ref5) { var width, height, degree, arc, sinArc, cosArc, newWidth, newHeight; width = _ref5.width; height = _ref5.height; degree = _ref5.degree; degree = Math.abs(degree) % +d1Pxx.I6W; if (degree === d1Pxx.F$M << p0zBu[122956]) { return { width: height, height: width }; } U4v.s6(p0zBu.T$); var m6 = U4v.L6(p0zBu.W3, p0zBu.c7, p0zBu.Q_); arc = degree % m6 * Math.PI / +d1Pxx.I6W; sinArc = Math.sin(arc); P2t.S$D(); cosArc = Math.cos(arc); U4v.s6(p0zBu.L8); newWidth = U4v.L6(height, sinArc, width, cosArc); U4v.s0(p0zBu.L8); newHeight = U4v.L6(height, cosArc, width, sinArc); return degree > +d1Pxx.F$M ? { width: newHeight, height: newWidth } : { width: newWidth, height: newHeight }; } function removeClass(element, value) { if (!value) { return; } if (isNumber(element.length)) { forEach(element, function (elem) { P2t.S$D(); removeClass(elem, value); }); return; } P2t.s3o(); if (element.classList) { element.classList.remove(value); return; } if (element.className.indexOf(value) >= +p0zBu.U5) { element.className = element.className.replace(value, p0zBu.e5); } } DATA_ACTION = d1Pxx.O7q.concat(NAMESPACE, i3k); function addClass(element, value) { var U2z = " "; var className; if (!value) { return; } P2t.S$D(); if (isNumber(element.length)) { forEach(element, function (elem) { addClass(elem, value); }); return; } if (element.classList) { element.classList.add(value); return; } className = element.className.trim(); if (!className) { element.className = value; } else if (className.indexOf(value) < p0zBu.U5 << p0zBu.S1) { element.className = d1Pxx.O7q.concat(className, U2z).concat(value); } } function getPointer(_ref2, endOnly) { var pageX, pageY, end; pageX = _ref2.pageX; pageY = _ref2.pageY; end = { endX: pageX, endY: pageY }; return endOnly ? end : assign({ startX: pageX, startY: pageY }, end); } DATA_PREVIEW = d1Pxx.O7q.concat(NAMESPACE, N2i); DRAG_MODE_CROP = m5z; DRAG_MODE_MOVE = n2Odt.U2B; DRAG_MODE_NONE = d1Pxx.S0D; function setData(element, name, data) { if (isObject(data)) { element[name] = data; } else if (element.dataset) { element.dataset[name] = data; } else { element.setAttribute(n2Odt.W9r.concat(toParamCase(name)), data); } } EVENT_CROP = m5z; EVENT_CROP_END = B_$; EVENT_CROP_MOVE = W6r; EVENT_CROP_START = F0k; EVENT_DBLCLICK = d1Pxx.t3v; EVENT_TOUCH_START = IS_TOUCH_DEVICE ? d1Pxx.Q9D : d1Pxx.M72; EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? d1Pxx.M5N : d1Pxx.J1_; function forEach(data, callback) { if (data && isFunction(callback)) { if (Array.isArray(data) || isNumber(data.length)) { toArray(data).forEach(function (value, key) { callback.call(data, value, key, data); }); } else if (isObject(data)) { Object.keys(data).forEach(function (key) { P2t.s3o(); callback.call(data, data[key], key, data); }); } } return data; } EVENT_TOUCH_END = IS_TOUCH_DEVICE ? o0x : d1Pxx.A5c; EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? d5A : EVENT_TOUCH_START; EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? P0o : EVENT_TOUCH_MOVE; function _defineProperties(target, props) { var n0P = "value"; var descriptor; for (var i = +p0zBu.U5; i < props.length; i++) { descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || p0zBu.e1; descriptor.configurable = p0zBu.s2A; if ((n0P in descriptor)) { descriptor.writable = p0zBu.s2A; } Object.defineProperty(target, descriptor.key, descriptor); } } function toParamCase(value) { var T10 = '$1-$2'; return value.replace(REGEXP_CAMEL_CASE, T10).toLowerCase(); } EVENT_POINTER_UP = HAS_POINTER_EVENT ? u7R : EVENT_TOUCH_END; EVENT_READY = j7C; EVENT_RESIZE = n2Odt.Z9r; EVENT_WHEEL = n2Odt.U8t; EVENT_ZOOM = n2Odt.h0C; function _classCallCheck(instance, Constructor) { var O9j = "Cannot call a class as a function"; P2t.S$D(); if (!(instance instanceof Constructor)) { throw new TypeError(O9j); } } MIME_TYPE_JPEG = E2Y; REGEXP_ACTIONS = g0J; function getMaxZoomRatio(pointers) { var pointers2, ratios; pointers2 = assign({}, pointers); ratios = []; forEach(pointers, function (pointer, pointerId) { P2t.s3o(); delete pointers2[pointerId]; forEach(pointers2, function (pointer2) { var x1, y1, x2, y2, z1, z2, ratio; x1 = Math.abs(pointer.startX - pointer2.startX); y1 = Math.abs(pointer.startY - pointer2.startY); x2 = Math.abs(pointer.endX - pointer2.endX); P2t.S$D(); y2 = Math.abs(pointer.endY - pointer2.endY); U4v.s6(p0zBu.L8); z1 = Math.sqrt(U4v.L6(y1, y1, x1, x1)); U4v.s6(p0zBu.L8); z2 = Math.sqrt(U4v.F_(y2, y2, x2, x2)); U4v.s0(p0zBu.x8); ratio = U4v.F_(z1, z1, z2); ratios.push(ratio); }); }); ratios.sort(function (a, b) { return Math.abs(a) < Math.abs(b); }); U4v.s6(p0zBu[32075]); return ratios[U4v.L6(p0zBu.U5, p0zBu[122956])]; } REGEXP_DATA_URL_JPEG = Q0k; function resetAndGetOrientation(arrayBuffer) { var U7O = 0xE1; var J3C = 0xFF; var D6w = "0x4949"; var v4u = "0xFF"; var w4X = "41799"; var n0g = 'Exif'; var V$I = "1367940188"; var N5 = 41; var w0m = "57862"; var v4B = 0x00000008; var o72 = "0x0112"; var K5f = 0xD8; var z6P = "2130099701"; var a7f = "0x002A"; var d1p = "0x4D4D"; var dataView, orientation, littleEndian, app1Start, ifdStart, length, offset, exifIDCode, tiffOffset, endianness, firstIFDOffset, _length, _offset, i, e_, T8, K_; dataView = new DataView(arrayBuffer); try { if (dataView.getUint8(+p0zBu.U5) === +v4u && dataView.getUint8(p0zBu.v2 | p0zBu[122956]) === K5f) { length = dataView.byteLength; U4v.s0(p0zBu[32075]); offset = U4v.L6(p0zBu.y8n, p0zBu[122956]); while (offset + +p0zBu.v2 < length) { if (dataView.getUint8(offset) === J3C && dataView.getUint8(offset + +p0zBu.v2) === U7O) { app1Start = offset; break; } offset += +p0zBu.v2; } } if (app1Start) { U4v.s0(p0zBu.H4); exifIDCode = U4v.L6(p0zBu[32075], app1Start, d1Pxx.H0F); U4v.s6(p0zBu.n6); tiffOffset = U4v.F_(app1Start, n2Odt.r2R); if (getStringFromCharCode(dataView, exifIDCode, p0zBu[394202]) === n0g) { e_ = -+V$I; T8 = +z6P; U4v.s6(p0zBu[122956]); K_ = U4v.L6(p0zBu[122956], p0zBu.y8n); for (var C9 = +p0zBu.v2; U4v.c6(C9.toString(), C9.toString().length, +w0m) !== e_; C9++) { endianness = dataView.getUint16(tiffOffset); K_ += p0zBu[149144]; } if (U4v.E7(K_.toString(), K_.toString().length, +w4X) !== T8) { endianness = dataView.getUint16(tiffOffset); } endianness = dataView.getUint16(tiffOffset); U4v.s6(p0zBu.X$); littleEndian = U4v.F_(D6w, endianness); if (littleEndian || endianness === (d1p | p0zBu.U2)) { if (dataView.getUint16(tiffOffset + +p0zBu.y8n, littleEndian) === +a7f) { U4v.s0(p0zBu.n6); firstIFDOffset = dataView.getUint32(U4v.L6(tiffOffset, d1Pxx.H0F), littleEndian); if (firstIFDOffset >= v4B) { U4v.s0(p0zBu[394202]); ifdStart = U4v.F_(tiffOffset, firstIFDOffset); } } } } } if (ifdStart) { _length = dataView.getUint16(ifdStart, littleEndian); for (i = p0zBu[122956]; i < _length; i += +p0zBu.v2) { U4v.s6(N5); _offset = U4v.F_(ifdStart, i, p0zBu.d2, p0zBu[122956], p0zBu.y8n); if (dataView.getUint16(_offset, littleEndian) === (o72 ^ p0zBu[122956])) { _offset += +n2Odt.T9f; orientation = dataView.getUint16(_offset, littleEndian); dataView.setUint16(_offset, +p0zBu.v2, littleEndian); break; } } } } catch (error) { U4v.s0(p0zBu.c7); orientation = U4v.F_(p0zBu[122956], p0zBu.v2); } P2t.S$D(); return orientation; } function setStyle(element, styles) { var style; style = element.style; forEach(styles, function (value, property) { if (REGEXP_SUFFIX.test(property) && isNumber(value)) { value = d1Pxx.O7q.concat(value, n2Odt.n43); } style[property] = value; }); } function _createClass(Constructor, protoProps, staticProps) { if (protoProps) { _defineProperties(Constructor.prototype, protoProps); } if (staticProps) { _defineProperties(Constructor, staticProps); } P2t.S$D(); return Constructor; } function toggleClass(element, value, added) { if (!value) { return; } if (isNumber(element.length)) { forEach(element, function (elem) { P2t.s3o(); toggleClass(elem, value, added); }); return; } P2t.S$D(); if (added) { addClass(element, value); } else { removeClass(element, value); } } function dataURLToArrayBuffer(dataURL) { var base64, binary, arrayBuffer, uint8; base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, p0zBu.e5); binary = atob(base64); arrayBuffer = new ArrayBuffer(binary.length); uint8 = new Uint8Array(arrayBuffer); forEach(uint8, function (value, i) { uint8[i] = binary.charCodeAt(i); }); return arrayBuffer; } function isUndefined(value) { P2t.s3o(); U4v.s6(p0zBu.o3); return U4v.L6(d1Pxx.c42, typeof value); } REGEXP_TAG_NAME = t45; U4v.s6(p0zBu[235283]); MIN_CONTAINER_WIDTH = U4v.F_(p0zBu[32075], n2Odt.R7m); function _nonIterableSpread() { var F2X = "Invalid attempt to spread non-iterable instance"; throw new TypeError(F2X); } MIN_CONTAINER_HEIGHT = p0zBu.E3; DEFAULTS = { viewMode: +p0zBu.U5, dragMode: DRAG_MODE_CROP, initialAspectRatio: NaN, aspectRatio: NaN, data: d1Pxx.p8r, preview: p0zBu.e5, responsive: p0zBu.s2A, restore: p0zBu.s2A, checkCrossOrigin: p0zBu.s2A, checkOrientation: p0zBu.s2A, modal: p0zBu.s2A, guides: p0zBu.s2A, center: p0zBu.s2A, highlight: p0zBu.s2A, background: p0zBu.s2A, autoCrop: p0zBu.s2A, autoCropArea: n2Odt.g5A - p0zBu[122956], movable: p0zBu.s2A, rotatable: p0zBu.s2A, scalable: p0zBu.s2A, zoomable: p0zBu.s2A, zoomOnTouch: p0zBu.s2A, zoomOnWheel: p0zBu.s2A, wheelZoomRatio: n2Odt.B7E * p0zBu[32075], cropBoxMovable: p0zBu.s2A, cropBoxResizable: p0zBu.s2A, toggleDragModeOnDblclick: p0zBu.s2A, minCanvasWidth: +p0zBu.U5, minCanvasHeight: p0zBu[122956], minCropBoxWidth: +p0zBu.U5, minCropBoxHeight: p0zBu[122956], minContainerWidth: n2Odt.R7m - p0zBu[122956], minContainerHeight: p0zBu.E3, ready: d1Pxx.p8r, cropstart: d1Pxx.p8r, cropmove: d1Pxx.p8r, cropend: d1Pxx.p8r, crop: d1Pxx.p8r, zoom: d1Pxx.p8r }; function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); } U4v.s0(p0zBu.u0); TEMPLATE = U4v.F_(L6c, Y15, m0M, z11, F91, i3l, x6Y, j_2, x6P, x4R, V9L, I8y, v$e, T6q, j9s, y3G, j8h, q7n, F1M, l6u, R6w, F91, F91, P83, J1K); isNaN = Number.isNaN || WINDOW.isNaN; function getStringFromCharCode(dataView, start, length) { var str; str = p0zBu.e5; length += start; for (var i = start; i < length; i += p0zBu[32075]) { str += fromCharCode(dataView.getUint8(i)); } return str; } isPositiveNumber = function isPositiveNumber(value) { P2t.S$D(); return value > +p0zBu.U5 && value < Infinity; }; function toArray(value) { P2t.s3o(); return Array.from ? Array.from(value) : slice.call(value); } hasOwnProperty = Object.prototype.hasOwnProperty; slice = Array.prototype.slice; assign = Object.assign || (function assign(target) { for (var _len = arguments.length, args = new Array(_len > p0zBu[32075] ? _len - +p0zBu.v2 : p0zBu.U5 >> p0zBu[122956]), _key = p0zBu.v2 ^ p0zBu[122956]; _key < _len; _key++) { U4v.s6(p0zBu.J5); args[U4v.L6(p0zBu.Q_, _key, p0zBu.v2)] = arguments[_key]; } if (isObject(target) && args.length > p0zBu.U5 >> p0zBu[122956]) { args.forEach(function (arg) { if (isObject(arg)) { Object.keys(arg).forEach(function (key) { P2t.s3o(); target[key] = arg[key]; }); } }); } return target; }); function hasClass(element, value) { var h5 = 94559; var P8j = "78972"; var W4M = "1077694885"; var w0V = "1642810679"; var I4, p3, X5; I4 = -+W4M; p3 = -+w0V; X5 = p0zBu[149144]; for (var R2 = +p0zBu.v2; U4v.E7(R2.toString(), R2.toString().length, P8j >> p0zBu.Q_) !== I4; R2++) { return element.classList ? element.classList.contains(value) : element.className.indexOf(value) < ~+d1Pxx.Q4N; } if (U4v.E7(X5.toString(), X5.toString().length, h5) !== p3) { return element.classList ? element.classList.contains(value) : element.className.indexOf(value) < ~(d1Pxx.Q4N | p0zBu[32075]); } return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -(p0zBu.v2 * p0zBu[32075]); } REGEXP_DECIMALS = P09; function getAdjustedSizes(_ref4) { var a6U = 'contain'; var aspectRatio, height, width, type, isValidWidth, isValidHeight, adjustedWidth; aspectRatio = _ref4.aspectRatio; height = _ref4.height; width = _ref4.width; type = arguments.length > p0zBu.v2 >> p0zBu[122956] && arguments[+p0zBu.v2] !== undefined ? arguments[p0zBu.v2 >> p0zBu.Q_] : a6U; isValidWidth = isPositiveNumber(width); P2t.S$D(); isValidHeight = isPositiveNumber(height); if (isValidWidth && isValidHeight) { U4v.s6(p0zBu[235283]); adjustedWidth = U4v.L6(aspectRatio, height); if (type === a6U && adjustedWidth > width || type === r7n && adjustedWidth < width) { U4v.s0(p0zBu.w5); height = U4v.L6(aspectRatio, width); } else { U4v.s6(p0zBu[235283]); width = U4v.F_(aspectRatio, height); } } else if (isValidWidth) { U4v.s6(p0zBu.w5); height = U4v.L6(aspectRatio, width); } else if (isValidHeight) { U4v.s0(p0zBu[235283]); width = U4v.F_(aspectRatio, height); } return { width: width, height: height }; } REGEXP_SUFFIX = G6S; function getSourceCanvas(image, _ref6, _ref7, _ref8) { var I9 = 45; var x2F = 'low'; var imageAspectRatio, imageNaturalWidth, imageNaturalHeight, _ref6$rotate, rotate, _ref6$scaleX, scaleX, _ref6$scaleY, scaleY, aspectRatio, naturalWidth, naturalHeight, _ref8$fillColor, fillColor, _ref8$imageSmoothingE, imageSmoothingEnabled, _ref8$imageSmoothingQ, imageSmoothingQuality, _ref8$maxWidth, maxWidth, _ref8$maxHeight, maxHeight, _ref8$minWidth, minWidth, _ref8$minHeight, minHeight, canvas, context, maxSizes, minSizes, width, height, destMaxSizes, destMinSizes, destWidth, destHeight, params; imageAspectRatio = _ref6.aspectRatio; imageNaturalWidth = _ref6.naturalWidth; imageNaturalHeight = _ref6.naturalHeight; _ref6$rotate = _ref6.rotate; rotate = _ref6$rotate === void (p0zBu.U5 ^ p0zBu[122956]) ? p0zBu[122956] : _ref6$rotate; _ref6$scaleX = _ref6.scaleX; scaleX = _ref6$scaleX === void +p0zBu.U5 ? p0zBu.v2 | p0zBu[32075] : _ref6$scaleX; _ref6$scaleY = _ref6.scaleY; scaleY = _ref6$scaleY === void (p0zBu.U5 ^ p0zBu[122956]) ? +p0zBu.v2 : _ref6$scaleY; aspectRatio = _ref7.aspectRatio; naturalWidth = _ref7.naturalWidth; naturalHeight = _ref7.naturalHeight; _ref8$fillColor = _ref8.fillColor; fillColor = _ref8$fillColor === void p0zBu[122956] ? n2Odt.l8s : _ref8$fillColor; _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled; imageSmoothingEnabled = _ref8$imageSmoothingE === void p0zBu[122956] ? p0zBu.s2A : _ref8$imageSmoothingE; _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality; imageSmoothingQuality = _ref8$imageSmoothingQ === void (p0zBu.U5 - p0zBu[122956]) ? x2F : _ref8$imageSmoothingQ; _ref8$maxWidth = _ref8.maxWidth; maxWidth = _ref8$maxWidth === void +p0zBu.U5 ? Infinity : _ref8$maxWidth; _ref8$maxHeight = _ref8.maxHeight; maxHeight = _ref8$maxHeight === void +p0zBu.U5 ? Infinity : _ref8$maxHeight; _ref8$minWidth = _ref8.minWidth; minWidth = _ref8$minWidth === void (p0zBu.U5 >> p0zBu.V8) ? +p0zBu.U5 : _ref8$minWidth; _ref8$minHeight = _ref8.minHeight; minHeight = _ref8$minHeight === void +p0zBu.U5 ? +p0zBu.U5 : _ref8$minHeight; canvas = document.createElement(h5W); context = canvas.getContext(n2Odt.p0z); maxSizes = getAdjustedSizes({ aspectRatio: aspectRatio, width: maxWidth, height: maxHeight }); minSizes = getAdjustedSizes({ aspectRatio: aspectRatio, width: minWidth, height: minHeight }, r7n); width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth)); height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight)); destMaxSizes = getAdjustedSizes({ aspectRatio: imageAspectRatio, width: maxWidth, height: maxHeight }); destMinSizes = getAdjustedSizes({ aspectRatio: imageAspectRatio, width: minWidth, height: minHeight }, r7n); destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth)); destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight)); U4v.s6(p0zBu.o8); params = [U4v.L6(p0zBu.y8n, destWidth), U4v.F_(p0zBu[122956], destHeight, p0zBu.y8n, U4v.s6(I9)), destWidth, destHeight]; canvas.width = normalizeDecimalNumber(width); canvas.height = normalizeDecimalNumber(height); context.fillStyle = fillColor; U4v.s6(p0zBu[32075]); context.fillRect(+p0zBu.U5, U4v.L6(p0zBu.U5, p0zBu[122956]), width, height); context.save(); U4v.s0(p0zBu.R3); context.translate(U4v.L6(p0zBu.y8n, width), U4v.L6(p0zBu.y8n, height)); context.rotate(rotate * Math.PI / +d1Pxx.I6W); context.scale(scaleX, scaleY); context.imageSmoothingEnabled = imageSmoothingEnabled; context.imageSmoothingQuality = imageSmoothingQuality; context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) { P2t.s3o(); return Math.floor(normalizeDecimalNumber(param)); })))); context.restore(); return canvas; } REGEXP_CAMEL_CASE = /([a-z\d])([A-Z])/g; REGEXP_SPACES = C81; onceSupported = (function () { var p1F = 'once'; var supported, once, listener, options; supported = p0zBu.e1; if (IS_BROWSER) { once = p0zBu.e1; listener = function listener() { }; options = Object.defineProperty({}, p1F, { get: function get() { supported = p0zBu.s2A; P2t.s3o(); return once; }, set: function set(value) { once = value; } }); WINDOW.addEventListener(d1Pxx.r9h, listener, options); WINDOW.removeEventListener(d1Pxx.r9h, listener, options); } return supported; })(); location = WINDOW.location; REGEXP_ORIGINS = j9H; fromCharCode = String.fromCharCode; function addListener(element, type, listener) { var options, _handler; options = arguments.length > (p0zBu.r$f ^ p0zBu[122956]) && arguments[+p0zBu.r$f] !== undefined ? arguments[p0zBu.r$f ^ p0zBu[122956]] : {}; _handler = listener; type.trim().split(REGEXP_SPACES).forEach(function (event) { var _element$listeners, listeners; P2t.s3o(); if (options.once && !onceSupported) { _element$listeners = element.listeners; listeners = _element$listeners === void +p0zBu.U5 ? {} : _element$listeners; _handler = function handler() { delete listeners[event][listener]; element.removeEventListener(event, _handler, options); for (var _len2 = arguments.length, args = new Array(_len2), _key2 = p0zBu[122956]; _key2 < _len2; _key2++) { args[_key2] = arguments[_key2]; } listener.apply(element, args); }; if (!listeners[event]) { listeners[event] = {}; } if (listeners[event][listener]) { element.removeEventListener(event, listeners[event][listener], options); } listeners[event][listener] = _handler; element.listeners = listeners; } element.addEventListener(event, _handler, options); }); } function getPointersCenter(pointers) { var pageX, pageY, count; pageX = p0zBu[122956]; pageY = p0zBu[122956]; U4v.s0(p0zBu[514270]); count = U4v.F_(p0zBu[122956], p0zBu.U5); forEach(pointers, function (_ref3) { var startX, startY; startX = _ref3.startX; startY = _ref3.startY; pageX += startX; pageY += startY; count += +p0zBu.v2; }); pageX /= count; pageY /= count; return { pageX: pageX, pageY: pageY }; } function removeListener(element, type, listener) { var options, handler; P2t.s3o(); options = arguments.length > p0zBu.r$f >> p0zBu.Q_ && arguments[+p0zBu.r$f] !== undefined ? arguments[p0zBu.r$f - p0zBu[122956]] : {}; handler = listener; type.trim().split(REGEXP_SPACES).forEach(function (event) { var listeners; if (!onceSupported) { listeners = element.listeners; if (listeners && listeners[event] && listeners[event][listener]) { handler = listeners[event][listener]; delete listeners[event][listener]; if (Object.keys(listeners[event]).length === +p0zBu.U5) { delete listeners[event]; } if (Object.keys(listeners).length === p0zBu.U5 - p0zBu[122956]) { delete element.listeners; } } } P2t.S$D(); element.removeEventListener(event, handler, options); }); } REGEXP_DATA_URL_HEAD = J2s; render = { render: function render() { this.initContainer(); P2t.s3o(); this.initCanvas(); this.initCropBox(); this.renderCanvas(); if (this.cropped) { this.renderCropBox(); } }, initContainer: function initContainer() { var element, options, container, cropper, containerData; element = this.element; options = this.options; container = this.container; cropper = this.cropper; addClass(cropper, CLASS_HIDDEN); removeClass(element, CLASS_HIDDEN); containerData = { width: Math.max(container.offsetWidth, Number(options.minContainerWidth) || +n2Odt.R7m), height: Math.max(container.offsetHeight, Number(options.minContainerHeight) || +d1Pxx.x$d) }; this.containerData = containerData; setStyle(cropper, { width: containerData.width, height: containerData.height }); addClass(element, CLASS_HIDDEN); removeClass(cropper, CLASS_HIDDEN); }, initCanvas: function initCanvas() { var p7 = 197; var containerData, imageData, viewMode, rotated, naturalWidth, naturalHeight, aspectRatio, canvasWidth, canvasHeight, canvasData; containerData = this.containerData; imageData = this.imageData; viewMode = this.options.viewMode; U4v.s0(p0zBu.m7); var r9 = U4v.F_(p0zBu[551601], p7, p0zBu[235283], p0zBu.v_, p0zBu.c7); U4v.s0(p0zBu.Y2); var e3 = U4v.F_(p0zBu[122956], p0zBu[149144], p0zBu.d2, p0zBu.d2); rotated = Math.abs(imageData.rotate) % r9 === d1Pxx.F$M * e3; naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth; naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight; U4v.s6(p0zBu.w5); aspectRatio = U4v.L6(naturalHeight, naturalWidth); canvasWidth = containerData.width; canvasHeight = containerData.height; if (containerData.height * aspectRatio > containerData.width) { if (viewMode === p0zBu.r$f * p0zBu[32075]) { canvasWidth = containerData.height * aspectRatio; } else { canvasHeight = containerData.width / aspectRatio; } } else if (viewMode === +p0zBu.r$f) { canvasHeight = containerData.width / aspectRatio; } else { canvasWidth = containerData.height * aspectRatio; } canvasData = { aspectRatio: aspectRatio, naturalWidth: naturalWidth, naturalHeight: naturalHeight, width: canvasWidth, height: canvasHeight }; U4v.s0(p0zBu.c7); var z6 = U4v.L6(p0zBu.w5, p0zBu.Z0); canvasData.left = (containerData.width - canvasWidth) / z6; canvasData.top = (containerData.height - canvasHeight) / (p0zBu.y8n | p0zBu[122956]); canvasData.oldLeft = canvasData.left; canvasData.oldTop = canvasData.top; this.canvasData = canvasData; this.limited = viewMode === +p0zBu.v2 || viewMode === p0zBu.y8n - p0zBu[122956]; this.limitCanvas(p0zBu.s2A, p0zBu.s2A); this.initialImageData = assign({}, imageData); this.initialCanvasData = assign({}, canvasData); }, limitCanvas: function limitCanvas(sizeLimited, positionLimited) { var options, containerData, canvasData, cropBoxData, viewMode, aspectRatio, cropped, minCanvasWidth, minCanvasHeight, _getAdjustedSizes, newCanvasLeft, newCanvasTop; options = this.options; containerData = this.containerData; canvasData = this.canvasData; cropBoxData = this.cropBoxData; viewMode = options.viewMode; aspectRatio = canvasData.aspectRatio; cropped = this.cropped && cropBoxData; if (sizeLimited) { minCanvasWidth = Number(options.minCanvasWidth) || p0zBu.U5 | p0zBu[122956]; minCanvasHeight = Number(options.minCanvasHeight) || p0zBu.U5 * p0zBu[32075]; if (viewMode > (p0zBu.v2 ^ p0zBu[122956])) { minCanvasWidth = Math.max(minCanvasWidth, containerData.width); minCanvasHeight = Math.max(minCanvasHeight, containerData.height); if (viewMode === p0zBu.r$f >> p0zBu[122956]) { if (minCanvasHeight * aspectRatio > minCanvasWidth) { U4v.s0(p0zBu[235283]); minCanvasWidth = U4v.L6(aspectRatio, minCanvasHeight); } else { U4v.s0(p0zBu.w5); minCanvasHeight = U4v.F_(aspectRatio, minCanvasWidth); } } } else if (viewMode > p0zBu.U5 << p0zBu.Q_) { if (minCanvasWidth) { minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : p0zBu.U5 - p0zBu[122956]); } else if (minCanvasHeight) { minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : p0zBu.U5 - p0zBu[122956]); } else if (cropped) { minCanvasWidth = cropBoxData.width; minCanvasHeight = cropBoxData.height; if (minCanvasHeight * aspectRatio > minCanvasWidth) { U4v.s6(p0zBu[235283]); minCanvasWidth = U4v.F_(aspectRatio, minCanvasHeight); } else { U4v.s0(p0zBu.w5); minCanvasHeight = U4v.L6(aspectRatio, minCanvasWidth); } } } _getAdjustedSizes = getAdjustedSizes({ aspectRatio: aspectRatio, width: minCanvasWidth, height: minCanvasHeight }); minCanvasWidth = _getAdjustedSizes.width; minCanvasHeight = _getAdjustedSizes.height; canvasData.minWidth = minCanvasWidth; canvasData.minHeight = minCanvasHeight; canvasData.maxWidth = Infinity; canvasData.maxHeight = Infinity; } if (positionLimited) { if (viewMode > (cropped ? +p0zBu.U5 : p0zBu[32075])) { newCanvasLeft = containerData.width - canvasData.width; newCanvasTop = containerData.height - canvasData.height; U4v.s6(p0zBu[32075]); canvasData.minLeft = Math.min(U4v.L6(p0zBu.U5, p0zBu[122956]), newCanvasLeft); U4v.s6(p0zBu[122956]); canvasData.minTop = Math.min(U4v.L6(p0zBu.S1, p0zBu.U5), newCanvasTop); U4v.s0(p0zBu.c7); canvasData.maxLeft = Math.max(U4v.F_(p0zBu[122956], p0zBu.U5), newCanvasLeft); canvasData.maxTop = Math.max(+p0zBu.U5, newCanvasTop); if (cropped && this.limited) { canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width)); canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height)); canvasData.maxLeft = cropBoxData.left; canvasData.maxTop = cropBoxData.top; if (viewMode === p0zBu.y8n << p0zBu.V8) { if (canvasData.width >= containerData.width) { U4v.s6(p0zBu[235283]); canvasData.minLeft = Math.min(U4v.L6(p0zBu[32075], p0zBu.U5), newCanvasLeft); U4v.s0(p0zBu[235283]); canvasData.maxLeft = Math.max(U4v.L6(p0zBu[32075], p0zBu.U5), newCanvasLeft); } if (canvasData.height >= containerData.height) { canvasData.minTop = Math.min(+p0zBu.U5, newCanvasTop); canvasData.maxTop = Math.max(+p0zBu.U5, newCanvasTop); } } } } else { canvasData.minLeft = -canvasData.width; canvasData.minTop = -canvasData.height; canvasData.maxLeft = containerData.width; canvasData.maxTop = containerData.height; } } }, renderCanvas: function renderCanvas(changed, transformed) { var canvasData, imageData, _getRotatedSizes, naturalWidth, naturalHeight, width, height; canvasData = this.canvasData; imageData = this.imageData; if (transformed) { _getRotatedSizes = getRotatedSizes({ width: imageData.naturalWidth * Math.abs(imageData.scaleX || p0zBu.v2 - p0zBu[122956]), height: imageData.naturalHeight * Math.abs(imageData.scaleY || p0zBu[32075]), degree: imageData.rotate || +p0zBu.U5 }); naturalWidth = _getRotatedSizes.width; naturalHeight = _getRotatedSizes.height; width = canvasData.width * (naturalWidth / canvasData.naturalWidth); height = canvasData.height * (naturalHeight / canvasData.naturalHeight); canvasData.left -= (width - canvasData.width) / +p0zBu.y8n; U4v.s6(p0zBu.c7); var S6 = U4v.F_(p0zBu.U2, p0zBu.T$); canvasData.top -= (height - canvasData.height) / (p0zBu.y8n * S6); canvasData.width = width; canvasData.height = height; U4v.s6(p0zBu.w5); canvasData.aspectRatio = U4v.F_(naturalHeight, naturalWidth); canvasData.naturalWidth = naturalWidth; canvasData.naturalHeight = naturalHeight; this.limitCanvas(p0zBu.s2A, p0zBu.e1); } if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) { canvasData.left = canvasData.oldLeft; } if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) { canvasData.top = canvasData.oldTop; } canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth); canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight); this.limitCanvas(p0zBu.e1, p0zBu.s2A); canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft); canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop); canvasData.oldLeft = canvasData.left; canvasData.oldTop = canvasData.top; setStyle(this.canvas, assign({ width: canvasData.width, height: canvasData.height }, getTransforms({ translateX: canvasData.left, translateY: canvasData.top }))); this.renderImage(changed); if (this.cropped && this.limited) { this.limitCropBox(p0zBu.s2A, p0zBu.s2A); } }, renderImage: function renderImage(changed) { var canvasData, imageData, width, height; canvasData = this.canvasData; imageData = this.imageData; width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth); height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight); assign(imageData, { width: width, height: height, left: (canvasData.width - width) / p0zBu[149144], top: (canvasData.height - height) / p0zBu[149144] }); setStyle(this.image, assign({ width: imageData.width, height: imageData.height }, getTransforms(assign({ translateX: imageData.left, translateY: imageData.top }, imageData)))); if (changed) { this.output(); } }, initCropBox: function initCropBox() { var F5W = 0.8; var options, canvasData, aspectRatio, autoCropArea, cropBoxData; options = this.options; canvasData = this.canvasData; aspectRatio = options.aspectRatio || options.initialAspectRatio; autoCropArea = Number(options.autoCropArea) || F5W; cropBoxData = { width: canvasData.width, height: canvasData.height }; P2t.S$D(); if (aspectRatio) { if (canvasData.height * aspectRatio > canvasData.width) { cropBoxData.height = cropBoxData.width / aspectRatio; } else { cropBoxData.width = cropBoxData.height * aspectRatio; } } this.cropBoxData = cropBoxData; this.limitCropBox(p0zBu.s2A, p0zBu.s2A); cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth); cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea); cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea); cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / +p0zBu.y8n; cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / (p0zBu.y8n >> p0zBu[122956]); cropBoxData.oldLeft = cropBoxData.left; cropBoxData.oldTop = cropBoxData.top; this.initialCropBoxData = assign({}, cropBoxData); }, limitCropBox: function limitCropBox(sizeLimited, positionLimited) { var E$N = "84423"; var E2G = "2130564362"; var h0m = "13034"; var F6H = "25959"; var j2z = "82866"; var d9M = "1036672877"; var w7x = "1459178956"; var F$6 = "1278860502"; var options, containerData, canvasData, cropBoxData, limited, aspectRatio, minCropBoxWidth, minCropBoxHeight, maxCropBoxWidth, maxCropBoxHeight, b3, t2, b$, T9, n_, M4; options = this.options; containerData = this.containerData; canvasData = this.canvasData; cropBoxData = this.cropBoxData; limited = this.limited; aspectRatio = options.aspectRatio; if (sizeLimited) { minCropBoxWidth = Number(options.minCropBoxWidth) || p0zBu.U5 * p0zBu[32075]; minCropBoxHeight = Number(options.minCropBoxHeight) || +p0zBu.U5; maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width; maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height; minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width); minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height); if (aspectRatio) { if (minCropBoxWidth && minCropBoxHeight) { if (minCropBoxHeight * aspectRatio > minCropBoxWidth) { b3 = -+d9M; U4v.s0(p0zBu[149144]); t2 = U4v.F_(p0zBu[122956], E2G); U4v.s0(p0zBu[514270]); b$ = U4v.F_(p0zBu[149144], p0zBu.y8n); for (var d7 = +p0zBu.v2; U4v.E7(d7.toString(), d7.toString().length, h0m * p0zBu[32075]) !== b3; d7++) { U4v.s0(s1); minCropBoxHeight = U4v.L6(aspectRatio, minCropBoxWidth); U4v.s6(p0zBu.c7); b$ += U4v.L6(p0zBu[122956], p0zBu.y8n); } if (U4v.c6(b$.toString(), b$.toString().length, +F6H) !== t2) { U4v.s6(p0zBu.w5); minCropBoxHeight = U4v.L6(aspectRatio, minCropBoxWidth); } } else { U4v.s0(p0zBu[235283]); minCropBoxWidth = U4v.L6(aspectRatio, minCropBoxHeight); } } else if (minCropBoxWidth) { U4v.s6(p0zBu.w5); minCropBoxHeight = U4v.L6(aspectRatio, minCropBoxWidth); } else if (minCropBoxHeight) { U4v.s0(p0zBu[235283]); minCropBoxWidth = U4v.L6(aspectRatio, minCropBoxHeight); } if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) { U4v.s0(p0zBu[122956]); T9 = -U4v.F_(p0zBu[122956], w7x); n_ = +F$6; M4 = p0zBu[149144]; for (var N3 = p0zBu.v2 | p0zBu[32075]; U4v.c6(N3.toString(), N3.toString().length, j2z >> p0zBu.Q_) !== T9; N3++) { U4v.s0(p0zBu.c7); maxCropBoxHeight = U4v.L6(aspectRatio, maxCropBoxWidth); M4 += +p0zBu.y8n; } if (U4v.E7(M4.toString(), M4.toString().length, E$N - p0zBu[122956]) !== n_) { U4v.s0(p0zBu.w5); maxCropBoxHeight = U4v.F_(aspectRatio, maxCropBoxWidth); } } else { U4v.s6(p0zBu[235283]); maxCropBoxWidth = U4v.F_(aspectRatio, maxCropBoxHeight); } } cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth); cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight); cropBoxData.maxWidth = maxCropBoxWidth; cropBoxData.maxHeight = maxCropBoxHeight; } if (positionLimited) { if (limited) { cropBoxData.minLeft = Math.max(p0zBu[122956], canvasData.left); cropBoxData.minTop = Math.max(+p0zBu.U5, canvasData.top); cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width; cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height; } else { U4v.s0(p0zBu[122956]); cropBoxData.minLeft = U4v.L6(p0zBu.S1, p0zBu.U5); U4v.s6(p0zBu[122956]); cropBoxData.minTop = U4v.L6(p0zBu.Q_, p0zBu.U5); cropBoxData.maxLeft = containerData.width - cropBoxData.width; cropBoxData.maxTop = containerData.height - cropBoxData.height; } } }, renderCropBox: function renderCropBox() { var options, containerData, cropBoxData; options = this.options; containerData = this.containerData; cropBoxData = this.cropBoxData; if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) { cropBoxData.left = cropBoxData.oldLeft; } if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) { cropBoxData.top = cropBoxData.oldTop; } cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth); cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); this.limitCropBox(p0zBu.e1, p0zBu.s2A); cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft); cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop); cropBoxData.oldLeft = cropBoxData.left; cropBoxData.oldTop = cropBoxData.top; if (options.movable && options.cropBoxMovable) { setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL); } setStyle(this.cropBox, assign({ width: cropBoxData.width, height: cropBoxData.height }, getTransforms({ translateX: cropBoxData.left, translateY: cropBoxData.top }))); if (this.cropped && this.limited) { this.limitCanvas(p0zBu.s2A, p0zBu.s2A); } if (!this.disabled) { this.output(); } }, output: function output() { this.preview(); P2t.S$D(); dispatchEvent(this.element, EVENT_CROP, this.getData()); } }; function normalizeDecimalNumber(value) { var k3h = "100000000000"; var times; times = arguments.length > p0zBu.v2 * p0zBu[32075] && arguments[+p0zBu.v2] !== undefined ? arguments[p0zBu.v2 - p0zBu[122956]] : k3h - p0zBu[122956]; return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value; } function _typeof(obj) { var U_c = "symbol"; if (typeof Symbol === n2Odt.o7f && typeof Symbol.iterator === U_c) { _typeof = function (obj) { return typeof obj; }; } else { _typeof = function (obj) { return obj && typeof Symbol === n2Odt.o7f && obj.constructor === Symbol && obj !== Symbol.prototype ? U_c : typeof obj; }; } return _typeof(obj); } preview = { initPreview: function initPreview() { var crossOrigin, preview, url, image, previews; P2t.S$D(); crossOrigin = this.crossOrigin; preview = this.options.preview; url = crossOrigin ? this.crossOriginUrl : this.url; image = document.createElement(n2Odt.X9j); if (crossOrigin) { image.crossOrigin = crossOrigin; } image.src = url; this.viewBox.appendChild(image); this.viewBoxImage = image; if (!preview) { return; } previews = preview; if (typeof preview === d1Pxx.S0h) { previews = this.element.ownerDocument.querySelectorAll(preview); } else if (preview.querySelector) { previews = [preview]; } this.previews = previews; forEach(previews, function (el) { var s3X = 'image-orientation:0deg!important;"'; var Y75 = 'display:block;'; var g3B = 'width:100%;'; var I5x = 'height:auto;'; var img; img = document.createElement(n2Odt.X9j); setData(el, DATA_PREVIEW, { width: el.offsetWidth, height: el.offsetHeight, html: el.innerHTML }); if (crossOrigin) { img.crossOrigin = crossOrigin; } img.src = url; U4v.s0(p0zBu.y5); img.style.cssText = U4v.F_(I5x, t4w, s3X, g3B, e4W, K4_, Y75, g7y); el.innerHTML = p0zBu.e5; el.appendChild(img); }); }, resetPreview: function resetPreview() { P2t.s3o(); forEach(this.previews, function (element) { var data; data = getData(element, DATA_PREVIEW); setStyle(element, { width: data.width, height: data.height }); element.innerHTML = data.html; P2t.s3o(); removeData(element, DATA_PREVIEW); }); }, preview: function preview() { var imageData, canvasData, cropBoxData, cropBoxWidth, cropBoxHeight, width, height, left, top; imageData = this.imageData; canvasData = this.canvasData; cropBoxData = this.cropBoxData; cropBoxWidth = cropBoxData.width; cropBoxHeight = cropBoxData.height; width = imageData.width; height = imageData.height; left = cropBoxData.left - canvasData.left - imageData.left; top = cropBoxData.top - canvasData.top - imageData.top; if (!this.cropped || this.disabled) { return; } setStyle(this.viewBoxImage, assign({ width: width, height: height }, getTransforms(assign({ translateX: -left, translateY: -top }, imageData)))); forEach(this.previews, function (element) { var M6N = "80654"; var b1R = "504586838"; var P0a = "16938"; var e9m = "1767916072"; var data, originalWidth, originalHeight, newWidth, newHeight, ratio, Y4, H6, X6; data = getData(element, DATA_PREVIEW); originalWidth = data.width; originalHeight = data.height; newWidth = originalWidth; newHeight = originalHeight; ratio = +p0zBu.v2; if (cropBoxWidth) { U4v.s0(p0zBu.w5); ratio = U4v.F_(cropBoxWidth, originalWidth); U4v.s6(p0zBu[235283]); newHeight = U4v.L6(ratio, cropBoxHeight); } if (cropBoxHeight && newHeight > originalHeight) { U4v.s0(p0zBu.w5); ratio = U4v.F_(cropBoxHeight, originalHeight); U4v.s0(p0zBu[149144]); Y4 = U4v.L6(p0zBu.S1, e9m); H6 = +b1R; U4v.s6(p0zBu.c7); X6 = U4v.L6(p0zBu[122956], p0zBu.y8n); for (var X3 = p0zBu.v2 - p0zBu[122956]; U4v.E7(X3.toString(), X3.toString().length, +P0a) !== Y4; X3++) { U4v.s6(p0zBu[235283]); newWidth = U4v.L6(ratio, cropBoxWidth); U4v.s0(p0zBu[149144]); X6 += U4v.F_(p0zBu.Q_, p0zBu.y8n); } if (U4v.c6(X6.toString(), X6.toString().length, M6N ^ p0zBu[122956]) !== H6) { U4v.s0(s1); newWidth = U4v.L6(ratio, cropBoxWidth); } newHeight = originalHeight; } setStyle(element, { width: newWidth, height: newHeight }); setStyle(element.getElementsByTagName(n2Odt.X9j)[+p0zBu.U5], assign({ width: width * ratio, height: height * ratio }, getTransforms(assign({ translateX: -left * ratio, translateY: -top * ratio }, imageData)))); }); } }; function isPlainObject(value) { var R$H = 'isPrototypeOf'; P2t.s3o(); var _constructor, prototype; if (!isObject(value)) { return p0zBu.e1; } try { _constructor = value.constructor; prototype = _constructor.prototype; return _constructor && prototype && hasOwnProperty.call(prototype, R$H); } catch (error) { return p0zBu.e1; } } events = { bind: function bind() { var element, options, cropper; element = this.element; options = this.options; cropper = this.cropper; if (isFunction(options.cropstart)) { addListener(element, EVENT_CROP_START, options.cropstart); } if (isFunction(options.cropmove)) { addListener(element, EVENT_CROP_MOVE, options.cropmove); } if (isFunction(options.cropend)) { addListener(element, EVENT_CROP_END, options.cropend); } if (isFunction(options.crop)) { addListener(element, EVENT_CROP, options.crop); } if (isFunction(options.zoom)) { addListener(element, EVENT_ZOOM, options.zoom); } addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this)); if (options.zoomable && options.zoomOnWheel) { addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), { passive: p0zBu.e1, capture: p0zBu.s2A }); } if (options.toggleDragModeOnDblclick) { addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this)); } addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this)); addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this)); if (options.responsive) { addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this)); } }, unbind: function unbind() { var element, options, cropper; element = this.element; options = this.options; cropper = this.cropper; if (isFunction(options.cropstart)) { removeListener(element, EVENT_CROP_START, options.cropstart); } if (isFunction(options.cropmove)) { removeListener(element, EVENT_CROP_MOVE, options.cropmove); } if (isFunction(options.cropend)) { removeListener(element, EVENT_CROP_END, options.cropend); } if (isFunction(options.crop)) { removeListener(element, EVENT_CROP, options.crop); } if (isFunction(options.zoom)) { removeListener(element, EVENT_ZOOM, options.zoom); } removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart); if (options.zoomable && options.zoomOnWheel) { removeListener(cropper, EVENT_WHEEL, this.onWheel, { passive: p0zBu.e1, capture: p0zBu.s2A }); } if (options.toggleDragModeOnDblclick) { removeListener(cropper, EVENT_DBLCLICK, this.onDblclick); } removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove); removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd); if (options.responsive) { removeListener(window, EVENT_RESIZE, this.onResize); } } }; handlers = { resize: function resize() { var options, container, containerData, minContainerWidth, minContainerHeight, ratio, canvasData, cropBoxData; options = this.options; container = this.container; containerData = this.containerData; minContainerWidth = Number(options.minContainerWidth) || MIN_CONTAINER_WIDTH; minContainerHeight = Number(options.minContainerHeight) || MIN_CONTAINER_HEIGHT; if (this.disabled || containerData.width <= minContainerWidth || containerData.height <= minContainerHeight) { return; } ratio = container.offsetWidth / containerData.width; if (ratio !== (p0zBu.v2 | p0zBu[122956]) || container.offsetHeight !== containerData.height) { if (options.restore) { canvasData = this.getCanvasData(); cropBoxData = this.getCropBoxData(); } this.render(); if (options.restore) { this.setCanvasData(forEach(canvasData, function (n, i) { P2t.s3o(); U4v.s6(p0zBu[235283]); canvasData[i] = U4v.F_(ratio, n); })); this.setCropBoxData(forEach(cropBoxData, function (n, i) { U4v.s0(p0zBu[235283]); P2t.s3o(); cropBoxData[i] = U4v.L6(ratio, n); })); } } }, dblclick: function dblclick() { P2t.S$D(); if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) { return; } this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP); }, wheel: function wheel(event) { var _this, ratio, delta; _this = this; ratio = Number(this.options.wheelZoomRatio) || n2Odt.B7E * p0zBu[32075]; delta = +p0zBu.v2; if (this.disabled) { return; } event.preventDefault(); if (this.wheeling) { return; } this.wheeling = p0zBu.s2A; setTimeout(function () { _this.wheeling = p0zBu.e1; }, +n2Odt.O5d); if (event.deltaY) { delta = event.deltaY > +p0zBu.U5 ? +p0zBu.v2 : -+p0zBu.v2; } else if (event.wheelDelta) { U4v.s6(p0zBu[394202]); var K9 = U4v.F_(p0zBu[149144], p0zBu.K8); delta = -event.wheelDelta / (n2Odt.s9a << K9); } else if (event.detail) { delta = event.detail > +p0zBu.U5 ? +p0zBu.v2 : -(p0zBu.v2 ^ p0zBu[122956]); } U4v.s6(p0zBu.a9); P2t.S$D(); this.zoom(U4v.L6(ratio, delta), event); }, cropStart: function cropStart(event) { P2t.S$D(); var d4N = "37691"; var N8 = 69040; var M9 = 327461092; var v88 = "482308506"; var buttons, button, options, pointers, action, m8, M2, o2; buttons = event.buttons; button = event.button; if (this.disabled || isNumber(buttons) && buttons !== p0zBu.v2 << p0zBu.Q_ || isNumber(button) && button !== +p0zBu.U5 || event.ctrlKey) { return; } options = this.options; pointers = this.pointers; if (event.changedTouches) { forEach(event.changedTouches, function (touch) { P2t.s3o(); pointers[touch.identifier] = getPointer(touch); }); } else { pointers[event.pointerId || p0zBu[122956]] = getPointer(event); } if (Object.keys(pointers).length > +p0zBu.v2 && options.zoomable && options.zoomOnTouch) { action = ACTION_ZOOM; } else { U4v.s0(p0zBu[514270]); m8 = U4v.F_(p0zBu.Z8, v88); M2 = -M9; U4v.s6(p0zBu[32075]); o2 = U4v.L6(p0zBu.y8n, p0zBu[122956]); for (var l1 = +p0zBu.v2; U4v.c6(l1.toString(), l1.toString().length, N8) !== m8; l1++) { action = getData(event.target, DATA_ACTION); o2 += p0zBu[149144]; } if (U4v.c6(o2.toString(), o2.toString().length, +d4N) !== M2) { action = getData(event.target, DATA_ACTION); } } if (!REGEXP_ACTIONS.test(action)) { return; } if (dispatchEvent(this.element, EVENT_CROP_START, { originalEvent: event, action: action }) === p0zBu.e1) { return; } event.preventDefault(); this.action = action; this.cropping = p0zBu.e1; if (action === ACTION_CROP) { this.cropping = p0zBu.s2A; addClass(this.dragBox, CLASS_MODAL); } }, cropMove: function cropMove(event) { var action, pointers; action = this.action; if (this.disabled || !action) { return; } pointers = this.pointers; event.preventDefault(); if (dispatchEvent(this.element, EVENT_CROP_MOVE, { originalEvent: event, action: action }) === p0zBu.e1) { return; } if (event.changedTouches) { forEach(event.changedTouches, function (touch) { P2t.S$D(); assign(pointers[touch.identifier] || ({}), getPointer(touch, p0zBu.s2A)); }); } else { assign(pointers[event.pointerId || +p0zBu.U5] || ({}), getPointer(event, p0zBu.s2A)); } this.change(event); }, cropEnd: function cropEnd(event) { var action, pointers; if (this.disabled) { return; } action = this.action; pointers = this.pointers; if (event.changedTouches) { forEach(event.changedTouches, function (touch) { delete pointers[touch.identifier]; }); } else { delete pointers[event.pointerId || p0zBu.U5 * p0zBu[32075]]; } if (!action) { return; } event.preventDefault(); if (!Object.keys(pointers).length) { this.action = p0zBu.e5; } if (this.cropping) { this.cropping = p0zBu.e1; toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal); } P2t.S$D(); dispatchEvent(this.element, EVENT_CROP_END, { originalEvent: event, action: action }); } }; function isFunction(value) { U4v.s6(p0zBu.o3); P2t.s3o(); return U4v.F_(d1Pxx.d0a, typeof value); } change = { change: function change(event) { var options, canvasData, containerData, cropBoxData, pointers, action, aspectRatio, left, top, width, height, right, bottom, minLeft, minTop, maxWidth, maxHeight, renderable, offset, pointer, range, check; options = this.options; canvasData = this.canvasData; containerData = this.containerData; cropBoxData = this.cropBoxData; pointers = this.pointers; action = this.action; aspectRatio = options.aspectRatio; left = cropBoxData.left; top = cropBoxData.top; width = cropBoxData.width; height = cropBoxData.height; U4v.s0(p0zBu[394202]); right = U4v.L6(left, width); U4v.s0(p0zBu[394202]); bottom = U4v.L6(top, height); U4v.s6(p0zBu[32075]); minLeft = U4v.F_(p0zBu.U5, p0zBu[122956]); U4v.s6(p0zBu[32075]); minTop = U4v.F_(p0zBu.U5, p0zBu[122956]); maxWidth = containerData.width; maxHeight = containerData.height; P2t.s3o(); renderable = p0zBu.s2A; if (!aspectRatio && event.shiftKey) { aspectRatio = width && height ? width / height : +p0zBu.v2; } if (this.limited) { minLeft = cropBoxData.minLeft; minTop = cropBoxData.minTop; maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width); maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height); } pointer = pointers[Object.keys(pointers)[+p0zBu.U5]]; range = { x: pointer.endX - pointer.startX, y: pointer.endY - pointer.startY }; check = function check(side) { P2t.S$D(); switch (side) { case ACTION_EAST: if (right + range.x > maxWidth) { U4v.s6(p0zBu.c7); range.x = U4v.L6(right, maxWidth); } break; case ACTION_WEST: if (left + range.x < minLeft) { U4v.s6(p0zBu.c7); range.x = U4v.F_(left, minLeft); } break; case ACTION_NORTH: if (top + range.y < minTop) { U4v.s0(p0zBu.c7); range.y = U4v.L6(top, minTop); } break; case ACTION_SOUTH: if (bottom + range.y > maxHeight) { U4v.s0(p0zBu.c7); range.y = U4v.F_(bottom, maxHeight); } break; default: } }; switch (action) { case ACTION_ALL: left += range.x; top += range.y; break; case ACTION_EAST: if (range.x >= p0zBu.U5 >> p0zBu[122956] && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) { renderable = p0zBu.e1; break; } check(ACTION_EAST); width += range.x; if (width < +p0zBu.U5) { action = ACTION_WEST; width = -width; left -= width; } if (aspectRatio) { U4v.s6(p0zBu.w5); height = U4v.L6(aspectRatio, width); top += (cropBoxData.height - height) / (p0zBu.y8n | p0zBu[122956]); } break; case ACTION_NORTH: if (range.y <= p0zBu.U5 * p0zBu[32075] && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) { renderable = p0zBu.e1; break; } check(ACTION_NORTH); height -= range.y; top += range.y; if (height < p0zBu.U5 - p0zBu[122956]) { action = ACTION_SOUTH; height = -height; top -= height; } if (aspectRatio) { U4v.s0(p0zBu[235283]); width = U4v.F_(aspectRatio, height); left += (cropBoxData.width - width) / (p0zBu.y8n ^ p0zBu[122956]); } break; case ACTION_WEST: if (range.x <= +p0zBu.U5 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) { renderable = p0zBu.e1; break; } check(ACTION_WEST); width -= range.x; left += range.x; if (width < p0zBu[122956]) { action = ACTION_EAST; width = -width; left -= width; } if (aspectRatio) { U4v.s6(p0zBu.w5); height = U4v.F_(aspectRatio, width); top += (cropBoxData.height - height) / (p0zBu.y8n - p0zBu[122956]); } break; case ACTION_SOUTH: if (range.y >= +p0zBu.U5 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) { renderable = p0zBu.e1; break; } check(ACTION_SOUTH); height += range.y; if (height < p0zBu[122956]) { action = ACTION_NORTH; height = -height; top -= height; } if (aspectRatio) { U4v.s6(p0zBu[235283]); width = U4v.F_(aspectRatio, height); left += (cropBoxData.width - width) / (p0zBu.y8n - p0zBu[122956]); } break; case ACTION_NORTH_EAST: if (aspectRatio) { if (range.y <= p0zBu.U5 * p0zBu[32075] && (top <= minTop || right >= maxWidth)) { renderable = p0zBu.e1; break; } check(ACTION_NORTH); height -= range.y; top += range.y; U4v.s6(p0zBu[235283]); width = U4v.L6(aspectRatio, height); } else { check(ACTION_NORTH); check(ACTION_EAST); if (range.x >= +p0zBu.U5) { if (right < maxWidth) { width += range.x; } else if (range.y <= (p0zBu.U5 | p0zBu[122956]) && top <= minTop) { renderable = p0zBu.e1; } } else { width += range.x; } if (range.y <= p0zBu[122956]) { if (top > minTop) { height -= range.y; top += range.y; } } else { height -= range.y; top += range.y; } } if (width < +p0zBu.U5 && height < p0zBu[122956]) { action = ACTION_SOUTH_WEST; height = -height; width = -width; top -= height; left -= width; } else if (width < p0zBu.U5 * p0zBu[32075]) { action = ACTION_NORTH_WEST; width = -width; left -= width; } else if (height < p0zBu.U5 * p0zBu[32075]) { action = ACTION_SOUTH_EAST; height = -height; top -= height; } break; case ACTION_NORTH_WEST: if (aspectRatio) { if (range.y <= p0zBu.U5 >> p0zBu[122956] && (top <= minTop || left <= minLeft)) { renderable = p0zBu.e1; break; } check(ACTION_NORTH); height -= range.y; top += range.y; U4v.s6(p0zBu[235283]); width = U4v.F_(aspectRatio, height); left += cropBoxData.width - width; } else { check(ACTION_NORTH); check(ACTION_WEST); if (range.x <= +p0zBu.U5) { if (left > minLeft) { width -= range.x; left += range.x; } else if (range.y <= +p0zBu.U5 && top <= minTop) { renderable = p0zBu.e1; } } else { width -= range.x; left += range.x; } if (range.y <= (p0zBu.U5 ^ p0zBu[122956])) { if (top > minTop) { height -= range.y; top += range.y; } } else { height -= range.y; top += range.y; } } if (width < +p0zBu.U5 && height < p0zBu.U5 >> p0zBu.V8) { action = ACTION_SOUTH_EAST; height = -height; width = -width; top -= height; left -= width; } else if (width < p0zBu.U5 >> p0zBu[122956]) { action = ACTION_NORTH_EAST; width = -width; left -= width; } else if (height < p0zBu[122956]) { action = ACTION_SOUTH_WEST; height = -height; top -= height; } break; case ACTION_SOUTH_WEST: if (aspectRatio) { if (range.x <= p0zBu[122956] && (left <= minLeft || bottom >= maxHeight)) { renderable = p0zBu.e1; break; } check(ACTION_WEST); width -= range.x; left += range.x; U4v.s0(p0zBu.w5); height = U4v.L6(aspectRatio, width); } else { check(ACTION_SOUTH); check(ACTION_WEST); if (range.x <= p0zBu[122956]) { if (left > minLeft) { width -= range.x; left += range.x; } else if (range.y >= +p0zBu.U5 && bottom >= maxHeight) { renderable = p0zBu.e1; } } else { width -= range.x; left += range.x; } if (range.y >= +p0zBu.U5) { if (bottom < maxHeight) { height += range.y; } } else { height += range.y; } } if (width < p0zBu.U5 << p0zBu.Q_ && height < p0zBu.U5 >> p0zBu.Q_) { action = ACTION_NORTH_EAST; height = -height; width = -width; top -= height; left -= width; } else if (width < p0zBu.U5 << p0zBu.S1) { action = ACTION_SOUTH_EAST; width = -width; left -= width; } else if (height < p0zBu.U5 * p0zBu[32075]) { action = ACTION_NORTH_WEST; height = -height; top -= height; } break; case ACTION_SOUTH_EAST: if (aspectRatio) { if (range.x >= p0zBu.U5 - p0zBu[122956] && (right >= maxWidth || bottom >= maxHeight)) { renderable = p0zBu.e1; break; } check(ACTION_EAST); width += range.x; U4v.s6(p0zBu.w5); height = U4v.F_(aspectRatio, width); } else { check(ACTION_SOUTH); check(ACTION_EAST); if (range.x >= (p0zBu.U5 ^ p0zBu[122956])) { if (right < maxWidth) { width += range.x; } else if (range.y >= p0zBu.U5 - p0zBu[122956] && bottom >= maxHeight) { renderable = p0zBu.e1; } } else { width += range.x; } if (range.y >= p0zBu.U5 - p0zBu[122956]) { if (bottom < maxHeight) { height += range.y; } } else { height += range.y; } } if (width < p0zBu[122956] && height < p0zBu.U5 >> p0zBu.S1) { action = ACTION_NORTH_WEST; height = -height; width = -width; top -= height; left -= width; } else if (width < p0zBu[122956]) { action = ACTION_SOUTH_WEST; width = -width; left -= width; } else if (height < p0zBu.U5 * p0zBu[32075]) { action = ACTION_NORTH_EAST; height = -height; top -= height; } break; case ACTION_MOVE: this.move(range.x, range.y); renderable = p0zBu.e1; break; case ACTION_ZOOM: this.zoom(getMaxZoomRatio(pointers), event); renderable = p0zBu.e1; break; case ACTION_CROP: if (!range.x || !range.y) { renderable = p0zBu.e1; break; } offset = getOffset(this.cropper); left = pointer.startX - offset.left; top = pointer.startY - offset.top; width = cropBoxData.minWidth; height = cropBoxData.minHeight; if (range.x > p0zBu[122956]) { action = range.y > +p0zBu.U5 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST; } else if (range.x < p0zBu.U5 >> p0zBu.S1) { left -= width; action = range.y > +p0zBu.U5 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST; } if (range.y < +p0zBu.U5) { top -= height; } if (!this.cropped) { removeClass(this.cropBox, CLASS_HIDDEN); this.cropped = p0zBu.s2A; if (this.limited) { this.limitCropBox(p0zBu.s2A, p0zBu.s2A); } } break; default: }if (renderable) { cropBoxData.width = width; cropBoxData.height = height; cropBoxData.left = left; cropBoxData.top = top; this.action = action; this.renderCropBox(); } forEach(pointers, function (p) { P2t.s3o(); p.startX = p.endX; p.startY = p.endY; }); } }; methods = { crop: function crop() { if (this.ready && !this.cropped && !this.disabled) { this.cropped = p0zBu.s2A; this.limitCropBox(p0zBu.s2A, p0zBu.s2A); if (this.options.modal) { addClass(this.dragBox, CLASS_MODAL); } removeClass(this.cropBox, CLASS_HIDDEN); this.setCropBoxData(this.initialCropBoxData); } return this; }, reset: function reset() { if (this.ready && !this.disabled) { this.imageData = assign({}, this.initialImageData); this.canvasData = assign({}, this.initialCanvasData); this.cropBoxData = assign({}, this.initialCropBoxData); this.renderCanvas(); if (this.cropped) { this.renderCropBox(); } } return this; }, clear: function clear() { if (this.cropped && !this.disabled) { assign(this.cropBoxData, { left: p0zBu.U5 * p0zBu[32075], top: +p0zBu.U5, width: p0zBu[122956], height: p0zBu.U5 << p0zBu.Q_ }); this.cropped = p0zBu.e1; this.renderCropBox(); this.limitCanvas(p0zBu.s2A, p0zBu.s2A); this.renderCanvas(); removeClass(this.dragBox, CLASS_MODAL); addClass(this.cropBox, CLASS_HIDDEN); } return this; }, replace: function replace(url) { var hasSameSize; hasSameSize = arguments.length > (p0zBu.v2 ^ p0zBu[122956]) && arguments[+p0zBu.v2] !== undefined ? arguments[+p0zBu.v2] : p0zBu.e1; if (!this.disabled && url) { if (this.isImg) { this.element.src = url; } if (hasSameSize) { this.url = url; this.image.src = url; if (this.ready) { this.viewBoxImage.src = url; forEach(this.previews, function (element) { P2t.S$D(); element.getElementsByTagName(n2Odt.X9j)[+p0zBu.U5].src = url; }); } } else { if (this.isImg) { this.replaced = p0zBu.s2A; } this.options.data = d1Pxx.p8r; this.uncreate(); this.load(url); } } return this; }, enable: function enable() { P2t.S$D(); if (this.ready && this.disabled) { this.disabled = p0zBu.e1; removeClass(this.cropper, CLASS_DISABLED); } return this; }, disable: function disable() { if (this.ready && !this.disabled) { this.disabled = p0zBu.s2A; addClass(this.cropper, CLASS_DISABLED); } P2t.s3o(); return this; }, destroy: function destroy() { var element; element = this.element; if (!element[NAMESPACE]) { return this; } element[NAMESPACE] = undefined; P2t.S$D(); if (this.isImg && this.replaced) { element.src = this.originalUrl; } this.uncreate(); return this; }, move: function move(offsetX) { var offsetY, _this$canvasData, left, top; offsetY = arguments.length > +p0zBu.v2 && arguments[+p0zBu.v2] !== undefined ? arguments[p0zBu.v2 << p0zBu.Q_] : offsetX; _this$canvasData = this.canvasData; left = _this$canvasData.left; top = _this$canvasData.top; return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY)); }, moveTo: function moveTo(x) { var y, canvasData, changed; y = arguments.length > p0zBu.v2 >> p0zBu[122956] && arguments[p0zBu[32075]] !== undefined ? arguments[+p0zBu.v2] : x; canvasData = this.canvasData; changed = p0zBu.e1; x = Number(x); y = Number(y); if (this.ready && !this.disabled && this.options.movable) { if (isNumber(x)) { canvasData.left = x; changed = p0zBu.s2A; } if (isNumber(y)) { canvasData.top = y; changed = p0zBu.s2A; } if (changed) { this.renderCanvas(p0zBu.s2A); } } return this; }, zoom: function zoom(ratio, _originalEvent) { var V_ = 53; P2t.S$D(); var D9 = 52; var canvasData; canvasData = this.canvasData; ratio = Number(ratio); if (ratio < (p0zBu.U5 | p0zBu[122956])) { U4v.s6(D9); ratio = U4v.F_(p0zBu.v2, ratio, p0zBu.v2); } else { U4v.s6(V_); ratio = U4v.L6(ratio, p0zBu.v2); } return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, d1Pxx.p8r, _originalEvent); }, zoomTo: function zoomTo(ratio, pivot, _originalEvent) { var a5 = 54; var options, canvasData, width, height, naturalWidth, naturalHeight, newWidth, newHeight, pointers, offset, center; options = this.options; P2t.S$D(); canvasData = this.canvasData; width = canvasData.width; height = canvasData.height; naturalWidth = canvasData.naturalWidth; naturalHeight = canvasData.naturalHeight; ratio = Number(ratio); if (ratio >= +p0zBu.U5 && this.ready && !this.disabled && options.zoomable) { U4v.s6(p0zBu[235283]); newWidth = U4v.L6(ratio, naturalWidth); U4v.s0(p0zBu[235283]); newHeight = U4v.F_(ratio, naturalHeight); if (dispatchEvent(this.element, EVENT_ZOOM, { ratio: ratio, oldRatio: width / naturalWidth, originalEvent: _originalEvent }) === p0zBu.e1) { return this; } if (_originalEvent) { pointers = this.pointers; offset = getOffset(this.cropper); center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : { pageX: _originalEvent.pageX, pageY: _originalEvent.pageY }; canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width); canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height); } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) { canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width); canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height); } else { U4v.s0(a5); canvasData.left -= U4v.F_(width, newWidth, p0zBu.S1, p0zBu.y8n); U4v.s6(p0zBu.Y8); canvasData.top -= U4v.L6(p0zBu[122956], newHeight, height, p0zBu.y8n); } canvasData.width = newWidth; canvasData.height = newHeight; this.renderCanvas(p0zBu.s2A); } return this; }, rotate: function rotate(degree) { return this.rotateTo((this.imageData.rotate || p0zBu[122956]) + Number(degree)); }, rotateTo: function rotateTo(degree) { degree = Number(degree); if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) { U4v.s0(p0zBu.k2); this.imageData.rotate = U4v.L6(degree, d1Pxx.N7H); this.renderCanvas(p0zBu.s2A, p0zBu.s2A); } return this; }, scaleX: function scaleX(_scaleX) { var scaleY; P2t.s3o(); scaleY = this.imageData.scaleY; return this.scale(_scaleX, isNumber(scaleY) ? scaleY : p0zBu[32075]); }, scaleY: function scaleY(_scaleY) { var scaleX; scaleX = this.imageData.scaleX; return this.scale(isNumber(scaleX) ? scaleX : +p0zBu.v2, _scaleY); }, scale: function scale(scaleX) { var scaleY, imageData, transformed; scaleY = arguments.length > +p0zBu.v2 && arguments[p0zBu.v2 << p0zBu.S1] !== undefined ? arguments[+p0zBu.v2] : scaleX; imageData = this.imageData; transformed = p0zBu.e1; scaleX = Number(scaleX); scaleY = Number(scaleY); if (this.ready && !this.disabled && this.options.scalable) { if (isNumber(scaleX)) { imageData.scaleX = scaleX; transformed = p0zBu.s2A; } if (isNumber(scaleY)) { imageData.scaleY = scaleY; transformed = p0zBu.s2A; } if (transformed) { this.renderCanvas(p0zBu.s2A, p0zBu.s2A); } } return this; }, getData: function getData() { var rounded, options, imageData, canvasData, cropBoxData, data, ratio, bottom, right; rounded = arguments.length > p0zBu[122956] && arguments[p0zBu.U5 << p0zBu.Q_] !== undefined ? arguments[p0zBu.U5 ^ p0zBu[122956]] : p0zBu.e1; options = this.options; imageData = this.imageData; canvasData = this.canvasData; cropBoxData = this.cropBoxData; if (this.ready && this.cropped) { data = { x: cropBoxData.left - canvasData.left, y: cropBoxData.top - canvasData.top, width: cropBoxData.width, height: cropBoxData.height }; ratio = imageData.width / imageData.naturalWidth; forEach(data, function (n, i) { U4v.s6(p0zBu.w5); P2t.S$D(); data[i] = U4v.F_(ratio, n); }); if (rounded) { bottom = Math.round(data.y + data.height); right = Math.round(data.x + data.width); data.x = Math.round(data.x); data.y = Math.round(data.y); data.width = right - data.x; data.height = bottom - data.y; } } else { data = { x: p0zBu.U5 | p0zBu[122956], y: +p0zBu.U5, width: p0zBu[122956], height: p0zBu.U5 | p0zBu[122956] }; } if (options.rotatable) { data.rotate = imageData.rotate || +p0zBu.U5; } if (options.scalable) { data.scaleX = imageData.scaleX || p0zBu[32075]; data.scaleY = imageData.scaleY || p0zBu.v2 | p0zBu[32075]; } return data; }, setData: function setData(data) { var options, imageData, canvasData, cropBoxData, transformed, ratio; options = this.options; P2t.s3o(); imageData = this.imageData; canvasData = this.canvasData; cropBoxData = {}; if (this.ready && !this.disabled && isPlainObject(data)) { transformed = p0zBu.e1; if (options.rotatable) { if (isNumber(data.rotate) && data.rotate !== imageData.rotate) { imageData.rotate = data.rotate; transformed = p0zBu.s2A; } } if (options.scalable) { if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) { imageData.scaleX = data.scaleX; transformed = p0zBu.s2A; } if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) { imageData.scaleY = data.scaleY; transformed = p0zBu.s2A; } } if (transformed) { this.renderCanvas(p0zBu.s2A, p0zBu.s2A); } ratio = imageData.width / imageData.naturalWidth; if (isNumber(data.x)) { cropBoxData.left = data.x * ratio + canvasData.left; } if (isNumber(data.y)) { cropBoxData.top = data.y * ratio + canvasData.top; } if (isNumber(data.width)) { cropBoxData.width = data.width * ratio; } if (isNumber(data.height)) { cropBoxData.height = data.height * ratio; } this.setCropBoxData(cropBoxData); } return this; }, getContainerData: function getContainerData() { return this.ready ? assign({}, this.containerData) : {}; }, getImageData: function getImageData() { return this.sized ? assign({}, this.imageData) : {}; }, getCanvasData: function getCanvasData() { var j2O = 'naturalHeight'; var S6C = 'naturalWidth'; P2t.S$D(); var canvasData, data; canvasData = this.canvasData; data = {}; if (this.ready) { forEach([d1Pxx.N_3, d1Pxx.H9f, d1Pxx.s0r, d1Pxx.v26, S6C, j2O], function (n) { P2t.S$D(); data[n] = canvasData[n]; }); } return data; }, setCanvasData: function setCanvasData(data) { var i3v = "77772"; var x$T = "1464904903"; var Y9D = "94852"; var i64 = "88896459"; var canvasData, aspectRatio, L$, X7, r$; canvasData = this.canvasData; aspectRatio = canvasData.aspectRatio; if (this.ready && !this.disabled && isPlainObject(data)) { if (isNumber(data.left)) { canvasData.left = data.left; } if (isNumber(data.top)) { canvasData.top = data.top; } if (isNumber(data.width)) { canvasData.width = data.width; canvasData.height = data.width / aspectRatio; } else if (isNumber(data.height)) { canvasData.height = data.height; canvasData.width = data.height * aspectRatio; } U4v.s0(p0zBu[514270]); L$ = U4v.L6(p0zBu.Q_, i64); U4v.s0(p0zBu[235283]); X7 = U4v.L6(p0zBu[32075], x$T); U4v.s6(p0zBu.c7); r$ = U4v.F_(p0zBu[122956], p0zBu.y8n); for (var R_ = p0zBu.v2 >> p0zBu[122956]; U4v.E7(R_.toString(), R_.toString().length, i3v - p0zBu[122956]) !== L$; R_++) { this.renderCanvas(p0zBu.e1); U4v.s6(p0zBu.c7); r$ += U4v.F_(p0zBu[122956], p0zBu.y8n); } if (U4v.E7(r$.toString(), r$.toString().length, Y9D - p0zBu[122956]) !== X7) { this.renderCanvas(p0zBu.s2A); } } return this; }, getCropBoxData: function getCropBoxData() { var cropBoxData, data; P2t.s3o(); cropBoxData = this.cropBoxData; if (this.ready && this.cropped) { data = { left: cropBoxData.left, top: cropBoxData.top, width: cropBoxData.width, height: cropBoxData.height }; } return data || ({}); }, setCropBoxData: function setCropBoxData(data) { var cropBoxData, aspectRatio, widthChanged, heightChanged; cropBoxData = this.cropBoxData; aspectRatio = this.options.aspectRatio; if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) { if (isNumber(data.left)) { cropBoxData.left = data.left; } if (isNumber(data.top)) { cropBoxData.top = data.top; } if (isNumber(data.width) && data.width !== cropBoxData.width) { widthChanged = p0zBu.s2A; cropBoxData.width = data.width; } if (isNumber(data.height) && data.height !== cropBoxData.height) { heightChanged = p0zBu.s2A; cropBoxData.height = data.height; } if (aspectRatio) { if (widthChanged) { cropBoxData.height = cropBoxData.width / aspectRatio; } else if (heightChanged) { cropBoxData.width = cropBoxData.height * aspectRatio; } } this.renderCropBox(); } return this; }, getCroppedCanvas: function getCroppedCanvas() { var options, canvasData, source, _this$getData, initialX, initialY, initialWidth, initialHeight, ratio, aspectRatio, maxSizes, minSizes, _getAdjustedSizes, width, height, canvas, context, _options$imageSmoothi, imageSmoothingEnabled, imageSmoothingQuality, sourceWidth, sourceHeight, srcX, srcY, srcWidth, srcHeight, dstX, dstY, dstWidth, dstHeight, params, scale; options = arguments.length > +p0zBu.U5 && arguments[p0zBu.U5 ^ p0zBu[122956]] !== undefined ? arguments[p0zBu.U5 >> p0zBu.Q_] : {}; if (!this.ready || !window.HTMLCanvasElement) { return d1Pxx.p8r; } canvasData = this.canvasData; source = getSourceCanvas(this.image, this.imageData, canvasData, options); if (!this.cropped) { return source; } _this$getData = this.getData(); initialX = _this$getData.x; initialY = _this$getData.y; initialWidth = _this$getData.width; initialHeight = _this$getData.height; ratio = source.width / Math.floor(canvasData.naturalWidth); if (ratio !== +p0zBu.v2) { initialX *= ratio; initialY *= ratio; initialWidth *= ratio; initialHeight *= ratio; } U4v.s0(p0zBu.w5); aspectRatio = U4v.L6(initialHeight, initialWidth); maxSizes = getAdjustedSizes({ aspectRatio: aspectRatio, width: options.maxWidth || Infinity, height: options.maxHeight || Infinity }); minSizes = getAdjustedSizes({ aspectRatio: aspectRatio, width: options.minWidth || +p0zBu.U5, height: options.minHeight || p0zBu.U5 ^ p0zBu[122956] }, r7n); _getAdjustedSizes = getAdjustedSizes({ aspectRatio: aspectRatio, width: options.width || (ratio !== +p0zBu.v2 ? source.width : initialWidth), height: options.height || (ratio !== p0zBu.v2 - p0zBu[122956] ? source.height : initialHeight) }); width = _getAdjustedSizes.width; height = _getAdjustedSizes.height; width = Math.min(maxSizes.width, Math.max(minSizes.width, width)); height = Math.min(maxSizes.height, Math.max(minSizes.height, height)); canvas = document.createElement(h5W); context = canvas.getContext(n2Odt.p0z); canvas.width = normalizeDecimalNumber(width); canvas.height = normalizeDecimalNumber(height); context.fillStyle = options.fillColor || n2Odt.l8s; context.fillRect(+p0zBu.U5, p0zBu[122956], width, height); _options$imageSmoothi = options.imageSmoothingEnabled; imageSmoothingEnabled = _options$imageSmoothi === void +p0zBu.U5 ? p0zBu.s2A : _options$imageSmoothi; imageSmoothingQuality = options.imageSmoothingQuality; context.imageSmoothingEnabled = imageSmoothingEnabled; if (imageSmoothingQuality) { context.imageSmoothingQuality = imageSmoothingQuality; } sourceWidth = source.width; sourceHeight = source.height; srcX = initialX; srcY = initialY; if (srcX <= -initialWidth || srcX > sourceWidth) { U4v.s6(p0zBu[122956]); srcX = U4v.F_(p0zBu.S1, p0zBu.U5); U4v.s6(p0zBu[149144]); srcWidth = U4v.F_(p0zBu.Q_, p0zBu.U5); U4v.s0(p0zBu.c7); dstX = U4v.F_(p0zBu[122956], p0zBu.U5); dstWidth = +p0zBu.U5; } else if (srcX <= p0zBu[122956]) { dstX = -srcX; srcX = +p0zBu.U5; U4v.s6(p0zBu[394202]); srcWidth = Math.min(sourceWidth, U4v.F_(initialWidth, srcX)); dstWidth = srcWidth; } else if (srcX <= sourceWidth) { U4v.s0(p0zBu[122956]); dstX = U4v.L6(p0zBu.Q_, p0zBu.U5); U4v.s0(p0zBu.c7); srcWidth = Math.min(initialWidth, U4v.L6(srcX, sourceWidth)); dstWidth = srcWidth; } if (srcWidth <= +p0zBu.U5 || srcY <= -initialHeight || srcY > sourceHeight) { U4v.s6(p0zBu.c7); srcY = U4v.F_(p0zBu[122956], p0zBu.U5); U4v.s6(p0zBu[149144]); srcHeight = U4v.L6(p0zBu[122956], p0zBu.U5); U4v.s6(p0zBu[149144]); dstY = U4v.F_(p0zBu.Q_, p0zBu.U5); dstHeight = +p0zBu.U5; } else if (srcY <= p0zBu.U5 << p0zBu[122956]) { dstY = -srcY; U4v.s6(p0zBu.c7); srcY = U4v.L6(p0zBu[122956], p0zBu.U5); U4v.s6(p0zBu[394202]); srcHeight = Math.min(sourceHeight, U4v.F_(initialHeight, srcY)); dstHeight = srcHeight; } else if (srcY <= sourceHeight) { dstY = +p0zBu.U5; U4v.s0(p0zBu.c7); srcHeight = Math.min(initialHeight, U4v.F_(srcY, sourceHeight)); dstHeight = srcHeight; } params = [srcX, srcY, srcWidth, srcHeight]; if (dstWidth > (p0zBu.U5 ^ p0zBu[122956]) && dstHeight > p0zBu.U5 >> p0zBu.Q_) { U4v.s6(p0zBu.w5); scale = U4v.L6(initialWidth, width); U4v.s6(p0zBu[235283]); params.push(U4v.F_(scale, dstX), U4v.F_(scale, dstY), U4v.F_(scale, dstWidth), U4v.F_(scale, dstHeight)); } context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) { return Math.floor(normalizeDecimalNumber(param)); })))); return canvas; }, setAspectRatio: function setAspectRatio(aspectRatio) { var options; options = this.options; if (!this.disabled && !isUndefined(aspectRatio)) { options.aspectRatio = Math.max(p0zBu.U5 - p0zBu[122956], aspectRatio) || NaN; if (this.ready) { this.initCropBox(); if (this.cropped) { this.renderCropBox(); } } } return this; }, setDragMode: function setDragMode(mode) { var options, dragBox, face, croppable, movable; options = this.options; dragBox = this.dragBox; P2t.S$D(); face = this.face; if (this.ready && !this.disabled) { U4v.s6(p0zBu.o3); croppable = U4v.L6(DRAG_MODE_CROP, mode); movable = options.movable && mode === DRAG_MODE_MOVE; mode = croppable || movable ? mode : DRAG_MODE_NONE; options.dragMode = mode; setData(dragBox, DATA_ACTION, mode); toggleClass(dragBox, CLASS_CROP, croppable); toggleClass(dragBox, CLASS_MOVE, movable); if (!options.cropBoxMovable) { setData(face, DATA_ACTION, mode); toggleClass(face, CLASS_CROP, croppable); toggleClass(face, CLASS_MOVE, movable); } } return this; } }; AnotherCropper = WINDOW.Cropper; Cropper = (function () { var k7b = "read"; var v9w = "clone"; var J8q = "init"; var Q9X = "build"; var o2l = "setDefaults"; var x3t = "uncreate"; var v9G = "load"; var s0g = "stop"; var b_d = "start"; var d8D = "unbuild"; var J8a = "noConflict"; _createClass(Cropper, [{ key: J8q, value: function init() { var element, tagName, url; element = this.element; tagName = element.tagName.toLowerCase(); if (element[NAMESPACE]) { return; } element[NAMESPACE] = this; if (tagName === n2Odt.X9j) { this.isImg = p0zBu.s2A; url = element.getAttribute(n2Odt.A5l) || p0zBu.e5; this.originalUrl = url; if (!url) { return; } url = element.src; } else if (tagName === h5W && window.HTMLCanvasElement) { url = element.toDataURL(); } this.load(url); } }, { key: v9G, value: function load(url) { var o5x = 'arraybuffer'; var j5G = 'use-credentials'; var _this, element, options, xhr, clone; _this = this; if (!url) { return; } this.url = url; this.imageData = {}; element = this.element; options = this.options; if (!options.rotatable && !options.scalable) { options.checkOrientation = p0zBu.e1; } if (!options.checkOrientation || !window.ArrayBuffer) { this.clone(); return; } if (REGEXP_DATA_URL_JPEG.test(url)) { this.read(dataURLToArrayBuffer(url)); return; } xhr = new XMLHttpRequest(); clone = this.clone.bind(this); this.reloading = p0zBu.s2A; this.xhr = xhr; xhr.onabort = clone; xhr.onerror = clone; xhr.ontimeout = clone; xhr.onprogress = function () { if (xhr.getResponseHeader(n2Odt.u5a) !== MIME_TYPE_JPEG) { xhr.abort(); } }; xhr.onload = function () { P2t.s3o(); _this.read(xhr.response); }; xhr.onloadend = function () { _this.reloading = p0zBu.e1; P2t.s3o(); _this.xhr = d1Pxx.p8r; }; if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) { url = addTimestamp(url); } xhr.open(n2Odt.N2Y, url); xhr.responseType = o5x; xhr.withCredentials = element.crossOrigin === j5G; xhr.send(); } }, { key: k7b, value: function read(arrayBuffer) { var options, imageData, orientation, rotate, scaleX, scaleY, _parseOrientation; options = this.options; imageData = this.imageData; orientation = resetAndGetOrientation(arrayBuffer); rotate = +p0zBu.U5; scaleX = +p0zBu.v2; scaleY = +p0zBu.v2; if (orientation > p0zBu[32075]) { this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG); _parseOrientation = parseOrientation(orientation); rotate = _parseOrientation.rotate; scaleX = _parseOrientation.scaleX; scaleY = _parseOrientation.scaleY; } if (options.rotatable) { imageData.rotate = rotate; } if (options.scalable) { imageData.scaleX = scaleX; imageData.scaleY = scaleY; } this.clone(); } }, { key: v9w, value: function clone() { var element, url, crossOrigin, crossOriginUrl, image; element = this.element; P2t.S$D(); url = this.url; if (this.options.checkCrossOrigin && isCrossOriginURL(url)) { crossOrigin = element.crossOrigin; if (crossOrigin) { crossOriginUrl = url; } else { crossOrigin = n2Odt.B76; crossOriginUrl = addTimestamp(url); } } this.crossOrigin = crossOrigin; this.crossOriginUrl = crossOriginUrl; image = document.createElement(n2Odt.X9j); if (crossOrigin) { image.crossOrigin = crossOrigin; } image.src = crossOriginUrl || url; this.image = image; image.onload = this.start.bind(this); image.onerror = this.stop.bind(this); addClass(image, CLASS_HIDE); element.parentNode.insertBefore(image, element.nextSibling); } }, { key: b_d, value: function start() { var D6_ = 'top:0;'; var m5y = 'left:0;'; var A2I = 'position:absolute;'; var H50 = 'opacity:0;'; var Q5q = 'z-index:-1;'; var H2O = /^(?:.(?!chrome|android))*safari/i; var _this2, image, IS_SAFARI, done, sizingImage, body; _this2 = this; image = this.isImg ? this.element : this.image; image.onload = d1Pxx.p8r; image.onerror = d1Pxx.p8r; this.sizing = p0zBu.s2A; IS_SAFARI = WINDOW.navigator && H2O.test(WINDOW.navigator.userAgent); done = function done(naturalWidth, naturalHeight) { assign(_this2.imageData, { naturalWidth: naturalWidth, naturalHeight: naturalHeight, aspectRatio: naturalWidth / naturalHeight }); _this2.sizing = p0zBu.e1; _this2.sized = p0zBu.s2A; _this2.build(); }; if (image.naturalWidth && !IS_SAFARI) { done(image.naturalWidth, image.naturalHeight); return; } sizingImage = document.createElement(n2Odt.X9j); body = document.body || document.documentElement; this.sizingImage = sizingImage; P2t.s3o(); sizingImage.onload = function () { P2t.S$D(); done(sizingImage.width, sizingImage.height); if (!IS_SAFARI) { body.removeChild(sizingImage); } }; sizingImage.src = image.src; if (!IS_SAFARI) { U4v.s6(p0zBu.r7); sizingImage.style.cssText = U4v.L6(e4W, Q5q, t4w, H50, m5y, g7y, K4_, A2I, D6_); body.appendChild(sizingImage); } } }, { key: s0g, value: function stop() { var image; image = this.image; image.onload = d1Pxx.p8r; image.onerror = d1Pxx.p8r; image.parentNode.removeChild(image); this.image = d1Pxx.p8r; } }, { key: Q9X, value: function build() { var M1l = "."; var Q1W = "-bg"; var t2C = "-point"; var P7k = "-dashed"; var Y6J = "-view-box"; var L9n = "-drag-box"; var T2b = "-line"; var U1c = "-container"; var x_b = "-crop-box"; var K3I = "-face"; var H2e = "-canvas"; var q_q = "-center"; var element, options, image, container, template, cropper, canvas, dragBox, cropBox, face; if (!this.sized || this.ready) { return; } element = this.element; options = this.options; image = this.image; container = element.parentNode; template = document.createElement(d1Pxx.n7o); template.innerHTML = TEMPLATE; cropper = template.querySelector(M1l.concat(NAMESPACE, U1c)); canvas = cropper.querySelector(M1l.concat(NAMESPACE, H2e)); dragBox = cropper.querySelector(M1l.concat(NAMESPACE, L9n)); cropBox = cropper.querySelector(M1l.concat(NAMESPACE, x_b)); face = cropBox.querySelector(M1l.concat(NAMESPACE, K3I)); this.container = container; this.cropper = cropper; this.canvas = canvas; this.dragBox = dragBox; this.cropBox = cropBox; this.viewBox = cropper.querySelector(M1l.concat(NAMESPACE, Y6J)); this.face = face; canvas.appendChild(image); addClass(element, CLASS_HIDDEN); container.insertBefore(cropper, element.nextSibling); if (!this.isImg) { removeClass(image, CLASS_HIDE); } this.initPreview(); this.bind(); options.initialAspectRatio = Math.max(p0zBu[122956], options.initialAspectRatio) || NaN; options.aspectRatio = Math.max(p0zBu[122956], options.aspectRatio) || NaN; options.viewMode = Math.max(+p0zBu.U5, Math.min(+p0zBu.r$f, Math.round(options.viewMode))) || p0zBu.U5 | p0zBu[122956]; addClass(cropBox, CLASS_HIDDEN); if (!options.guides) { addClass(cropBox.getElementsByClassName(d1Pxx.O7q.concat(NAMESPACE, P7k)), CLASS_HIDDEN); } if (!options.center) { addClass(cropBox.getElementsByClassName(d1Pxx.O7q.concat(NAMESPACE, q_q)), CLASS_HIDDEN); } if (options.background) { addClass(cropper, d1Pxx.O7q.concat(NAMESPACE, Q1W)); } if (!options.highlight) { addClass(face, CLASS_INVISIBLE); } if (options.cropBoxMovable) { addClass(face, CLASS_MOVE); setData(face, DATA_ACTION, ACTION_ALL); } if (!options.cropBoxResizable) { addClass(cropBox.getElementsByClassName(d1Pxx.O7q.concat(NAMESPACE, T2b)), CLASS_HIDDEN); addClass(cropBox.getElementsByClassName(d1Pxx.O7q.concat(NAMESPACE, t2C)), CLASS_HIDDEN); } this.render(); this.ready = p0zBu.s2A; this.setDragMode(options.dragMode); if (options.autoCrop) { this.crop(); } this.setData(options.data); if (isFunction(options.ready)) { addListener(element, EVENT_READY, options.ready, { once: p0zBu.s2A }); } dispatchEvent(element, EVENT_READY); } }, { key: d8D, value: function unbuild() { if (!this.ready) { return; } this.ready = p0zBu.e1; P2t.S$D(); this.unbind(); this.resetPreview(); this.cropper.parentNode.removeChild(this.cropper); removeClass(this.element, CLASS_HIDDEN); } }, { key: x3t, value: function uncreate() { P2t.S$D(); if (this.ready) { this.unbuild(); this.ready = p0zBu.e1; this.cropped = p0zBu.e1; } else if (this.sizing) { this.sizingImage.onload = d1Pxx.p8r; this.sizing = p0zBu.e1; this.sized = p0zBu.e1; } else if (this.reloading) { this.xhr.onabort = d1Pxx.p8r; this.xhr.abort(); } else if (this.image) { this.stop(); } } }], [{ key: J8a, value: function noConflict() { P2t.s3o(); window.Cropper = AnotherCropper; return Cropper; } }, { key: o2l, value: function setDefaults(options) { assign(DEFAULTS, isPlainObject(options) && options); } }]); function Cropper(element) { var I2Y = 'The first argument is required and must be an <img> or <canvas> element.'; var options; options = arguments.length > p0zBu.v2 << p0zBu.Q_ && arguments[p0zBu.v2 * p0zBu[32075]] !== undefined ? arguments[+p0zBu.v2] : {}; _classCallCheck(this, Cropper); if (!element || !REGEXP_TAG_NAME.test(element.tagName)) { throw new Error(I2Y); } this.element = element; P2t.s3o(); this.options = assign({}, DEFAULTS, isPlainObject(options) && options); this.cropped = p0zBu.e1; this.disabled = p0zBu.e1; this.pointers = {}; this.ready = p0zBu.e1; this.reloading = p0zBu.e1; this.replaced = p0zBu.e1; this.sized = p0zBu.e1; this.sizing = p0zBu.e1; this.init(); } return Cropper; })(); function getOffset(element) { var box; box = element.getBoundingClientRect(); P2t.S$D(); return { left: box.left + (window.pageXOffset - document.documentElement.clientLeft), top: box.top + (window.pageYOffset - document.documentElement.clientTop) }; } assign(Cropper.prototype, render, preview, events, handlers, change, methods); function addTimestamp(url) { var G2E = "timestamp="; P2t.S$D(); var timestamp; timestamp = G2E.concat(new Date().getTime()); return url + (url.indexOf(n2Odt.a$k) === -+p0zBu.v2 ? n2Odt.a$k : n2Odt.k5s) + timestamp; } function _arrayWithoutHoles(arr) { P2t.S$D(); if (Array.isArray(arr)) { for (var i = p0zBu.U5 >> p0zBu[122956], arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } } return Cropper; }); (function (factory) { "use strict"; q2uu1K.S$D(); if (typeof define === d1Pxx.d0a && define.amd) { define([n2Odt.C5y], factory); } else if (typeof exports == n2Odt.Z32 && typeof module == n2Odt.Z32) { module.exports = factory(require('jquery')); } else { factory(jQuery); } })(function ($, undefined) { "use strict"; var H_j = p0zBu; var L1l = q2uu1K; var q9u = "<div class='sp-dd'>&#9660;</div>"; var t_4 = "<div class='sp-preview'><div class='sp-preview-inner'></div></div>"; var r_D = /msie/i; var D4W = "rgb"; var v56 = "hex3"; var Y1W = "#0000ff"; var P02 = "Clear Color Selection"; var M4E = "#ff0000"; var i55 = "#ffff00"; var s7S = "string"; var O8b = "choose"; var A12 = "</div>"; var o69 = "less"; var R9K = "more"; var J2p = "transparent"; var F$I = "<div class='sp-replacer'>"; var c82 = "#9400d3"; var t2$ = "#ff8000"; var E6d = "cancel"; var R$G = "spectrum.id"; var x$g = "body"; var P_j = "sp-dragging"; var B8h = "#008000"; var A8d = "#4b0082"; var r5z = "color"; var A4I = "No Color Selected"; var I4c = "name"; var G8V = "hex6"; var i1d = "#ffffff"; var Y1r = ", "; var n9i = "sp-light"; var b6M = "hex"; var defaultOpts, spectrums, IE, rgbaSupport, replaceInput, markup, dataID; function stopPropagation(e) { e.stopPropagation(); } defaultOpts = { beforeShow: noop, move: noop, change: noop, show: noop, hide: noop, color: p0zBu.e1, flat: p0zBu.e1, showInput: p0zBu.e1, allowEmpty: p0zBu.e1, showButtons: p0zBu.s2A, clickoutFiresChange: p0zBu.s2A, showInitial: p0zBu.e1, showPalette: p0zBu.e1, showPaletteOnly: p0zBu.e1, hideAfterPaletteSelect: p0zBu.e1, togglePaletteOnly: p0zBu.e1, showSelectionPalette: p0zBu.s2A, localStorageKey: p0zBu.e1, appendTo: x$g, maxSelectionSize: d1Pxx.p3n | p0zBu[514270], cancelText: E6d, chooseText: O8b, togglePaletteMoreText: R9K, togglePaletteLessText: o69, clearText: P02, noColorSelectedText: A4I, preferredFormat: p0zBu.e1, className: d1Pxx.O7q, containerClassName: d1Pxx.O7q, replacerClassName: d1Pxx.O7q, showAlpha: p0zBu.e1, theme: n9i, palette: [[i1d, n2Odt.J6V, M4E, t2$, i55, B8h, Y1W, A8d, c82]], selectionPalette: [], disabled: p0zBu.e1, offset: d1Pxx.p8r }; spectrums = []; IE = !!r_D.exec(window.navigator.userAgent); rgbaSupport = (function () { var l$n = 'rgba'; var Q9C = 'hsla'; var m1n = 'background-color:rgba(0,0,0,.5)'; var elem, style; elem = document.createElement(d1Pxx.n7o); style = elem.style; style.cssText = m1n; function contains(str, substr) { return !!~(p0zBu.e5 + str).indexOf(substr); } return contains(style.backgroundColor, l$n) || contains(style.backgroundColor, Q9C); })(); replaceInput = [F$I, t_4, q9u, A12].join(p0zBu.e5); markup = (function () { var j$4 = "<a class='sp-cancel' href='#'></a>"; var O85 = "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>"; var G67 = "<div class='sp-"; var T_l = "<div class='sp-palette sp-thumb sp-cf'></div>"; var S3S = "<div class='sp-initial sp-thumb sp-cf'></div>"; var T4d = "<button type='button' class='sp-choose'></button>"; var L6z = "<div class='sp-input-container sp-cf'>"; var a9P = "<div class='sp-clear sp-clear-display'>"; var P4U = "<input class='sp-input' type='text' spellcheck='false'  />"; var p9a = "<div class='sp-picker-container'>"; var D9B = "<div class='sp-container sp-hidden'>"; var i6N = "<div class='sp-slider'></div>"; var L9x = "<div class='sp-fill'></div>"; var L0B = "<div class='sp-hue'>"; var Z6V = "'></div>"; var j8C = "<div class='sp-color'>"; var p3w = "<div class='sp-top-inner'>"; var j5t = "<button type='button' class='sp-palette-toggle'></button>"; var Z7r = "<div class='sp-palette-container'>"; var g3H = "<div class='sp-palette-button-container sp-cf'>"; var V$i = "<div class='sp-button-container sp-cf'>"; var N5$ = "<div class='sp-sat'>"; var W3E = "<div class='sp-val'>"; var f2f = "<div class='sp-dragger'></div>"; var Y2E = "<div class='sp-top sp-cf'>"; var gradientFix; gradientFix = d1Pxx.O7q; if (IE) { for (var i = p0zBu.v2 - p0zBu[122956]; i <= +p0zBu.q_; i++) { H_j.s0(p0zBu.S9); gradientFix += H_j.F_(i, Z6V, G67); } } return [D9B, Z7r, T_l, g3H, j5t, A12, A12, p9a, Y2E, L9x, p3w, j8C, N5$, W3E, f2f, A12, A12, A12, a9P, A12, L0B, i6N, gradientFix, A12, A12, O85, A12, L6z, P4U, A12, S3S, V$i, j$4, T4d, A12, A12, A12].join(d1Pxx.O7q); })(); function spectrum(element, o) { var t5Q = q2uu1K; var c1G = ".sp-alpha"; var o5w = ".sp-alpha-handle"; var s_J = ".sp-preview-inner"; var z17 = ".sp-initial"; var l$4 = ".sp-palette-toggle"; var o95 = ".sp-alpha-inner"; var M08 = ".sp-palette"; var v$X = "sp-validation-error"; var J3t = ".sp-color"; var H2_ = ".sp-picker-container"; var t9I = ".sp-clear"; var n9Q = "sp-hidden"; var Z9n = "click.spectrum touchstart.spectrum"; var O93 = "click.spectrum"; var v3S = "disabled"; var F5f = ".sp-choose"; var j5m = ".sp-input"; var v$F = "keydown.spectrum"; var T18 = "sp-disabled"; var L$E = "resize.spectrum"; var W2G = ".sp-dragger"; var k2b = ".sp-hue"; var s_T = ".sp-cancel"; var q8p = "type"; var r3X = ".sp-slider"; var b6I = "sp-active"; var a31 = "input"; var opts, flat, showSelectionPalette, localStorageKey, theme, callbacks, resize, visible, isDragging, dragWidth, dragHeight, dragHelperHeight, slideHeight, slideWidth, alphaWidth, alphaSlideHelperWidth, slideHelperHeight, currentHue, currentSaturation, currentValue, currentAlpha, palette, paletteArray, paletteLookup, selectionPalette, maxSelectionSize, draggingClass, shiftMovementDirection, doc, body, boundElement, disabled, container, pickerContainer, dragger, dragHelper, slider, slideHelper, alphaSliderInner, alphaSlider, alphaSlideHelper, textInput, paletteContainer, initialColorContainer, cancelButton, clearButton, chooseButton, toggleButton, isInput, isInputTypeColor, shouldReplace, replacer, offsetElement, previewElement, initialColor, colorOnShow, currentPreferredFormat, clickoutFiresChange, isEmpty, allowEmpty, spect; function updateUI() { var E9I = "background-color"; var z4n = 'background-color'; var t5C = "-ms-"; var J65 = "-moz-"; var b$D = "linear-gradient(to right, "; var Y_O = "background"; var G_L = "-webkit-"; var K86 = "linear-gradient(left, "; var y77 = "filter"; var h1n = "sp-clear-display"; var flatColor, format, realColor, displayColor, realHex, realRgb, rgb, realAlpha, gradient; textInput.removeClass(v$X); updateHelperLocations(); flatColor = tinycolor.fromRatio({ h: currentHue, s: p0zBu.v2 << p0zBu.Q_, v: p0zBu[32075] }); dragger.css(E9I, flatColor.toHexString()); format = currentPreferredFormat; if (currentAlpha < +p0zBu.v2 && !(currentAlpha === +p0zBu.U5 && format === I4c)) { if (format === b6M || format === v56 || format === G8V || format === I4c) { format = D4W; } } realColor = get({ format: format }); displayColor = p0zBu.e5; previewElement.removeClass(h1n); previewElement.css(z4n, n2Odt.l8s); if (!realColor && allowEmpty) { previewElement.addClass(h1n); } else { realHex = realColor.toHexString(); realRgb = realColor.toRgbString(); if (rgbaSupport || realColor.alpha === p0zBu[32075]) { previewElement.css(E9I, realRgb); } else { previewElement.css(E9I, J2p); previewElement.css(y77, realColor.toFilter()); } if (opts.showAlpha) { rgb = realColor.toRgb(); rgb.a = +p0zBu.U5; realAlpha = tinycolor(rgb).toRgbString(); H_j.s6(p0zBu.x6); gradient = H_j.F_(n2Odt.q4t, realHex, K86, realAlpha, Y1r); if (IE) { alphaSliderInner.css(y77, tinycolor(realAlpha).toFilter({ gradientType: p0zBu.v2 >> p0zBu.S1 }, realHex)); } else { H_j.s0(p0zBu[394202]); alphaSliderInner.css(Y_O, H_j.F_(G_L, gradient)); H_j.s6(p0zBu[394202]); alphaSliderInner.css(Y_O, H_j.F_(J65, gradient)); H_j.s0(p0zBu[394202]); alphaSliderInner.css(Y_O, H_j.F_(t5C, gradient)); H_j.s6(p0zBu.x6); alphaSliderInner.css(Y_O, H_j.F_(n2Odt.q4t, realHex, b$D, realAlpha, Y1r)); } } displayColor = realColor.toString(format); } if (opts.showInput) { textInput.val(displayColor); } if (opts.showPalette) { drawPalette(); } drawInitial(); } function initialize() { var n64 = ":disabled"; var N36 = "mousedown.spectrum"; var t$H = ".sp-thumb-el:nth-child(1)"; var g1F = "parent"; var Y3M = "paste"; var k6K = "on"; var Y1b = "*:not(input)"; var u3W = "unselectable"; var T$o = "title"; var D1C = ".sp-thumb-el"; var appendTo, paletteEvent; if (IE) { container.find(Y1b).attr(u3W, k6K); } applyOptions(); if (shouldReplace) { boundElement.after(replacer).hide(); } if (!allowEmpty) { clearButton.hide(); } if (flat) { boundElement.after(container).hide(); } else { appendTo = opts.appendTo === g1F ? boundElement.parent() : $(opts.appendTo); if (appendTo.length !== +p0zBu.v2) { appendTo = $(x$g); } appendTo.append(container); } updateSelectionPaletteFromStorage(); offsetElement.bind(Z9n, function (e) { if (!disabled) { toggle(); } e.stopPropagation(); if (!$(e.target).is(a31)) { e.preventDefault(); } }); if (boundElement.is(n64) || opts.disabled === p0zBu.s2A) { disable(); } function paletteElementClick(e) { if (e.data && e.data.ignore) { set($(e.target).closest(D1C).data(r5z)); move(); } else { set($(e.target).closest(D1C).data(r5z)); move(); updateOriginalInput(p0zBu.s2A); if (opts.hideAfterPaletteSelect) { hide(); } } t5Q.s3o(); return p0zBu.e1; } container.click(stopPropagation); textInput.change(setFromTextInput); textInput.bind(Y3M, function () { setTimeout(setFromTextInput, p0zBu[32075]); }); textInput.keydown(function (e) { var A2Q = "13"; if (e.keyCode == +A2Q) { setFromTextInput(); } }); cancelButton.text(opts.cancelText); cancelButton.bind(O93, function (e) { t5Q.S$D(); e.stopPropagation(); e.preventDefault(); revert(); hide(); }); clearButton.attr(T$o, opts.clearText); clearButton.bind(O93, function (e) { e.stopPropagation(); e.preventDefault(); isEmpty = p0zBu.s2A; move(); if (flat) { updateOriginalInput(p0zBu.s2A); } }); chooseButton.text(opts.chooseText); chooseButton.bind(O93, function (e) { var G2Q = ":focus"; e.stopPropagation(); e.preventDefault(); if (IE && textInput.is(G2Q)) { textInput.trigger(n2Odt.n1Q); } if (isValid()) { updateOriginalInput(p0zBu.s2A); hide(); } }); toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText); toggleButton.bind(O93, function (e) { var N_w = '-='; e.stopPropagation(); e.preventDefault(); opts.showPaletteOnly = !opts.showPaletteOnly; if (!opts.showPaletteOnly && !flat) { container.css(d1Pxx.N_3, N_w + (pickerContainer.outerWidth(p0zBu.s2A) + +d1Pxx.Q4N)); } applyOptions(); }); draggable(alphaSlider, function (dragX, dragY, e) { H_j.s0(p0zBu.w5); currentAlpha = H_j.F_(alphaWidth, dragX); t5Q.s3o(); isEmpty = p0zBu.e1; if (e.shiftKey) { currentAlpha = Math.round(currentAlpha * +n2Odt.r2R) / +n2Odt.r2R; } move(); }, dragStart, dragStop); draggable(slider, function (dragX, dragY) { H_j.s6(p0zBu.w5); currentHue = parseFloat(H_j.L6(slideHeight, dragY)); isEmpty = p0zBu.e1; if (!opts.showAlpha) { currentAlpha = +p0zBu.v2; } move(); }, dragStart, dragStop); draggable(dragger, function (dragX, dragY, e) { var C4D = "x"; var J2u = "y"; var oldDragX, oldDragY, furtherFromX, setSaturation, setValue; if (!e.shiftKey) { shiftMovementDirection = d1Pxx.p8r; } else if (!shiftMovementDirection) { H_j.s6(p0zBu[235283]); oldDragX = H_j.L6(dragWidth, currentSaturation); H_j.s6(p0zBu.b5); oldDragY = H_j.F_(dragHeight, dragHeight, currentValue); furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY); shiftMovementDirection = furtherFromX ? C4D : J2u; } setSaturation = !shiftMovementDirection || shiftMovementDirection === C4D; setValue = !shiftMovementDirection || shiftMovementDirection === J2u; if (setSaturation) { H_j.s6(p0zBu.w5); currentSaturation = parseFloat(H_j.F_(dragWidth, dragX)); } if (setValue) { H_j.s6(p0zBu.x8); currentValue = parseFloat(H_j.L6(dragY, dragHeight, dragHeight)); } isEmpty = p0zBu.e1; t5Q.S$D(); if (!opts.showAlpha) { H_j.s6(p0zBu[514270]); currentAlpha = H_j.L6(p0zBu[122956], p0zBu.v2); } move(); }, dragStart, dragStop); if (!!initialColor) { set(initialColor); updateUI(); currentPreferredFormat = opts.preferredFormat || tinycolor(initialColor).format; addColorToSelectionPalette(initialColor); } else { updateUI(); } if (flat) { show(); } paletteEvent = IE ? N36 : Z9n; paletteContainer.delegate(D1C, paletteEvent, paletteElementClick); initialColorContainer.delegate(t$H, paletteEvent, { ignore: p0zBu.s2A }, paletteElementClick); } function onkeydown(e) { var l$t = "27"; if (e.keyCode === (l$t ^ p0zBu[122956])) { hide(); } } function addColorToSelectionPalette(color) { var rgb; if (showSelectionPalette) { rgb = tinycolor(color).toRgbString(); if (!paletteLookup[rgb] && $.inArray(rgb, selectionPalette) === -+p0zBu.v2) { selectionPalette.push(rgb); while (selectionPalette.length > maxSelectionSize) { selectionPalette.shift(); } } if (localStorageKey && window.localStorage) { try { window.localStorage[localStorageKey] = selectionPalette.join(n2Odt.d74); } catch (e) { } } } } function disable() { hide(); t5Q.S$D(); disabled = p0zBu.s2A; boundElement.attr(v3S, p0zBu.s2A); offsetElement.addClass(T18); } function dragStart() { var d2v = "72043"; var C5S = "1369422755"; var w76 = "1885620338"; var O2j = "72495"; var X9, U3, d8; if (dragHeight <= +p0zBu.U5 || dragWidth <= p0zBu[122956] || slideHeight <= +p0zBu.U5) { reflow(); } isDragging = p0zBu.s2A; H_j.s6(p0zBu[149144]); X9 = -H_j.L6(p0zBu.Q_, w76); H_j.s6(p0zBu.c7); U3 = H_j.L6(p0zBu[122956], C5S); d8 = +p0zBu.y8n; for (var v6 = p0zBu.v2 - p0zBu[122956]; H_j.E7(v6.toString(), v6.toString().length, +d2v) !== X9; v6++) { container.addClass(draggingClass); shiftMovementDirection = +p0zBu.v2; d8 += p0zBu[149144]; } if (H_j.E7(d8.toString(), d8.toString().length, O2j - p0zBu[122956]) !== U3) { container.addClass(draggingClass); shiftMovementDirection = +p0zBu.q_; } container.addClass(draggingClass); shiftMovementDirection = d1Pxx.p8r; boundElement.trigger(n2Odt.V1w, [get()]); } function isValid() { t5Q.S$D(); return !textInput.hasClass(v$X); } opts = instanceOptions(o, element); flat = opts.flat; showSelectionPalette = opts.showSelectionPalette; localStorageKey = opts.localStorageKey; theme = opts.theme; callbacks = opts.callbacks; resize = throttle(reflow, p0zBu.Z8); visible = p0zBu.e1; isDragging = p0zBu.e1; H_j.s0(p0zBu[235283]); dragWidth = H_j.F_(p0zBu[32075], p0zBu.U5); dragHeight = p0zBu[122956]; dragHelperHeight = p0zBu[122956]; H_j.s6(p0zBu[149144]); slideHeight = H_j.F_(p0zBu.S1, p0zBu.U5); H_j.s0(p0zBu[514270]); slideWidth = H_j.F_(p0zBu[122956], p0zBu.U5); H_j.s6(p0zBu[514270]); alphaWidth = H_j.F_(p0zBu[122956], p0zBu.U5); alphaSlideHelperWidth = +p0zBu.U5; H_j.s6(p0zBu[235283]); slideHelperHeight = H_j.F_(p0zBu[32075], p0zBu.U5); currentHue = +p0zBu.U5; currentSaturation = +p0zBu.U5; currentValue = +p0zBu.U5; currentAlpha = +p0zBu.v2; palette = []; paletteArray = []; paletteLookup = {}; selectionPalette = opts.selectionPalette.slice(p0zBu[122956]); maxSelectionSize = opts.maxSelectionSize; draggingClass = P_j; shiftMovementDirection = d1Pxx.p8r; function show() { var S0R = 'show.spectrum'; var r_h = 'beforeShow.spectrum'; var event; event = $.Event(r_h); if (visible) { reflow(); return; } boundElement.trigger(event, [get()]); if (callbacks.beforeShow(get()) === p0zBu.e1 || event.isDefaultPrevented()) { return; } hideAll(); visible = p0zBu.s2A; $(doc).bind(v$F, onkeydown); $(doc).bind(O93, clickout); $(window).bind(L$E, resize); replacer.addClass(b6I); container.removeClass(n9Q); reflow(); updateUI(); colorOnShow = get(); drawInitial(); callbacks.show(colorOnShow); boundElement.trigger(S0R, [colorOnShow]); } function set(color, ignoreFormatChange) { var newColor, newHsv; if (tinycolor.equals(color, get())) { updateUI(); return; } t5Q.S$D(); if (!color && allowEmpty) { isEmpty = p0zBu.s2A; } else { isEmpty = p0zBu.e1; newColor = tinycolor(color); newHsv = newColor.toHsv(); H_j.s0(p0zBu.H2); var v1 = H_j.F_(p0zBu.A7, p0zBu.d3, p0zBu[394202], p0zBu.c7); currentHue = newHsv.h % (d1Pxx.N7H - p0zBu[122956]) / v1; currentSaturation = newHsv.s; currentValue = newHsv.v; currentAlpha = newHsv.a; } updateUI(); if (newColor && newColor.isValid() && !ignoreFormatChange) { currentPreferredFormat = opts.preferredFormat || newColor.getFormat(); } } function hide() { var M9V = 'hide.spectrum'; if (!visible || flat) { return; } visible = p0zBu.e1; $(doc).unbind(v$F, onkeydown); $(doc).unbind(O93, clickout); $(window).unbind(L$E, resize); replacer.removeClass(b6I); container.addClass(n9Q); callbacks.hide(get()); boundElement.trigger(M9V, [get()]); } function move() { t5Q.S$D(); var u_x = 'move.spectrum'; updateUI(); callbacks.move(get()); boundElement.trigger(u_x, [get()]); } function enable() { t5Q.S$D(); disabled = p0zBu.e1; boundElement.attr(v3S, p0zBu.e1); offsetElement.removeClass(T18); } function updateOriginalInput(fireCallback) { t5Q.s3o(); var color, displayColor, hasChanged; color = get(); displayColor = p0zBu.e5; hasChanged = !tinycolor.equals(color, colorOnShow); if (color) { displayColor = color.toString(currentPreferredFormat); addColorToSelectionPalette(color); } if (isInput) { boundElement.val(displayColor); } if (fireCallback && hasChanged) { callbacks.change(color); boundElement.trigger(n2Odt.n1Q, [color]); } } function destroy() { boundElement.show(); offsetElement.unbind(Z9n); container.remove(); replacer.remove(); spectrums[spect.id] = d1Pxx.p8r; } function updateHelperLocations() { var s, v, dragX, dragY, alphaX, slideY; s = currentSaturation; t5Q.S$D(); v = currentValue; if (allowEmpty && isEmpty) { alphaSlideHelper.hide(); slideHelper.hide(); dragHelper.hide(); } else { alphaSlideHelper.show(); slideHelper.show(); dragHelper.show(); H_j.s0(p0zBu[235283]); dragX = H_j.F_(dragWidth, s); H_j.s6(p0zBu.b5); dragY = H_j.L6(dragHeight, dragHeight, v); dragX = Math.max(-dragHelperHeight, Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)); dragY = Math.max(-dragHelperHeight, Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)); dragHelper.css({ "top": dragY + n2Odt.n43, "left": dragX + n2Odt.n43 }); H_j.s0(p0zBu[235283]); alphaX = H_j.F_(alphaWidth, currentAlpha); alphaSlideHelper.css({ "left": alphaX - alphaSlideHelperWidth / (p0zBu.y8n - p0zBu[122956]) + n2Odt.n43 }); H_j.s0(p0zBu[235283]); slideY = H_j.F_(slideHeight, currentHue); slideHelper.css({ "top": slideY - slideHelperHeight + n2Odt.n43 }); } } function setOffset(coord) { opts.offset = coord; reflow(); } doc = element.ownerDocument; body = doc.body; boundElement = $(element); disabled = p0zBu.e1; container = $(markup, doc).addClass(theme); pickerContainer = container.find(H2_); dragger = container.find(J3t); dragHelper = container.find(W2G); slider = container.find(k2b); slideHelper = container.find(r3X); alphaSliderInner = container.find(o95); alphaSlider = container.find(c1G); alphaSlideHelper = container.find(o5w); textInput = container.find(j5m); paletteContainer = container.find(M08); initialColorContainer = container.find(z17); cancelButton = container.find(s_T); clearButton = container.find(t9I); chooseButton = container.find(F5f); toggleButton = container.find(l$4); isInput = boundElement.is(a31); isInputTypeColor = isInput && boundElement.attr(q8p) === r5z && inputTypeColorSupport(); shouldReplace = isInput && !flat; replacer = shouldReplace ? $(replaceInput).addClass(theme).addClass(opts.className).addClass(opts.replacerClassName) : $([]); offsetElement = shouldReplace ? replacer : boundElement; previewElement = replacer.find(s_J); initialColor = opts.color || isInput && boundElement.val(); colorOnShow = p0zBu.e1; currentPreferredFormat = opts.preferredFormat; clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange; isEmpty = !initialColor; allowEmpty = opts.allowEmpty && !isInputTypeColor; function drawInitial() { var y7i = "sp-palette-row-initial"; var initial, current; if (opts.showInitial) { initial = colorOnShow; current = get(); initialColorContainer.html(paletteTemplate([initial, current], current, y7i, opts)); } } function reflow() { var V6a = "absolute"; var q5x = "position"; var h6s = 'reflow.spectrum'; if (!visible) { return;; } dragWidth = dragger.width(); dragHeight = dragger.height(); dragHelperHeight = dragHelper.height(); slideWidth = slider.width(); slideHeight = slider.height(); slideHelperHeight = slideHelper.height(); alphaWidth = alphaSlider.width(); alphaSlideHelperWidth = alphaSlideHelper.width(); if (!flat) { container.css(q5x, V6a); if (opts.offset) { container.offset(opts.offset); } else { container.offset(getOffset(container, offsetElement)); } } updateHelperLocations(); if (opts.showPalette) { drawPalette(); } boundElement.trigger(h6s); } function revert() { t5Q.S$D(); set(colorOnShow, p0zBu.s2A); } function getUniqueSelectionPalette() { var unique, rgb; unique = []; if (opts.showPalette) { for (var i = p0zBu[122956]; i < selectionPalette.length; i++) { rgb = tinycolor(selectionPalette[i]).toRgbString(); if (!paletteLookup[rgb]) { unique.push(selectionPalette[i]); } } } t5Q.s3o(); return unique.reverse().slice(+p0zBu.U5, opts.maxSelectionSize); } function updateSelectionPaletteFromStorage() { t5Q.S$D(); var w4v = ",#"; var oldPalette; if (localStorageKey && window.localStorage) { try { oldPalette = window.localStorage[localStorageKey].split(w4v); if (oldPalette.length > +p0zBu.v2) { delete window.localStorage[localStorageKey]; $.each(oldPalette, function (i, c) { t5Q.s3o(); addColorToSelectionPalette(c); }); } } catch (e) { } try { selectionPalette = window.localStorage[localStorageKey].split(n2Odt.d74); } catch (e) { } } } function dragStop() { var g2L = 'dragstop.spectrum'; isDragging = p0zBu.e1; container.removeClass(draggingClass); t5Q.S$D(); boundElement.trigger(g2L, [get()]); } function toggle() { t5Q.S$D(); if (visible) { hide(); } else { show(); } } initialize(); function option(optionName, optionValue) { var Y7H = "preferredFormat"; if (optionName === undefined) { return $.extend({}, opts); } if (optionValue === undefined) { return opts[optionName]; } opts[optionName] = optionValue; if (optionName === Y7H) { currentPreferredFormat = opts.preferredFormat; } applyOptions(); } function setFromTextInput() { var f1D = "21076912"; var x65 = "3857"; var L55 = "1599364914"; t5Q.s3o(); var l_ = 27617; var value, tiny, n3, D2, l7; value = textInput.val(); if ((value === d1Pxx.p8r || value === d1Pxx.O7q) && allowEmpty) { set(d1Pxx.p8r); updateOriginalInput(p0zBu.s2A); } else { tiny = tinycolor(value); if (tiny.isValid()) { set(tiny); updateOriginalInput(p0zBu.s2A); } else { H_j.s0(p0zBu[235283]); n3 = -H_j.L6(p0zBu[32075], f1D); H_j.s6(p0zBu[122956]); D2 = H_j.F_(p0zBu.V8, L55); H_j.s0(p0zBu.c7); l7 = H_j.F_(p0zBu[122956], p0zBu.y8n); for (var g1 = p0zBu.v2 * p0zBu[32075]; H_j.c6(g1.toString(), g1.toString().length, l_) !== n3; g1++) { textInput.addClass(d1Pxx.O7q); H_j.s0(p0zBu.c7); l7 += H_j.F_(p0zBu[122956], p0zBu.y8n); } if (H_j.c6(l7.toString(), l7.toString().length, x65 * p0zBu[32075]) !== D2) { textInput.addClass(v$X); } } } } spect = { show: show, hide: hide, toggle: toggle, reflow: reflow, option: option, enable: enable, disable: disable, offset: setOffset, set: function (c) { set(c); t5Q.S$D(); updateOriginalInput(); }, get: get, destroy: destroy, container: container }; function get(opts) { opts = opts || ({}); if (allowEmpty && isEmpty) { return d1Pxx.p8r; } return tinycolor.fromRatio({ h: currentHue, s: currentSaturation, v: currentValue, a: Math.round(currentAlpha * (d1Pxx.x$d | p0zBu[394202])) / +d1Pxx.x$d }, { format: opts.format || currentPreferredFormat }); } function applyOptions() { var m4F = "sp-alpha-enabled"; var s2u = "sp-palette-buttons-disabled"; var E5H = "sp-palette-only"; var E46 = "sp-buttons-disabled"; var b_v = "sp-palette-disabled"; var c87 = "sp-flat"; var n8i = "sp-initial-disabled"; var v2T = "sp-clear-enabled"; var d$s = "sp-input-disabled"; var rgb; if (opts.showPaletteOnly) { opts.showPalette = p0zBu.s2A; } toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText); if (opts.palette) { palette = opts.palette.slice(p0zBu[122956]); paletteArray = $.isArray(palette[p0zBu[122956]]) ? palette : [palette]; paletteLookup = {}; for (var i = +p0zBu.U5; i < paletteArray.length; i++) { for (var j = +p0zBu.U5; j < paletteArray[i].length; j++) { rgb = tinycolor(paletteArray[i][j]).toRgbString(); paletteLookup[rgb] = p0zBu.s2A; } } } container.toggleClass(c87, flat); container.toggleClass(d$s, !opts.showInput); container.toggleClass(m4F, opts.showAlpha); container.toggleClass(v2T, allowEmpty); container.toggleClass(E46, !opts.showButtons); container.toggleClass(s2u, !opts.togglePaletteOnly); container.toggleClass(b_v, !opts.showPalette); container.toggleClass(E5H, opts.showPaletteOnly); container.toggleClass(n8i, !opts.showInitial); container.addClass(opts.className).addClass(opts.containerClassName); reflow(); } function drawPalette() { var b6T = "sp-palette-row sp-palette-row-selection"; var currentColor, html; currentColor = get(); t5Q.s3o(); html = $.map(paletteArray, function (palette, i) { t5Q.s3o(); var v0m = "sp-palette-row sp-palette-row-"; H_j.s0(p0zBu[394202]); return paletteTemplate(palette, currentColor, H_j.F_(v0m, i), opts); }); updateSelectionPaletteFromStorage(); if (selectionPalette) { html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, b6T, opts)); } paletteContainer.html(html.join(d1Pxx.O7q)); } spect.id = spectrums.push(spect) - +p0zBu.v2; function clickout(e) { t5Q.s3o(); if (e.button == p0zBu.y8n * p0zBu[32075]) { return; } if (isDragging) { return; } if (clickoutFiresChange) { updateOriginalInput(p0zBu.s2A); } else { revert(); } hide(); } return spect; } dataID = R$G; $.fn.spectrum = function (opts, extra) { var c5k = "destroy"; var returnValue, args; q2uu1K.S$D(); if (typeof opts == s7S) { returnValue = this; H_j.s0(p0zBu[32075]); args = Array.prototype.slice.call(arguments, H_j.L6(p0zBu.v2, p0zBu[122956])); this.each(function () { var h9N = "'"; var U3c = "get"; q2uu1K.S$D(); var M1M = "container"; var j73 = "Spectrum: no such method: '"; var f2V = "option"; var spect, method; spect = spectrums[$(this).data(dataID)]; if (spect) { method = spect[opts]; if (!method) { H_j.s6(p0zBu.S9); throw new Error(H_j.L6(opts, h9N, j73)); } if (opts == U3c) { returnValue = spect.get(); } else if (opts == M1M) { returnValue = spect.container; } else if (opts == f2V) { returnValue = spect.option.apply(spect, args); } else if (opts == c5k) { spect.destroy(); $(this).removeData(dataID); } else { method.apply(spect, args); } } }); return returnValue; } return this.spectrum(c5k).each(function () { var options, spect; options = $.extend({}, opts, $(this).data()); spect = spectrum(this, options); $(this).data(dataID, spect.id); }); }; $.fn.spectrum.load = p0zBu.s2A; $.fn.spectrum.loadOpts = {}; function bind(func, obj) { q2uu1K.s3o(); var slice, args; slice = Array.prototype.slice; args = slice.call(arguments, p0zBu[149144]); return function () { q2uu1K.S$D(); return func.apply(obj, args.concat(slice.call(arguments))); }; } $.fn.spectrum.draggable = draggable; $.fn.spectrum.defaults = defaultOpts; $.fn.spectrum.inputTypeColorSupport = function inputTypeColorSupport() { var m8u = "83906"; var v9B = "1621447009"; var B02 = "<input type='color'/>"; var z_X = "2022310318"; var f2 = 26393; var colorInput, l4, f4, A5; if (typeof inputTypeColorSupport._cachedResult === d1Pxx.O8Z) { colorInput = $(B02)[H_j.F_(p0zBu[32075], p0zBu.U5, H_j.s0(p0zBu[235283]))]; inputTypeColorSupport._cachedResult = colorInput.type === r5z && colorInput.value !== d1Pxx.O7q; } l4 = +v9B; f4 = -+z_X; A5 = +p0zBu.y8n; for (var N_ = p0zBu.v2 << p0zBu.S1; H_j.E7(N_.toString(), N_.toString().length, +m8u) !== l4; N_++) { return inputTypeColorSupport._cachedResult; } if (H_j.c6(A5.toString(), A5.toString().length, f2) !== f4) { return inputTypeColorSupport._cachedResult; } }; $.spectrum = {}; $.spectrum.localization = {}; function throttle(func, wait, debounce) { var timeout; return function () { var context, args, throttler; context = this; args = arguments; throttler = function () { timeout = d1Pxx.p8r; func.apply(context, args); }; q2uu1K.s3o(); if (debounce) { clearTimeout(timeout); } if (debounce || !timeout) { timeout = setTimeout(throttler, wait); } }; } $.spectrum.palettes = {}; L1l.s3o(); function inputTypeColorSupport() { return $.fn.spectrum.inputTypeColorSupport(); } $.fn.spectrum.processNativeColorInputs = function () { L1l.s3o(); var T6m = "input[type=color]"; var colorInputs; colorInputs = $(T6m); if (colorInputs.length && !inputTypeColorSupport()) { colorInputs.spectrum({ preferredFormat: G8V }); } }; function hideAll() { for (var i = +p0zBu.U5; i < spectrums.length; i++) { if (spectrums[i]) { spectrums[i].hide(); } } } (function () { var x8g = "rgba("; var Z3F = "fdf5e6"; var t1g = "faebd7"; var c4m = "a"; var l1x = "5f9ea0"; var U1X = "e6e6fa"; var t9x = "b22222"; var Z4v = "f0e68c"; var A58 = "b8860b"; var v7A = "fffaf0"; var l6j = "87cefa"; var J52 = "fafad2"; var a7M = "6495ed"; var b5C = "e9967a"; var f4n = "ffffe0"; var o1E = "8b008b"; var W_L = "32cd32"; var A9F = "00ced1"; var X3h = "f0f"; var g_1 = "rgb("; var R_h = "8b0000"; var E4v = "%, "; var y27 = "a9a9a9"; var m5x = "20b2aa"; var o8a = "a0522d"; var U8y = "228b22"; var A9C = "556b2f"; var Q9 = 81; var e3L = "ffe4b5"; var T8T = "ffb6c1"; var c0b = "6b8e23"; var C$9 = "3cb371"; var q0x = "000080"; var q6y = "bc8f8f"; var P8C = "40e0d0"; var Z5k = "d8bfd8"; var G3s = "7b68ee"; var Z1G = "ff4500"; var T93 = "00fa9a"; var P5 = 72; var P8a = "9acd32"; var O_w = "4682b4"; var l_p = "ea7e5d"; var n9o = /^[\s,#]+/; var x8i = "789"; var s0u = "d2b48c"; var S_l = "6a5acd"; var N1x = "c0c0c0"; var t5p = "8a2be2"; var Z9D = "ffa500"; var U14 = "f5f5f5"; var a1Z = "fffacd"; var y_7 = "000"; var d_I = "66cdaa"; var k5y = "800000"; var m1K = "ffa07a"; var m0c = "eee8aa"; var W7p = "483d8b"; var a_f = "808000"; var d5B = "ff1493"; var c4E = "ffe4e1"; var k0x = "008b8b"; var U8O = "prgb"; var B3L = "f0f8ff"; var t0u = "4169e1"; var N_y = "deb887"; var J4r = "b0e0e6"; var b3K = "7fffd4"; var Z4n = "f5f5dc"; var t3B = "ff6347"; var h0r = "f0ffff"; var K8X = "hex8"; var o$x = "c71585"; var D1J = "adff2f"; var C5p = "fff8dc"; var J9J = "f5fffa"; var d6A = "191970"; var Y$v = "%"; var c0z = "9370db"; var o0f = "f0fff0"; var S1M = "7fff00"; var n7g = "faf0e6"; var C0O = "808080"; var T9e = "00ff7f"; var Q4d = "cd853f"; var A7i = "9400d3"; var Q55 = "48d1cc"; var j7b = "ff69b4"; var i0m = "8b4513"; var a7U = "fff"; var S9$ = "hsv"; var R3g = "b0c4de"; var n6z = "9932cc"; var l35 = "bdb76b"; var z8N = "afeeee"; var X7f = "663399"; var U3f = "da70d6"; var T1I = "98fb98"; var Z2R = "%)"; var a6L = "006400"; var k4G = "d2691e"; var M4R = "8fbc8f"; var h4k = "00008b"; var C2e = "1e90ff"; var t$f = "87ceeb"; var O2i = "ffdead"; var d8l = "0f0"; var s_o = "ff7f50"; var L$n = "ff0"; var u8Q = "dda0dd"; var o2H = "7cfc00"; var C_O = "fff5ee"; var y9J = "fffafa"; var N4R = "e0ffff"; var A6 = 78; var s0D = "ffdab9"; var E4n = "f5deb3"; var Q4W = "a52a2a"; var R5k = "708090"; var A8K = "daa520"; var t3s = "008000"; var C3E = "f4a460"; var v5P = "90ee90"; var W4S = "ee82ee"; var k_e = "db7093"; var t44 = "hsl"; var z7s = "fa8072"; var B4V = "f8f8ff"; var F6M = "2f4f4f"; var r6c = "00bfff"; var e9N = "4b0082"; var A$d = "ff8c00"; var V13 = "0ff"; var o40 = "fff0f5"; var S1t = "0000cd"; var i7L = "00f"; var M6v = "dc143c"; var m4z = "ba55d3"; var T7_ = "f00"; var M_b = "008080"; var s9r = "ffebcd"; var c_n = "696969"; var v$r = "2e8b57"; var C2M = "ffe4c4"; var S8o = "f08080"; var Z78 = "ffc0cb"; var Y9M = "fffff0"; var r3b = "ffefd5"; var v6Q = "add8e6"; var T7e = "ffd700"; var c6E = "cd5c5c"; var U9g = "d3d3d3"; var O54 = "dcdcdc"; var t06 = "800080"; var trimLeft, trimRight, tinyCounter, math, mathRound, mathMin, mathMax, mathRandom, tinycolor, names, hexNames, matchers; trimLeft = n9o; trimRight = n2Odt.E8L; tinyCounter = +p0zBu.U5; math = Math; mathRound = math.round; mathMin = math.min; mathMax = math.max; mathRandom = math.random; function spin(color, amount) { var hsl, hue; hsl = tinycolor(color).toHsl(); hue = (mathRound(hsl.h) + amount) % (d1Pxx.N7H >> p0zBu[122956]); hsl.h = hue < +p0zBu.U5 ? +d1Pxx.N7H + hue : hue; return tinycolor(hsl); } function pad2(c) { L1l.S$D(); return c.length == +p0zBu.v2 ? d1Pxx.z_5 + c : p0zBu.e5 + c; } tinycolor = function (color, opts) { var rgb; color = color ? color : p0zBu.e5; opts = opts || ({}); if (color instanceof tinycolor) { return color; } if (!(this instanceof tinycolor)) { return new tinycolor(color, opts); } rgb = inputToRGB(color); this._originalInput = color; this._r = rgb.r; this._g = rgb.g; this._b = rgb.b; this._a = rgb.a; this._roundA = mathRound(+d1Pxx.x$d * this._a) / +d1Pxx.x$d; this._format = opts.format || rgb.format; this._gradientType = opts.gradientType; if (this._r < p0zBu.v2 >> p0zBu.S1) { this._r = mathRound(this._r); } if (this._g < +p0zBu.v2) { this._g = mathRound(this._g); } if (this._b < (p0zBu.v2 | p0zBu[32075])) { this._b = mathRound(this._b); } L1l.s3o(); this._ok = rgb.ok; this._tc_id = tinyCounter++; }; function lighten(color, amount) { var hsl; amount = amount === p0zBu.U5 * p0zBu[32075] ? +p0zBu.U5 : amount || p0zBu.Z8; L1l.S$D(); hsl = tinycolor(color).toHsl(); H_j.s6(p0zBu.R3); hsl.l += H_j.L6(d1Pxx.x$d, amount); hsl.l = clamp01(hsl.l); return tinycolor(hsl); } function isPercentage(n) { L1l.s3o(); return typeof n === s7S && n.indexOf(d1Pxx.k7G) != -(p0zBu.v2 ^ p0zBu[122956]); } function analogous(color, results, slices) { var p$ = 61; var E68 = "720"; var hsl, part, ret; results = results || p0zBu.q_ >> p0zBu.V8; slices = slices || n2Odt.R7u ^ p0zBu[122956]; hsl = tinycolor(color).toHsl(); H_j.s6(p$); part = H_j.F_(slices, p0zBu.Q_, d1Pxx.N7H); ret = [tinycolor(color)]; for (hsl.h = (hsl.h - (part * results >> (p0zBu.v2 | p0zBu[32075])) + E68 * p0zBu[32075]) % +d1Pxx.N7H; --results;) { hsl.h = (hsl.h + part) % +d1Pxx.N7H; ret.push(tinycolor(hsl)); } return ret; } function rgbToHex(r, g, b, allow3Char) { var hex; hex = [pad2(mathRound(r).toString(p0zBu.m2X - p0zBu[122956])), pad2(mathRound(g).toString(p0zBu.m2X - p0zBu[122956])), pad2(mathRound(b).toString(+p0zBu.m2X))]; if (allow3Char && hex[p0zBu.U5 >> p0zBu.S1].charAt(+p0zBu.U5) == hex[p0zBu.U5 - p0zBu[122956]].charAt(p0zBu[32075]) && hex[p0zBu.v2 - p0zBu[122956]].charAt(+p0zBu.U5) == hex[p0zBu.v2 - p0zBu[122956]].charAt(p0zBu.v2 - p0zBu[122956]) && hex[p0zBu[149144]].charAt(+p0zBu.U5) == hex[p0zBu.y8n << p0zBu.Q_].charAt(p0zBu[32075])) { H_j.s0(p0zBu.c7); var j_ = H_j.L6(p0zBu.a4, Q9); H_j.s0(p0zBu.c7); var O0 = H_j.F_(p0zBu[235283], p0zBu.p8); return hex[+p0zBu.U5].charAt(p0zBu.U5 << j_) + hex[+p0zBu.v2].charAt(p0zBu.U5 << O0) + hex[p0zBu.y8n >> p0zBu[122956]].charAt(p0zBu[122956]); } return hex.join(d1Pxx.O7q); } function hsvToRgb(h, s, v) { var S0 = 62; var i, f, p, q, t, mod, r, g, b; H_j.s0(p0zBu.c7); var M3 = H_j.L6(p0zBu.c7, p0zBu.a4); h = bound01(h, +d1Pxx.N7H) * M3; H_j.s6(p0zBu[514270]); s = bound01(s, H_j.L6(p0zBu.h9, d1Pxx.x$d)); v = bound01(v, p0zBu.E3); i = math.floor(h); H_j.s6(p0zBu.c7); f = H_j.L6(i, h); H_j.s0(S0); p = H_j.F_(s, v, p0zBu.v2); H_j.s0(p0zBu.Z5); q = H_j.F_(p0zBu[32075], f, v, s, p0zBu.v2); H_j.s6(p0zBu.Q_); t = H_j.F_(p0zBu.v2, s, p0zBu.v2, v, f, p0zBu[122956]); H_j.s0(p0zBu.k2); mod = H_j.L6(i, p0zBu.q_); r = [v, q, p, p, t, v][mod]; g = [t, v, v, q, p, p][mod]; b = [p, p, t, v, v, q][mod]; return { r: r * +p0zBu.B95, g: g * +p0zBu.B95, b: b * p0zBu.u1 }; } tinycolor.prototype = { isDark: function () { H_j.s0(p0zBu.b_); var V$ = H_j.F_(p0zBu[514270], p0zBu.o8, p0zBu.U2, p0zBu.d$, p0zBu.w5); return this.getBrightness() < n2Odt.x6l << V$; }, isLight: function () { return !this.isDark(); }, isValid: function () { return this._ok; }, getOriginalInput: function () { L1l.s3o(); return this._originalInput; }, getFormat: function () { L1l.s3o(); return this._format; }, getAlpha: function () { L1l.s3o(); return this._a; }, getBrightness: function () { var y78 = "587"; var A3 = 1350; var T0P = "114"; var B0 = 1286; var F$H = "299"; var O4 = 564; var s3 = 608; var rgb; rgb = this.toRgb(); H_j.s0(p0zBu.W3); var u5 = H_j.L6(A3, p0zBu.c7, B0); H_j.s6(p0zBu.B_); var e2 = H_j.F_(p0zBu.d2, s3, O4); L1l.s3o(); return (rgb.r * +F$H + rgb.g * (y78 | u5) + rgb.b * (T0P >> e2)) / +d1Pxx.h82; }, setAlpha: function (value) { var n$ = 67; this._a = boundAlpha(value); H_j.s6(n$); L1l.s3o(); var m3 = H_j.F_(p0zBu.M$, p0zBu.A7, p0zBu.A7, p0zBu.d2); this._roundA = mathRound((d1Pxx.x$d | m3) * this._a) / (d1Pxx.x$d ^ p0zBu[122956]); return this; }, toHsv: function () { var hsv; hsv = rgbToHsv(this._r, this._g, this._b); return { h: hsv.h * (d1Pxx.N7H * p0zBu[32075]), s: hsv.s, v: hsv.v, a: this._a }; }, toHsvString: function () { var j5M = "hsva("; var h7U = "hsv("; var hsv, h, s, v; hsv = rgbToHsv(this._r, this._g, this._b); h = mathRound(hsv.h * +d1Pxx.N7H); s = mathRound(hsv.s * +d1Pxx.x$d); v = mathRound(hsv.v * (d1Pxx.x$d * p0zBu[32075])); L1l.s3o(); return this._a == p0zBu[32075] ? h7U + h + Y1r + s + E4v + v + Z2R : j5M + h + Y1r + s + E4v + v + E4v + this._roundA + n2Odt.q4t; }, toHsl: function () { var hsl; hsl = rgbToHsl(this._r, this._g, this._b); return { h: hsl.h * (d1Pxx.N7H - p0zBu[122956]), s: hsl.s, l: hsl.l, a: this._a }; }, toHslString: function () { var S8h = "hsla("; var y0j = "hsl("; var hsl, h, s, l; hsl = rgbToHsl(this._r, this._g, this._b); h = mathRound(hsl.h * p0zBu.O3); s = mathRound(hsl.s * +d1Pxx.x$d); l = mathRound(hsl.l * (d1Pxx.x$d | p0zBu.V8)); return this._a == +p0zBu.v2 ? y0j + h + Y1r + s + E4v + l + Z2R : S8h + h + Y1r + s + E4v + l + E4v + this._roundA + n2Odt.q4t; }, toHex: function (allow3Char) { return rgbToHex(this._r, this._g, this._b, allow3Char); }, toHexString: function (allow3Char) { return p0zBu.o$ + this.toHex(allow3Char); }, toHex8: function () { return rgbaToHex(this._r, this._g, this._b, this._a); }, toHex8String: function () { L1l.S$D(); return p0zBu.o$ + this.toHex8(); }, toRgb: function () { L1l.s3o(); return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a }; }, toRgbString: function () { return this._a == p0zBu.v2 - p0zBu[122956] ? g_1 + mathRound(this._r) + Y1r + mathRound(this._g) + Y1r + mathRound(this._b) + n2Odt.q4t : x8g + mathRound(this._r) + Y1r + mathRound(this._g) + Y1r + mathRound(this._b) + Y1r + this._roundA + n2Odt.q4t; }, toPercentageRgb: function () { L1l.S$D(); return { r: mathRound(bound01(this._r, p0zBu.B95 * p0zBu[32075]) * +d1Pxx.x$d) + Y$v, g: mathRound(bound01(this._g, +p0zBu.B95) * +d1Pxx.x$d) + Y$v, b: mathRound(bound01(this._b, +p0zBu.B95) * (d1Pxx.x$d >> p0zBu.S1)) + Y$v, a: this._a }; }, toPercentageRgbString: function () { return this._a == (p0zBu.v2 | p0zBu[32075]) ? g_1 + mathRound(bound01(this._r, +p0zBu.B95) * +d1Pxx.x$d) + E4v + mathRound(bound01(this._g, p0zBu.B95 - p0zBu[122956]) * (d1Pxx.x$d * p0zBu[32075])) + E4v + mathRound(bound01(this._b, +p0zBu.B95) * (d1Pxx.x$d - p0zBu[122956])) + Z2R : x8g + mathRound(bound01(this._r, +p0zBu.B95) * +d1Pxx.x$d) + E4v + mathRound(bound01(this._g, +p0zBu.B95) * +d1Pxx.x$d) + E4v + mathRound(bound01(this._b, p0zBu.B95 - p0zBu[122956]) * (d1Pxx.x$d >> p0zBu.Q_)) + E4v + this._roundA + n2Odt.q4t; }, toName: function () { if (this._a === p0zBu.U5 << p0zBu.S1) { return J2p; } if (this._a < +p0zBu.v2) { return p0zBu.e1; } return hexNames[rgbToHex(this._r, this._g, this._b, p0zBu.s2A)] || p0zBu.e1; }, toFilter: function (secondColor) { var F86 = "GradientType = 1, "; var f8O = "startColorstr="; var c3c = "progid:DXImageTransform.Microsoft.gradient("; var E55 = ",endColorstr="; var hex8String, secondHex8String, gradientType, s; L1l.s3o(); hex8String = p0zBu.o$ + rgbaToHex(this._r, this._g, this._b, this._a); secondHex8String = hex8String; gradientType = this._gradientType ? F86 : d1Pxx.O7q; if (secondColor) { s = tinycolor(secondColor); secondHex8String = s.toHex8String(); } H_j.s6(p0zBu.h9); return H_j.F_(E55, n2Odt.q4t, gradientType, f8O, hex8String, secondHex8String, c3c); }, toString: function (format) { var formatSet, formattedString, hasAlpha, needsAlphaFormat; formatSet = !!format; format = format || this._format; formattedString = p0zBu.e1; hasAlpha = this._a < p0zBu[32075] && this._a >= p0zBu.U5 - p0zBu[122956]; needsAlphaFormat = !formatSet && hasAlpha && (format === b6M || format === G8V || format === v56 || format === I4c); if (needsAlphaFormat) { if (format === I4c && this._a === p0zBu.U5 >> p0zBu.Q_) { return this.toName(); } return this.toRgbString(); } if (format === D4W) { formattedString = this.toRgbString(); } if (format === U8O) { formattedString = this.toPercentageRgbString(); } if (format === b6M || format === G8V) { formattedString = this.toHexString(); } if (format === v56) { formattedString = this.toHexString(p0zBu.s2A); } L1l.s3o(); if (format === K8X) { formattedString = this.toHex8String(); } if (format === I4c) { formattedString = this.toName(); } if (format === t44) { formattedString = this.toHslString(); } if (format === S9$) { formattedString = this.toHsvString(); } return formattedString || this.toHexString(); }, _applyModification: function (fn, args) { var color; color = fn.apply(d1Pxx.p8r, [this].concat([].slice.call(args))); this._r = color._r; this._g = color._g; L1l.s3o(); this._b = color._b; this.setAlpha(color._a); return this; }, lighten: function () { L1l.s3o(); return this._applyModification(lighten, arguments); }, brighten: function () { return this._applyModification(brighten, arguments); }, darken: function () { L1l.s3o(); return this._applyModification(darken, arguments); }, desaturate: function () { L1l.s3o(); return this._applyModification(desaturate, arguments); }, saturate: function () { L1l.S$D(); return this._applyModification(saturate, arguments); }, greyscale: function () { L1l.S$D(); return this._applyModification(greyscale, arguments); }, spin: function () { L1l.s3o(); return this._applyModification(spin, arguments); }, _applyCombination: function (fn, args) { return fn.apply(d1Pxx.p8r, [this].concat([].slice.call(args))); }, analogous: function () { L1l.S$D(); return this._applyCombination(analogous, arguments); }, complement: function () { return this._applyCombination(complement, arguments); }, monochromatic: function () { return this._applyCombination(monochromatic, arguments); }, splitcomplement: function () { L1l.S$D(); return this._applyCombination(splitcomplement, arguments); }, triad: function () { return this._applyCombination(triad, arguments); }, tetrad: function () { L1l.s3o(); return this._applyCombination(tetrad, arguments); } }; tinycolor.fromRatio = function (color, opts) { L1l.S$D(); var newColor; if (typeof color == n2Odt.Z32) { newColor = {}; for (var i in color) { if (color.hasOwnProperty(i)) { if (i === c4m) { newColor[i] = color[i]; } else { newColor[i] = convertToPercentage(color[i]); } } } color = newColor; } return tinycolor(color, opts); }; function boundAlpha(a) { a = parseFloat(a); L1l.S$D(); if (isNaN(a) || a < +p0zBu.U5 || a > +p0zBu.v2) { a = +p0zBu.v2; } return a; } function convertDecimalToHex(d) { return Math.round(parseFloat(d) * (p0zBu.B95 - p0zBu[122956])).toString(+p0zBu.m2X); } tinycolor.equals = function (color1, color2) { L1l.S$D(); if (!color1 || !color2) { return p0zBu.e1; } return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString(); }; tinycolor.random = function () { return tinycolor.fromRatio({ r: mathRandom(), g: mathRandom(), b: mathRandom() }); }; function hslToRgb(h, s, l) { var E9 = 71; var N9 = 73; var r, g, b, q, p; L1l.S$D(); h = bound01(h, +d1Pxx.N7H); s = bound01(s, +d1Pxx.x$d); function hue2rgb(p, q, t) { var w8 = 69; var z$ = 70; if (t < p0zBu.U5 >> p0zBu.Q_) { H_j.s0(p0zBu[235283]); t += H_j.L6(p0zBu[32075], p0zBu.v2); } if (t > p0zBu[32075]) { t -= +p0zBu.v2; } L1l.S$D(); if (t < p0zBu[32075] / (p0zBu.q_ << p0zBu[122956])) { H_j.s6(w8); return H_j.L6(p, t, p0zBu.q_, p, q); } if (t < p0zBu[32075] / +p0zBu.y8n) { return q; } if (t < p0zBu[149144] / +p0zBu.r$f) { H_j.s6(z$); return H_j.L6(p0zBu.y8n, p0zBu.q_, p, p0zBu.Q_, p0zBu[122956], p0zBu.r$f, p0zBu.S1, t, q, p); } return p; } l = bound01(l, p0zBu.E3); if (s === (p0zBu.U5 | p0zBu[122956])) { r = g = b = l;; } else { q = l < n2Odt.t5H * p0zBu[32075] ? l * (+p0zBu.v2 + s) : l + s - l * s; H_j.s6(E9); p = H_j.L6(q, p0zBu.y8n, l, p0zBu[122956]); H_j.s6(P5); r = hue2rgb(p, q, H_j.L6(p0zBu.v2, p0zBu.r$f, h)); g = hue2rgb(p, q, h); H_j.s6(N9); b = hue2rgb(p, q, H_j.L6(h, p0zBu[122956], p0zBu.r$f, p0zBu.v2)); } return { r: r * +p0zBu.B95, g: g * (p0zBu.B95 * p0zBu[32075]), b: b * +p0zBu.B95 }; } function splitcomplement(color) { var P9 = 216; var hsl, h; hsl = tinycolor(color).toHsl(); h = hsl.h; L1l.S$D(); return [tinycolor(color), tinycolor({ h: (h + P5) % p0zBu.O3, s: hsl.s, l: hsl.l }), tinycolor({ h: (h + P9) % +d1Pxx.N7H, s: hsl.s, l: hsl.l })]; } function rgbToRgb(r, g, b) { return { r: bound01(r, +p0zBu.B95) * (p0zBu.B95 >> p0zBu[122956]), g: bound01(g, p0zBu.B95 | p0zBu.a9) * (p0zBu.B95 ^ p0zBu[122956]), b: bound01(b, +p0zBu.B95) * (p0zBu.B95 - p0zBu[122956]) }; } function flip(o) { var flipped; flipped = {}; L1l.s3o(); for (var i in o) { if (o.hasOwnProperty(i)) { flipped[o[i]] = i; } } return flipped; } function bound01(n, max) { var f8C = "0.000001"; var O$s = "100%"; var processPercent; if (isOnePointZero(n)) { n = O$s; } processPercent = isPercentage(n); n = mathMin(max, mathMax(p0zBu.U5 << p0zBu[122956], parseFloat(n))); if (processPercent) { n = parseInt(n * max, n2Odt.r2R << p0zBu[122956]) / +d1Pxx.x$d; } if (math.abs(n - max) < +f8C) { return p0zBu[32075]; } return n % max / parseFloat(max); } function desaturate(color, amount) { var U_ = 74; var hsl; L1l.s3o(); amount = amount === p0zBu[122956] ? p0zBu.U5 ^ p0zBu[122956] : amount || n2Odt.r2R | p0zBu.U2; hsl = tinycolor(color).toHsl(); H_j.s6(U_); hsl.s -= H_j.L6(amount, p0zBu.S1, d1Pxx.x$d); hsl.s = clamp01(hsl.s); return tinycolor(hsl); } function greyscale(color) { return tinycolor(color).desaturate(+d1Pxx.x$d); } function darken(color, amount) { var hsl; amount = amount === +p0zBu.U5 ? p0zBu.U5 << p0zBu[122956] : amount || +n2Odt.r2R; L1l.S$D(); hsl = tinycolor(color).toHsl(); H_j.s0(p0zBu.R3); hsl.l -= H_j.L6(d1Pxx.x$d, amount); hsl.l = clamp01(hsl.l); return tinycolor(hsl); } function rgbaToHex(r, g, b, a) { var hex; L1l.s3o(); hex = [pad2(convertDecimalToHex(a)), pad2(mathRound(r).toString(p0zBu.M$)), pad2(mathRound(g).toString(+p0zBu.m2X)), pad2(mathRound(b).toString(p0zBu.m2X << p0zBu[122956]))]; return hex.join(d1Pxx.O7q); } tinycolor.mix = function (color1, color2, amount) { var a2 = 77; var e6 = 75; var g2 = 76; var rgb1, rgb2, p, w, a, w1, w2, rgba; amount = amount === +p0zBu.U5 ? p0zBu.U5 * p0zBu[32075] : amount || p0zBu.y5; rgb1 = tinycolor(color1).toRgb(); rgb2 = tinycolor(color2).toRgb(); H_j.s6(e6); p = H_j.L6(p0zBu[122956], d1Pxx.x$d, amount); H_j.s6(g2); w = H_j.F_(p0zBu[32075], p, p0zBu.y8n, p0zBu[149144]); a = rgb2.a - rgb1.a; if (w * a == -+p0zBu.v2) { w1 = w; } else { H_j.s0(a2); w1 = H_j.L6(p0zBu[122956], a, p0zBu.v2, w, w, a); } H_j.s0(A6); w1 = H_j.F_(w1, p0zBu.v2, p0zBu[32075], p0zBu.y8n); H_j.s6(p0zBu.c7); w2 = H_j.L6(w1, p0zBu[32075]); rgba = { r: rgb2.r * w1 + rgb1.r * w2, g: rgb2.g * w1 + rgb1.g * w2, b: rgb2.b * w1 + rgb1.b * w2, a: rgb2.a * p + rgb1.a * (p0zBu.v2 * p0zBu[32075] - p) }; return tinycolor(rgba); }; function convertHexToDecimal(h) { L1l.S$D(); return parseIntFromHex(h) / (p0zBu.B95 ^ p0zBu[122956]); } tinycolor.readability = function (color1, color2) { var c1, c2, rgb1, rgb2, brightnessA, brightnessB, colorDiff; c1 = tinycolor(color1); c2 = tinycolor(color2); rgb1 = c1.toRgb(); rgb2 = c2.toRgb(); brightnessA = c1.getBrightness(); brightnessB = c2.getBrightness(); colorDiff = Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) + Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) + Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b); return { brightness: Math.abs(brightnessA - brightnessB), color: colorDiff }; }; function monochromatic(color, results) { var hsv, h, s, v, ret, modification; results = results || p0zBu[514270]; hsv = tinycolor(color).toHsv(); h = hsv.h; s = hsv.s; L1l.S$D(); v = hsv.v; ret = []; H_j.s6(p0zBu.P8); modification = H_j.F_(p0zBu[122956], results, p0zBu.v2); while (results--) { ret.push(tinycolor({ h: h, s: s, v: v })); H_j.s0(p0zBu.G2); v = H_j.L6(p0zBu.v2, modification, v, p0zBu[32075]); } return ret; } tinycolor.isReadable = function (color1, color2) { var readability; readability = tinycolor.readability(color1, color2); L1l.S$D(); return readability.brightness > p0zBu.Q0 && readability.color > (n2Odt.e6F | p0zBu.v_); }; function rgbToHsv(r, g, b) { var max, min, h, s, v, d; H_j.s6(p0zBu[514270]); r = bound01(r, H_j.F_(A6, p0zBu.B95)); g = bound01(g, p0zBu.u1); b = bound01(b, +p0zBu.B95); max = mathMax(r, g, b); min = mathMin(r, g, b); v = max; H_j.s6(p0zBu.c7); d = H_j.L6(min, max); s = max === p0zBu.U5 >> p0zBu.S1 ? +p0zBu.U5 : d / max; if (max == min) { h = +p0zBu.U5;; } else { switch (max) { case r: H_j.s0(p0zBu.Y2); h = H_j.F_(g, g < b ? p0zBu[514270] : +p0zBu.U5, b, d); break; case g: H_j.s0(Q9); h = H_j.L6(b, d, p0zBu.y8n, p0zBu[122956], r); break; case b: H_j.s0(p0zBu.Y2); h = H_j.L6(r, p0zBu[394202], g, d); break; }H_j.s0(p0zBu[149144]); h /= H_j.F_(p0zBu.Q_, p0zBu.q_); } return { h: h, s: s, v: v }; } tinycolor.mostReadable = function (baseColor, colorList) { L1l.S$D(); var H3M = "125"; var o5 = 680; var bestColor, bestScore, bestIsReadable, readability, readable, score; bestColor = d1Pxx.p8r; bestScore = +p0zBu.U5; bestIsReadable = p0zBu.e1; for (var i = p0zBu.U5 * p0zBu[32075]; i < colorList.length; i++) { readability = tinycolor.readability(baseColor, colorList[i]); readable = readability.brightness > p0zBu.Q0 && readability.color > (n2Odt.e6F ^ p0zBu[122956]); H_j.s0(p0zBu.M$); var O$ = H_j.L6(p0zBu.M$, p0zBu.v5); H_j.s0(p0zBu.m7); var B8 = H_j.F_(p0zBu.W3, p0zBu.o3, p0zBu.a4, p0zBu[514270], p0zBu[122956]); H_j.s6(p0zBu.Q1); var k6 = H_j.L6(p0zBu.v5, o5, p0zBu[394202], p0zBu.V5); score = O$ * (readability.brightness / (H3M | B8)) + readability.color / (n2Odt.e6F | k6); if (readable && !bestIsReadable || readable && bestIsReadable && score > bestScore || !readable && !bestIsReadable && score > bestScore) { bestIsReadable = readable; bestScore = score; bestColor = tinycolor(colorList[i]); } } return bestColor; }; names = tinycolor.names = { aliceblue: B3L, antiquewhite: t1g, aqua: V13, aquamarine: b3K, azure: h0r, beige: Z4n, bisque: C2M, black: y_7, blanchedalmond: s9r, blue: i7L, blueviolet: t5p, brown: Q4W, burlywood: N_y, burntsienna: l_p, cadetblue: l1x, chartreuse: S1M, chocolate: k4G, coral: s_o, cornflowerblue: a7M, cornsilk: C5p, crimson: M6v, cyan: V13, darkblue: h4k, darkcyan: k0x, darkgoldenrod: A58, darkgray: y27, darkgreen: a6L, darkgrey: y27, darkkhaki: l35, darkmagenta: o1E, darkolivegreen: A9C, darkorange: A$d, darkorchid: n6z, darkred: R_h, darksalmon: b5C, darkseagreen: M4R, darkslateblue: W7p, darkslategray: F6M, darkslategrey: F6M, darkturquoise: A9F, darkviolet: A7i, deeppink: d5B, deepskyblue: r6c, dimgray: c_n, dimgrey: c_n, dodgerblue: C2e, firebrick: t9x, floralwhite: v7A, forestgreen: U8y, fuchsia: X3h, gainsboro: O54, ghostwhite: B4V, gold: T7e, goldenrod: A8K, gray: C0O, green: t3s, greenyellow: D1J, grey: C0O, honeydew: o0f, hotpink: j7b, indianred: c6E, indigo: e9N, ivory: Y9M, khaki: Z4v, lavender: U1X, lavenderblush: o40, lawngreen: o2H, lemonchiffon: a1Z, lightblue: v6Q, lightcoral: S8o, lightcyan: N4R, lightgoldenrodyellow: J52, lightgray: U9g, lightgreen: v5P, lightgrey: U9g, lightpink: T8T, lightsalmon: m1K, lightseagreen: m5x, lightskyblue: l6j, lightslategray: x8i, lightslategrey: x8i, lightsteelblue: R3g, lightyellow: f4n, lime: d8l, limegreen: W_L, linen: n7g, magenta: X3h, maroon: k5y, mediumaquamarine: d_I, mediumblue: S1t, mediumorchid: m4z, mediumpurple: c0z, mediumseagreen: C$9, mediumslateblue: G3s, mediumspringgreen: T93, mediumturquoise: Q55, mediumvioletred: o$x, midnightblue: d6A, mintcream: J9J, mistyrose: c4E, moccasin: e3L, navajowhite: O2i, navy: q0x, oldlace: Z3F, olive: a_f, olivedrab: c0b, orange: Z9D, orangered: Z1G, orchid: U3f, palegoldenrod: m0c, palegreen: T1I, paleturquoise: z8N, palevioletred: k_e, papayawhip: r3b, peachpuff: s0D, peru: Q4d, pink: Z78, plum: u8Q, powderblue: J4r, purple: t06, rebeccapurple: X7f, red: T7_, rosybrown: q6y, royalblue: t0u, saddlebrown: i0m, salmon: z7s, sandybrown: C3E, seagreen: v$r, seashell: C_O, sienna: o8a, silver: N1x, skyblue: t$f, slateblue: S_l, slategray: R5k, slategrey: R5k, snow: y9J, springgreen: T9e, steelblue: O_w, tan: s0u, teal: M_b, thistle: Z5k, tomato: t3B, turquoise: P8C, violet: W4S, wheat: E4n, white: a7U, whitesmoke: U14, yellow: L$n, yellowgreen: P8a }; hexNames = tinycolor.hexNames = flip(names); function triad(color) { var g5 = 240; var hsl, h; hsl = tinycolor(color).toHsl(); h = hsl.h; L1l.s3o(); return [tinycolor(color), tinycolor({ h: (h + (n2Odt.s9a << p0zBu.S1)) % (d1Pxx.N7H ^ p0zBu[122956]), s: hsl.s, l: hsl.l }), tinycolor({ h: (h + g5) % p0zBu.O3, s: hsl.s, l: hsl.l })]; } matchers = (function () { var g_r = "(?:"; var Z8B = /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/; var h75 = ")|(?:"; var B0L = "[\\s|\\(]+("; var r_k = "rgba"; var I0Y = "[-\\+]?\\d*\\.\\d+%?"; var p7e = "hsla"; var y9o = "[-\\+]?\\d+%?"; var i1N = "hsva"; var o$I = ")\\s*\\)?"; var d_Y = ")[,|\\s]+("; var S4z = /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/; var L5m = /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/; var CSS_INTEGER, CSS_NUMBER, CSS_UNIT, PERMISSIVE_MATCH3, PERMISSIVE_MATCH4; CSS_INTEGER = y9o; CSS_NUMBER = I0Y; H_j.s0(p0zBu.x6); CSS_UNIT = H_j.L6(n2Odt.q4t, CSS_INTEGER, g_r, CSS_NUMBER, h75); H_j.s6(p0zBu.h9); PERMISSIVE_MATCH3 = H_j.F_(d_Y, o$I, CSS_UNIT, d_Y, CSS_UNIT, CSS_UNIT, B0L); H_j.s0(p0zBu.r7); PERMISSIVE_MATCH4 = H_j.F_(CSS_UNIT, o$I, CSS_UNIT, CSS_UNIT, B0L, d_Y, d_Y, d_Y, CSS_UNIT); return { rgb: new RegExp(D4W + PERMISSIVE_MATCH3), rgba: new RegExp(r_k + PERMISSIVE_MATCH4), hsl: new RegExp(t44 + PERMISSIVE_MATCH3), hsla: new RegExp(p7e + PERMISSIVE_MATCH4), hsv: new RegExp(S9$ + PERMISSIVE_MATCH3), hsva: new RegExp(i1N + PERMISSIVE_MATCH4), hex3: Z8B, hex6: S4z, hex8: L5m }; })(); function parseIntFromHex(val) { return parseInt(val, +p0zBu.m2X); } function tetrad(color) { var hsl, h; hsl = tinycolor(color).toHsl(); h = hsl.h; L1l.S$D(); return [tinycolor(color), tinycolor({ h: (h + d1Pxx.F$M * p0zBu[32075]) % p0zBu.O3, s: hsl.s, l: hsl.l }), tinycolor({ h: (h + d1Pxx.I6W * p0zBu[32075]) % (d1Pxx.N7H >> p0zBu[122956]), s: hsl.s, l: hsl.l }), tinycolor({ h: (h + +n2Odt.j6N) % p0zBu.O3, s: hsl.s, l: hsl.l })]; } function stringInputToObject(color) { var named, match; color = color.replace(trimLeft, p0zBu.e5).replace(trimRight, p0zBu.e5).toLowerCase(); named = p0zBu.e1; if (names[color]) { color = names[color]; named = p0zBu.s2A; } else if (color == n2Odt.l8s) { return { r: +p0zBu.U5, g: +p0zBu.U5, b: p0zBu.U5 * p0zBu[32075], a: +p0zBu.U5, format: I4c }; } if (match = matchers.rgb.exec(color)) { return { r: match[+p0zBu.v2], g: match[+p0zBu.y8n], b: match[+p0zBu.r$f] }; } if (match = matchers.rgba.exec(color)) { return { r: match[+p0zBu.v2], g: match[p0zBu.y8n | p0zBu[149144]], b: match[p0zBu[235283]], a: match[+d1Pxx.H0F] }; } if (match = matchers.hsl.exec(color)) { return { h: match[+p0zBu.v2], s: match[+p0zBu.y8n], l: match[+p0zBu.r$f] }; } if (match = matchers.hsla.exec(color)) { return { h: match[p0zBu.v2 | p0zBu[122956]], s: match[p0zBu.y8n ^ p0zBu[122956]], l: match[p0zBu.r$f * p0zBu[32075]], a: match[d1Pxx.H0F ^ p0zBu[122956]] }; } if (match = matchers.hsv.exec(color)) { return { h: match[p0zBu[32075]], s: match[p0zBu[149144]], v: match[+p0zBu.r$f] }; } L1l.S$D(); if (match = matchers.hsva.exec(color)) { return { h: match[+p0zBu.v2], s: match[+p0zBu.y8n], v: match[p0zBu.r$f | p0zBu[122956]], a: match[d1Pxx.H0F ^ p0zBu[122956]] }; } if (match = matchers.hex8.exec(color)) { return { a: convertHexToDecimal(match[+p0zBu.v2]), r: parseIntFromHex(match[+p0zBu.y8n]), g: parseIntFromHex(match[+p0zBu.r$f]), b: parseIntFromHex(match[d1Pxx.H0F * p0zBu[32075]]), format: named ? I4c : K8X }; } if (match = matchers.hex6.exec(color)) { return { r: parseIntFromHex(match[+p0zBu.v2]), g: parseIntFromHex(match[p0zBu.y8n >> p0zBu.Q_]), b: parseIntFromHex(match[p0zBu.r$f >> p0zBu.S1]), format: named ? I4c : b6M }; } if (match = matchers.hex3.exec(color)) { return { r: parseIntFromHex(match[p0zBu[32075]] + p0zBu.e5 + match[p0zBu.v2 ^ p0zBu[122956]]), g: parseIntFromHex(match[p0zBu[149144]] + p0zBu.e5 + match[p0zBu.y8n * p0zBu[32075]]), b: parseIntFromHex(match[p0zBu.r$f ^ p0zBu[122956]] + p0zBu.e5 + match[p0zBu.r$f ^ p0zBu[122956]]), format: named ? I4c : b6M }; } return p0zBu.e1; } function saturate(color, amount) { var hsl; amount = amount === p0zBu[122956] ? p0zBu.U5 * p0zBu[32075] : amount || +n2Odt.r2R; hsl = tinycolor(color).toHsl(); H_j.s0(p0zBu.R3); hsl.s += H_j.L6(d1Pxx.x$d, amount); hsl.s = clamp01(hsl.s); L1l.S$D(); return tinycolor(hsl); } function rgbToHsl(r, g, b) { var t_ = 83; var H7 = 84; var X_ = 85; var max, min, h, s, l, d; r = bound01(r, +p0zBu.B95); H_j.s6(p0zBu.c7); g = bound01(g, H_j.L6(p0zBu[122956], p0zBu.B95)); b = bound01(b, +p0zBu.B95); max = mathMax(r, g, b); min = mathMin(r, g, b); H_j.s0(t_); l = H_j.F_(p0zBu.y8n, max, p0zBu[122956], min); if (max == min) { H_j.s0(p0zBu[514270]); h = s = H_j.F_(p0zBu[122956], p0zBu.U5);; } else { H_j.s0(p0zBu.c7); d = H_j.L6(min, max); s = l > n2Odt.t5H - p0zBu[122956] ? d / (+p0zBu.y8n - max - min) : d / (max + min); switch (max) { case r: H_j.s0(p0zBu.Y2); h = H_j.L6(g, g < b ? p0zBu.q_ | p0zBu[122956] : +p0zBu.U5, b, d); break; case g: H_j.s0(H7); h = H_j.L6(b, r, d, p0zBu.y8n); break; case b: H_j.s6(X_); h = H_j.L6(d, g, r, p0zBu[122956], d1Pxx.H0F); break; }H_j.s0(p0zBu[149144]); h /= H_j.L6(p0zBu[122956], p0zBu.q_); } return { h: h, s: s, l: l }; } function isOnePointZero(n) { return typeof n == s7S && n.indexOf(d1Pxx.v$C) != -(p0zBu.v2 * p0zBu[32075]) && parseFloat(n) === +p0zBu.v2; } window.tinycolor = tinycolor; function convertToPercentage(n) { var Z_ = 86; if (n <= +p0zBu.v2) { H_j.s0(Z_); n = H_j.L6(p0zBu.S1, Y$v, n, d1Pxx.x$d); } L1l.s3o(); return n; } function clamp01(val) { L1l.S$D(); return mathMin(+p0zBu.v2, mathMax(+p0zBu.U5, val)); } function inputToRGB(color) { var T8e = "b"; var Q7a = "h"; var p54 = "r"; var J93 = "v"; var a5q = "g"; var a68 = "l"; var i1S = "s"; var rgb, a, ok, format; rgb = { r: +p0zBu.U5, g: p0zBu.U5 ^ p0zBu[122956], b: p0zBu.U5 - p0zBu[122956] }; a = +p0zBu.v2; ok = p0zBu.e1; format = p0zBu.e1; if (typeof color == s7S) { color = stringInputToObject(color); } if (typeof color == n2Odt.Z32) { if (color.hasOwnProperty(p54) && color.hasOwnProperty(a5q) && color.hasOwnProperty(T8e)) { rgb = rgbToRgb(color.r, color.g, color.b); ok = p0zBu.s2A; format = String(color.r).substr(-(p0zBu.v2 << p0zBu[122956])) === Y$v ? U8O : D4W; } else if (color.hasOwnProperty(Q7a) && color.hasOwnProperty(i1S) && color.hasOwnProperty(J93)) { color.s = convertToPercentage(color.s); color.v = convertToPercentage(color.v); rgb = hsvToRgb(color.h, color.s, color.v); ok = p0zBu.s2A; format = S9$; } else if (color.hasOwnProperty(Q7a) && color.hasOwnProperty(i1S) && color.hasOwnProperty(a68)) { color.s = convertToPercentage(color.s); color.l = convertToPercentage(color.l); rgb = hslToRgb(color.h, color.s, color.l); ok = p0zBu.s2A; format = t44; } if (color.hasOwnProperty(c4m)) { a = color.a; } } a = boundAlpha(a); return { ok: ok, format: color.format || format, r: mathMin(p0zBu.B95 >> p0zBu.S1, mathMax(rgb.r, +p0zBu.U5)), g: mathMin(+p0zBu.B95, mathMax(rgb.g, p0zBu.U5 << p0zBu.Q_)), b: mathMin(p0zBu.B95 * p0zBu[32075], mathMax(rgb.b, +p0zBu.U5)), a: a }; } function complement(color) { var hsl; hsl = tinycolor(color).toHsl(); hsl.h = (hsl.h + +d1Pxx.I6W) % (d1Pxx.N7H - p0zBu[122956]); return tinycolor(hsl); } function brighten(color, amount) { var rgb; amount = amount === +p0zBu.U5 ? p0zBu.U5 | p0zBu[122956] : amount || n2Odt.r2R ^ p0zBu[122956]; rgb = tinycolor(color).toRgb(); rgb.r = mathMax(+p0zBu.U5, mathMin(p0zBu.u1, rgb.r - mathRound(+p0zBu.B95 * -(amount / +d1Pxx.x$d)))); rgb.g = mathMax(+p0zBu.U5, mathMin(p0zBu.B95 << p0zBu.S1, rgb.g - mathRound((p0zBu.B95 - p0zBu[122956]) * -(amount / +d1Pxx.x$d)))); rgb.b = mathMax(+p0zBu.U5, mathMin(p0zBu.B95 ^ p0zBu[122956], rgb.b - mathRound(+p0zBu.B95 * -(amount / (d1Pxx.x$d << p0zBu.Q_))))); return tinycolor(rgb); } })(); function getOffset(picker, input) { var extraY, dpWidth, dpHeight, inputHeight, doc, docElem, viewWidth, viewHeight, offset; extraY = +p0zBu.U5; dpWidth = picker.outerWidth(); dpHeight = picker.outerHeight(); inputHeight = input.outerHeight(); doc = picker[p0zBu[122956]].ownerDocument; docElem = doc.documentElement; viewWidth = docElem.clientWidth + $(doc).scrollLeft(); viewHeight = docElem.clientHeight + $(doc).scrollTop(); offset = input.offset(); offset.top += inputHeight; offset.left -= Math.min(offset.left, offset.left + dpWidth > viewWidth && viewWidth > dpWidth ? Math.abs(offset.left + dpWidth - viewWidth) : +p0zBu.U5); offset.top -= Math.min(offset.top, offset.top + dpHeight > viewHeight && viewHeight > dpHeight ? Math.abs(dpHeight + inputHeight - extraY) : extraY); return offset; } function noop() { } function paletteTemplate(p, color, className, opts) { var O2D = "background-color:"; var g2y = 'sp-clear-display'; var W45 = "'>"; var d7Y = '<span title="'; var l8M = "sp-thumb-el sp-thumb-light"; var x74 = '"></span>'; var r2N = " sp-thumb-active"; var J18 = '<span data-color="" style="background-color:transparent;" class="'; var w7P = ';" /></span>'; var S41 = '<div />'; var I$5 = "<div class='sp-cf "; var O0H = '" data-color="'; var O_4 = "filter:"; var H97 = '" class="'; var F4k = '"><span class="sp-thumb-inner" style="'; var h4U = "sp-thumb-el sp-thumb-dark"; var html, current, tiny, c, formattedString, swatchStyle, cls; html = []; for (var i = p0zBu.U5 >> p0zBu[122956]; i < p.length; i++) { current = p[i]; if (current) { tiny = tinycolor(current); c = tiny.toHsl().l < n2Odt.t5H * p0zBu[32075] ? h4U : l8M; c += tinycolor.equals(color, current) ? r2N : d1Pxx.O7q; formattedString = tiny.toString(opts.preferredFormat || D4W); swatchStyle = rgbaSupport ? O2D + tiny.toRgbString() : O_4 + tiny.toFilter(); html.push(d7Y + formattedString + O0H + tiny.toRgbString() + H97 + c + F4k + swatchStyle + w7P); } else { cls = g2y; html.push($(S41).append($(J18 + cls + x74).attr(n2Odt.e15, opts.noColorSelectedText)).html()); } } return I$5 + className + W45 + html.join(p0zBu.e5) + A12; } $(function () { L1l.S$D(); if ($.fn.spectrum.load) { $.fn.spectrum.processNativeColorInputs(); } }); function instanceOptions(o, callbackContext) { var opts; opts = $.extend({}, defaultOpts, o); opts.callbacks = { 'move': bind(opts.move, callbackContext), 'change': bind(opts.change, callbackContext), 'show': bind(opts.show, callbackContext), 'hide': bind(opts.hide, callbackContext), 'beforeShow': bind(opts.beforeShow, callbackContext) }; return opts; } function draggable(element, onmove, onstart, onstop) { var d5J = "touchmove mousemove"; var v6e = "touchstart mousedown"; var J6U = "selectstart"; var L5S = "touchend mouseup"; var G0c = "dragstart"; var doc, dragging, offset, maxHeight, maxWidth, hasTouch, duringDragEvents; function move(e) { var t0, pageX, pageY, dragX, dragY; if (dragging) { if (IE && doc.documentMode < d1Pxx.U_x >> p0zBu.Q_ && !e.button) { return stop(); } t0 = e.originalEvent && e.originalEvent.touches && e.originalEvent.touches[+p0zBu.U5]; pageX = t0 && t0.pageX || e.pageX; pageY = t0 && t0.pageY || e.pageY; dragX = Math.max(+p0zBu.U5, Math.min(pageX - offset.left, maxWidth)); dragY = Math.max(+p0zBu.U5, Math.min(pageY - offset.top, maxHeight)); if (hasTouch) { prevent(e); } onmove.apply(element, [dragX, dragY, e]); } } onmove = onmove || (function () { }); onstart = onstart || (function () { }); onstop = onstop || (function () { }); function stop() { L1l.S$D(); if (dragging) { $(doc).unbind(duringDragEvents); $(doc.body).removeClass(P_j); setTimeout(function () { onstop.apply(element, arguments); }, p0zBu.U5 | p0zBu[122956]); } dragging = p0zBu.e1; } doc = document; dragging = p0zBu.e1; offset = {}; maxHeight = +p0zBu.U5; H_j.s6(p0zBu[235283]); maxWidth = H_j.F_(p0zBu[32075], p0zBu.U5); H_j.s6(p0zBu.c4); hasTouch = H_j.F_(n2Odt.C4I, window); function prevent(e) { if (e.stopPropagation) { e.stopPropagation(); } if (e.preventDefault) { e.preventDefault(); } e.returnValue = p0zBu.e1; } duringDragEvents = {}; duringDragEvents[J6U] = prevent; duringDragEvents[G0c] = prevent; function start(e) { var rightclick; rightclick = e.which ? e.which == p0zBu[235283] : e.button == +p0zBu.y8n; if (!rightclick && !dragging) { if (onstart.apply(element, arguments) !== p0zBu.e1) { dragging = p0zBu.s2A; maxHeight = $(element).height(); maxWidth = $(element).width(); offset = $(element).offset(); $(doc).bind(duringDragEvents); $(doc.body).addClass(P_j); move(e); prevent(e); } } } duringDragEvents[d5J] = move; duringDragEvents[L5S] = stop; $(element).bind(v6e, start); } });; (function (factory) { 'use strict'; var T0d = 'jquery-ui/ui/widget'; q2uu1K.S$D(); if (typeof define === d1Pxx.d0a && define.amd) { define([n2Odt.C5y, T0d], factory); } else if (typeof exports === d1Pxx.E_o) { factory(require('jquery'), require('./vendor/jquery.ui.widget')); } else { factory(window.jQuery); } })(function ($) { 'use strict'; var H3p = p0zBu; var Y2n = q2uu1K; var z4P = 'paste'; var z_R = 'blueimp.fileupload'; var H$ = 512; var f1C = 'dragleave'; var j0J = 'pending'; var R38 = 'dragenter'; var g$O = 'dragover'; var R0K = '|(w(eb)?OSBrowser)|(webOS)'; var r_N = 'pasteZone'; Y2n.s3o(); var F8N = '|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)'; var a5W = 'multipart'; var Z8U = 'fail'; var Y4u = '<input type="file">'; var j4k = '|(Kindle/(1\\.0|2\\.[05]|3\\.0))'; var Q51 = '(Android (1\\.[0156]|2\\.[01]))'; var A1o = 'fileInput'; var e5m = 'forceIframeTransport'; var V1B = 'dropZone'; var W52 = 'progress'; var T9H = 'Uploaded bytes exceed file size'; var Q_6 = 'abort'; var N3p = 'files'; $.support.fileInput = !(new RegExp(Q51 + F8N + R0K + j4k).test(window.navigator.userAgent) || $(Y4u).prop(n2Odt.z6v)); $.support.xhrFileUpload = !!(window.ProgressEvent && window.FileReader); $.support.xhrFormDataFileUpload = !!window.FormData; $.support.blobSlice = window.Blob && (Blob.prototype.slice || Blob.prototype.webkitSlice || Blob.prototype.mozSlice); $.widget(z_R, { options: { dropZone: $(document), pasteZone: undefined, fileInput: undefined, replaceFileInput: p0zBu.s2A, paramName: undefined, singleFileUploads: p0zBu.s2A, limitMultiFileUploads: undefined, limitMultiFileUploadSize: undefined, limitMultiFileUploadSizeOverhead: H$, sequentialUploads: p0zBu.e1, limitConcurrentUploads: undefined, forceIframeTransport: p0zBu.e1, redirect: undefined, redirectParamName: undefined, postMessage: undefined, multipart: p0zBu.s2A, maxChunkSize: undefined, uploadedBytes: undefined, recalculateProgress: p0zBu.s2A, progressInterval: +d1Pxx.x$d, bitrateInterval: +n2Odt.e6F, autoUpload: p0zBu.s2A, messages: { uploadedBytes: T9H }, i18n: function (message, context) { message = this.messages[message] || message.toString(); if (context) { $.each(context, function (key, value) { H3p.s0(p0zBu.S9); message = message.replace(H3p.L6(key, n2Odt.P$v, n2Odt.f70), value); }); } return message; }, formData: function (form) { Y2n.S$D(); return form.serializeArray(); }, add: function (e, data) { var e2c = 'option'; var X0P = 'autoUpload'; Y2n.S$D(); if (e.isDefaultPrevented()) { return p0zBu.e1; } if (data.autoUpload || data.autoUpload !== p0zBu.e1 && $(this).fileupload(e2c, X0P)) { data.process().done(function () { Y2n.s3o(); data.submit(); }); } }, processData: p0zBu.e1, contentType: p0zBu.e1, cache: p0zBu.e1, timeout: p0zBu.U5 ^ p0zBu[122956] }, _specialOptions: [A1o, V1B, r_N, a5W, e5m], _blobSlice: $.support.blobSlice && (function () { var slice; slice = this.slice || this.webkitSlice || this.mozSlice; return slice.apply(this, arguments); }), _BitrateTimer: function () { this.timestamp = Date.now ? Date.now() : new Date().getTime(); H3p.s0(p0zBu[32075]); this.loaded = H3p.L6(p0zBu.U5, p0zBu[122956]); H3p.s0(p0zBu[235283]); this.bitrate = H3p.F_(p0zBu[32075], p0zBu.U5); this.getBitrate = function (now, loaded, interval) { var timeDiff; timeDiff = now - this.timestamp; if (!this.bitrate || !interval || timeDiff > interval) { H3p.s6(p0zBu.c7); var W2 = H3p.L6(p0zBu.c7, p0zBu.u0); this.bitrate = (loaded - this.loaded) * ((d1Pxx.h82 - p0zBu[122956]) / timeDiff) * (n2Odt.T9f >> W2); this.loaded = loaded; this.timestamp = now; } Y2n.s3o(); return this.bitrate; }; }, _isXHRUpload: function (options) { return !options.forceIframeTransport && (!options.multipart && $.support.xhrFileUpload || $.support.xhrFormDataFileUpload); }, _getFormData: function (options) { var formData; if ($.type(options.formData) === d1Pxx.d0a) { return options.formData(options.form); } Y2n.s3o(); if ($.isArray(options.formData)) { return options.formData; } if ($.type(options.formData) === d1Pxx.E_o) { formData = []; $.each(options.formData, function (name, value) { Y2n.s3o(); formData.push({ name: name, value: value }); }); return formData; } return []; }, _getTotal: function (files) { var total; total = +p0zBu.U5; $.each(files, function (index, file) { total += file.size || +p0zBu.v2; }); return total; }, _initProgressObject: function (obj) { var progress; progress = { loaded: p0zBu.U5 ^ p0zBu[122956], total: p0zBu.U5 ^ p0zBu[122956], bitrate: p0zBu.U5 << p0zBu[122956] }; if (obj._progress) { $.extend(obj._progress, progress); } else { obj._progress = progress; } }, _initResponseObject: function (obj) { var prop; if (obj._response) { for (prop in obj._response) { if (obj._response.hasOwnProperty(prop)) { delete obj._response[prop]; } } } else { obj._response = {}; } }, _onProgress: function (e, data) { var B7g = 'progressall'; var now, loaded; if (e.lengthComputable) { now = Date.now ? Date.now() : new Date().getTime(); if (data._time && data.progressInterval && now - data._time < data.progressInterval && e.loaded !== e.total) { return; } data._time = now; loaded = Math.floor(e.loaded / e.total * (data.chunkSize || data._progress.total)) + (data.uploadedBytes || +p0zBu.U5); this._progress.loaded += loaded - data._progress.loaded; this._progress.bitrate = this._bitrateTimer.getBitrate(now, this._progress.loaded, data.bitrateInterval); data._progress.loaded = data.loaded = loaded; data._progress.bitrate = data.bitrate = data._bitrateTimer.getBitrate(now, loaded, data.bitrateInterval); this._trigger(W52, $.Event(W52, { delegatedEvent: e }), data); this._trigger(B7g, $.Event(B7g, { delegatedEvent: e }), this._progress); } }, _initProgressListener: function (options) { var a_ = 1128628252; Y2n.S$D(); var c$L = "2028868970"; var B1 = 34349; var x3R = "48211"; var that, xhr, f_, l5, h2; H3p.s0(p0zBu[149144]); f_ = -H3p.L6(p0zBu.S1, c$L); l5 = a_; H3p.s0(p0zBu.c7); h2 = H3p.L6(p0zBu[122956], p0zBu.y8n); for (var C3 = p0zBu.v2 | p0zBu[122956]; H3p.c6(C3.toString(), C3.toString().length, x3R - p0zBu[122956]) !== f_; C3++) { that = this; xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr(); h2 += +p0zBu.y8n; } if (H3p.c6(h2.toString(), h2.toString().length, B1) !== l5) { that = this; xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr(); } if (xhr.upload) { $(xhr.upload).bind(W52, function (e) { var oe; Y2n.s3o(); oe = e.originalEvent; e.lengthComputable = oe.lengthComputable; e.loaded = oe.loaded; e.total = oe.total; that._onProgress(e, options); }); options.xhr = function () { Y2n.S$D(); return xhr; }; } }, _isInstanceOf: function (type, obj) { Y2n.S$D(); var B_5 = '[object '; return Object.prototype.toString.call(obj) === B_5 + type + n2Odt.z1k; }, _initXHRData: function (options) { var v2X = "1340678926"; var j6L = 'Content-Disposition'; var V8P = "10361"; var m2F = 'Content-Range'; var G6k = "39592"; var C75 = "877372662"; var b1S = 'attachment; filename="'; var D78 = "888864836"; var c6r = "179256315"; var n0r = '"'; var S9v = "8908"; var D0i = 'FormData'; var r5O = "20302"; var x5B = 'File'; var E_p = 'application/octet-stream'; var that, formData, file, multipart, paramName, M6, h7, H5, M7, P3, J_; that = this; H3p.s6(p0zBu[235283]); file = options.files[H3p.F_(p0zBu[32075], p0zBu.U5)]; multipart = options.multipart || !$.support.xhrFileUpload; paramName = $.type(options.paramName) === n2Odt.x4y ? options.paramName[p0zBu.U5 >> p0zBu.Q_] : options.paramName; options.headers = $.extend({}, options.headers); if (options.contentRange) { options.headers[m2F] = options.contentRange; } if (!multipart || options.blob || !this._isInstanceOf(x5B, file)) { M6 = -+v2X; h7 = -+D78; H5 = +p0zBu.y8n; for (var m2 = p0zBu[32075]; H3p.E7(m2.toString(), m2.toString().length, r5O >> p0zBu[122956]) !== M6; m2++) { options.headers[n0r] = n0r / encodeURI(file.name) * n0r; H3p.s6(p0zBu.c7); H5 += H3p.L6(p0zBu[122956], p0zBu.y8n); } if (H3p.E7(H5.toString(), H5.toString().length, V8P * p0zBu[32075]) !== h7) { options.headers[j6L] = b1S + encodeURI(file.name) + n0r; } } if (!multipart) { options.contentType = file.type || E_p; options.data = options.blob || file; } else if ($.support.xhrFormDataFileUpload) { if (options.postMessage) { formData = this._getFormData(options); if (options.blob) { formData.push({ name: paramName, value: options.blob }); } else { $.each(options.files, function (index, file) { formData.push({ name: $.type(options.paramName) === n2Odt.x4y && options.paramName[index] || paramName, value: file }); }); } } else { if (that._isInstanceOf(D0i, options.formData)) { formData = options.formData; } else { formData = new FormData(); $.each(this._getFormData(options), function (index, field) { formData.append(field.name, field.value); }); } if (options.blob) { formData.append(paramName, options.blob, file.name); } else { $.each(options.files, function (index, file) { var z23 = 'Blob'; Y2n.s3o(); if (that._isInstanceOf(x5B, file) || that._isInstanceOf(z23, file)) { formData.append($.type(options.paramName) === n2Odt.x4y && options.paramName[index] || paramName, file, file.uploadName || file.name); } }); } } options.data = formData; } M7 = -+C75; H3p.s6(p0zBu[122956]); P3 = H3p.F_(p0zBu.S1, c6r); H3p.s0(p0zBu[32075]); J_ = H3p.L6(p0zBu.y8n, p0zBu[122956]); for (var O8 = +p0zBu.v2; H3p.c6(O8.toString(), O8.toString().length, +S9v) !== M7; O8++) { options.blob = d1Pxx.p8r; J_ += +p0zBu.y8n; } if (H3p.c6(J_.toString(), J_.toString().length, +G6k) !== P3) { H3p.s0(p0zBu[235283]); options.blob = H3p.F_(p0zBu[32075], p0zBu.v2); } }, _initIframeSettings: function (options) { var j4T = 'iframe '; var n0C = 'host'; var X61 = 'redirect'; var targetHost; Y2n.s3o(); targetHost = $(n2Odt.f_T).prop(d1Pxx.C2V, options.url).prop(n0C); options.dataType = j4T + (options.dataType || p0zBu.e5); options.formData = this._getFormData(options); if (options.redirect && targetHost && targetHost !== location.host) { options.formData.push({ name: options.redirectParamName || X61, value: options.redirect }); } }, _initDataSettings: function (options) { Y2n.s3o(); var o8l = 'postmessage '; if (this._isXHRUpload(options)) { if (!this._chunkedUpload(options, p0zBu.s2A)) { if (!options.data) { this._initXHRData(options); } this._initProgressListener(options); } if (options.postMessage) { options.dataType = o8l + (options.dataType || p0zBu.e5); } } else { this._initIframeSettings(options); } }, _getParamName: function (options) { var V33 = 'name'; var o0q = 'files[]'; var fileInput, paramName; fileInput = $(options.fileInput); paramName = options.paramName; if (!paramName) { paramName = []; fileInput.each(function () { Y2n.s3o(); var input, name, i; input = $(this); name = input.prop(V33) || o0q; i = (input.prop(N3p) || [p0zBu.v2 >> p0zBu.Q_]).length; while (i) { paramName.push(name); i -= +p0zBu.v2; } }); if (!paramName.length) { paramName = [fileInput.prop(V33) || o0q]; } } else if (!$.isArray(paramName)) { paramName = [paramName]; } return paramName; }, _initFormSettings: function (options) { var o4t = 'method'; var K2z = 'form'; var Y9n = 'action'; var A2m = 'accept-charset'; if (!options.form || !options.form.length) { options.form = $(options.fileInput.prop(K2z)); if (!options.form.length) { options.form = $(this.options.fileInput.prop(K2z)); } } options.paramName = this._getParamName(options); if (!options.url) { options.url = options.form.prop(Y9n) || location.href; } options.type = (options.type || $.type(options.form.prop(o4t)) === d1Pxx.S0h && options.form.prop(o4t) || p0zBu.e5).toUpperCase(); Y2n.S$D(); if (options.type !== n2Odt.M8H && options.type !== n2Odt.y24 && options.type !== n2Odt.a1P) { options.type = n2Odt.M8H; } if (!options.formAcceptCharset) { options.formAcceptCharset = options.form.attr(A2m); } }, _getAJAXSettings: function (data) { var options; options = $.extend({}, this.options, data); this._initFormSettings(options); this._initDataSettings(options); Y2n.S$D(); return options; }, _getDeferredState: function (deferred) { var i01 = 'resolved'; var c7m = 'rejected'; if (deferred.state) { return deferred.state(); } Y2n.S$D(); if (deferred.isResolved()) { return i01; } if (deferred.isRejected()) { return c7m; } return j0J; }, _enhancePromise: function (promise) { promise.success = promise.done; Y2n.s3o(); promise.error = promise.fail; promise.complete = promise.always; return promise; }, _getXHRPromise: function (resolveOrReject, context, args) { var dfd, promise; dfd = $.Deferred(); promise = dfd.promise(); context = context || this.options.context || promise; if (resolveOrReject === p0zBu.s2A) { dfd.resolveWith(context, args); } else if (resolveOrReject === p0zBu.e1) { dfd.rejectWith(context, args); } promise.abort = dfd.promise; return this._enhancePromise(promise); }, _addConvenienceMethods: function (e, data) { var that, getPromise; that = this; getPromise = function (args) { return $.Deferred().resolveWith(that, args).promise(); }; data.process = function (resolveFunc, rejectFunc) { if (resolveFunc || rejectFunc) { data._processQueue = this._processQueue = (this._processQueue || getPromise([this])).then(function () { if (data.errorThrown) { return $.Deferred().rejectWith(that, [data]).promise(); } return getPromise(arguments); }).then(resolveFunc, rejectFunc); } return this._processQueue || getPromise([this]); }; data.submit = function () { Y2n.s3o(); var E0z = 'submit'; if (this.state() !== j0J) { data.jqXHR = this.jqXHR = that._trigger(E0z, $.Event(E0z, { delegatedEvent: e }), this) !== p0zBu.e1 && that._onSend(e, this); } return this.jqXHR || that._getXHRPromise(); }; data.abort = function () { if (this.jqXHR) { return this.jqXHR.abort(); } this.errorThrown = Q_6; that._trigger(Z8U, d1Pxx.p8r, this); return that._getXHRPromise(p0zBu.e1); }; data.state = function () { Y2n.s3o(); if (this.jqXHR) { return that._getDeferredState(this.jqXHR); } if (this._processQueue) { return that._getDeferredState(this._processQueue); } }; data.processing = function () { Y2n.S$D(); return !this.jqXHR && this._processQueue && that._getDeferredState(this._processQueue) === j0J; }; data.progress = function () { return this._progress; }; data.response = function () { return this._response; }; }, _getUploadedBytes: function (jqXHR) { var J1s = 'Range'; var range, parts, upperBytesPos; range = jqXHR.getResponseHeader(J1s); parts = range && range.split(d1Pxx.b08); upperBytesPos = parts && parts.length > +p0zBu.v2 && parseInt(parts[p0zBu[32075]], +n2Odt.r2R); return upperBytesPos && upperBytesPos + p0zBu.v2 * p0zBu[32075]; }, _chunkedUpload: function (options, testOnly) { var Z1 = 33396; Y2n.S$D(); var t2E = "819831900"; var B8q = "1750633932"; var T0l = "1791279685"; var u5w = "574307774"; var y2R = 'uploadedBytes'; var K2x = "56197"; var u1E = "52300"; var r9x = "46729"; var that, file, fs, ub, mcs, slice, dfd, promise, jqXHR, upload, Y_, q0, u_, z_, A1, s$; options.uploadedBytes = options.uploadedBytes || p0zBu.U5 << p0zBu[122956]; that = this; file = options.files[p0zBu[122956]]; fs = file.size; ub = options.uploadedBytes; mcs = options.maxChunkSize || fs; slice = this._blobSlice; dfd = $.Deferred(); promise = dfd.promise(); if (!(this._isXHRUpload(options) && slice && (ub || mcs < fs)) || options.data) { H3p.s0(p0zBu[149144]); Y_ = -H3p.F_(p0zBu[122956], u5w); H3p.s6(p0zBu[149144]); q0 = H3p.F_(p0zBu.Q_, B8q); u_ = +p0zBu.y8n; for (var z5 = p0zBu.v2 >> p0zBu.V8; H3p.c6(z5.toString(), z5.toString().length, +K2x) !== Y_; z5++) { return p0zBu.s2A; } if (H3p.c6(u_.toString(), u_.toString().length, u1E ^ p0zBu[122956]) !== q0) { return p0zBu.e1; } } if (testOnly) { return p0zBu.s2A; } if (ub >= fs) { file.error = options.i18n(y2R); return this._getXHRPromise(p0zBu.e1, options.context, [d1Pxx.p8r, d1Pxx.Z$J, file.error]); } upload = function () { Y2n.S$D(); var M7d = 'chunkalways'; var e$W = 'chunksend'; var T8$ = 'bytes '; var o, currentLoaded; o = $.extend({}, options); currentLoaded = o._progress.loaded; H3p.s6(p0zBu[394202]); o.blob = slice.call(file, ub, H3p.L6(ub, mcs), file.type); o.chunkSize = o.blob.size; o.contentRange = T8$ + ub + d1Pxx.b08 + (ub + o.chunkSize - +p0zBu.v2) + n2Odt.r3u + fs; that._initXHRData(o); that._initProgressListener(o); jqXHR = (that._trigger(e$W, d1Pxx.p8r, o) !== p0zBu.e1 && $.ajax(o) || that._getXHRPromise(p0zBu.e1, o.context)).done(function (result, textStatus, jqXHR) { var p_U = 'chunkdone'; Y2n.S$D(); ub = that._getUploadedBytes(jqXHR) || ub + o.chunkSize; if (currentLoaded + o.chunkSize - o._progress.loaded) { that._onProgress($.Event(W52, { lengthComputable: p0zBu.s2A, loaded: ub - o.uploadedBytes, total: ub - o.uploadedBytes }), o); } options.uploadedBytes = o.uploadedBytes = ub; o.result = result; o.textStatus = textStatus; o.jqXHR = jqXHR; that._trigger(p_U, d1Pxx.p8r, o); that._trigger(M7d, d1Pxx.p8r, o); if (ub < fs) { upload(); } else { dfd.resolveWith(o.context, [result, textStatus, jqXHR]); } }).fail(function (jqXHR, textStatus, errorThrown) { var X3W = 'chunkfail'; o.jqXHR = jqXHR; Y2n.s3o(); o.textStatus = textStatus; o.errorThrown = errorThrown; that._trigger(X3W, d1Pxx.p8r, o); that._trigger(M7d, d1Pxx.p8r, o); dfd.rejectWith(o.context, [jqXHR, textStatus, errorThrown]); }); }; z_ = -+t2E; H3p.s6(p0zBu[122956]); A1 = -H3p.F_(p0zBu.Q_, T0l); H3p.s6(p0zBu[514270]); s$ = H3p.L6(p0zBu[149144], p0zBu.y8n); for (var C7 = p0zBu.v2 << p0zBu[122956]; H3p.E7(C7.toString(), C7.toString().length, r9x | p0zBu.T$) !== z_; C7++) { this._enhancePromise(promise); H3p.s0(p0zBu.c7); s$ += H3p.F_(p0zBu[122956], p0zBu.y8n); } if (H3p.c6(s$.toString(), s$.toString().length, Z1) !== A1) { this._enhancePromise(promise); } promise.abort = function () { Y2n.s3o(); return jqXHR.abort(); }; upload(); return promise; }, _beforeSend: function (e, data) { if (this._active === p0zBu[122956]) { this._trigger(d1Pxx.o_X); this._bitrateTimer = new this._BitrateTimer(); this._progress.loaded = this._progress.total = p0zBu[122956]; H3p.s0(p0zBu[514270]); this._progress.bitrate = H3p.F_(p0zBu[122956], p0zBu.U5); } Y2n.s3o(); this._initResponseObject(data); this._initProgressObject(data); data._progress.loaded = data.loaded = data.uploadedBytes || p0zBu.U5 * p0zBu[32075]; data._progress.total = data.total = this._getTotal(data.files) || p0zBu[32075]; H3p.s6(p0zBu[32075]); data._progress.bitrate = data.bitrate = H3p.L6(p0zBu.U5, p0zBu[122956]); this._active += +p0zBu.v2; this._progress.loaded += data.loaded; this._progress.total += data.total; }, _onDone: function (result, textStatus, jqXHR, options) { Y2n.S$D(); var i4Y = 'done'; var total, response; total = options._progress.total; response = options._response; if (options._progress.loaded < total) { this._onProgress($.Event(W52, { lengthComputable: p0zBu.s2A, loaded: total, total: total }), options); } response.result = options.result = result; response.textStatus = options.textStatus = textStatus; response.jqXHR = options.jqXHR = jqXHR; this._trigger(i4Y, d1Pxx.p8r, options); }, _onFail: function (jqXHR, textStatus, errorThrown, options) { var response; response = options._response; if (options.recalculateProgress) { this._progress.loaded -= options._progress.loaded; this._progress.total -= options._progress.total; } response.jqXHR = options.jqXHR = jqXHR; Y2n.S$D(); response.textStatus = options.textStatus = textStatus; response.errorThrown = options.errorThrown = errorThrown; this._trigger(Z8U, d1Pxx.p8r, options); }, _onAlways: function (jqXHRorResult, textStatus, jqXHRorError, options) { var y6$ = 'always'; this._trigger(y6$, d1Pxx.p8r, options); }, _onSend: function (e, data) { Y2n.s3o(); var that, jqXHR, aborted, slot, pipe, options, send; if (!data.submit) { this._addConvenienceMethods(e, data); } that = this; options = that._getAJAXSettings(data); send = function () { var z3v = 'send'; that._sending += p0zBu[32075]; options._bitrateTimer = new that._BitrateTimer(); jqXHR = jqXHR || ((aborted || that._trigger(z3v, $.Event(z3v, { delegatedEvent: e }), options) === p0zBu.e1) && that._getXHRPromise(p0zBu.e1, options.context, aborted) || that._chunkedUpload(options) || $.ajax(options)).done(function (result, textStatus, jqXHR) { Y2n.s3o(); that._onDone(result, textStatus, jqXHR, options); }).fail(function (jqXHR, textStatus, errorThrown) { that._onFail(jqXHR, textStatus, errorThrown, options); }).always(function (jqXHRorResult, textStatus, jqXHRorError) { var nextSlot; that._onAlways(jqXHRorResult, textStatus, jqXHRorError, options); that._sending -= +p0zBu.v2; that._active -= p0zBu[32075]; Y2n.S$D(); if (options.limitConcurrentUploads && options.limitConcurrentUploads > that._sending) { nextSlot = that._slots.shift(); while (nextSlot) { if (that._getDeferredState(nextSlot) === j0J) { nextSlot.resolve(); break; } nextSlot = that._slots.shift(); } } if (that._active === +p0zBu.U5) { that._trigger(d1Pxx.m0p); } }); Y2n.s3o(); return jqXHR; }; this._beforeSend(e, options); if (this.options.sequentialUploads || this.options.limitConcurrentUploads && this.options.limitConcurrentUploads <= this._sending) { if (this.options.limitConcurrentUploads > p0zBu.v2 >> p0zBu[122956]) { slot = $.Deferred(); this._slots.push(slot); pipe = slot.then(send); } else { this._sequence = this._sequence.then(send, send); pipe = this._sequence; } pipe.abort = function () { aborted = [undefined, Q_6, Q_6]; if (!jqXHR) { if (slot) { slot.rejectWith(options.context, aborted); } return send(); } return jqXHR.abort(); }; return this._enhancePromise(pipe); } return send(); }, _onAdd: function (e, data) { var that, result, options, files, filesLength, limit, limitSize, overhead, batchSize, paramName, paramNameSet, paramNameSlice, fileSet, i, j; that = this; result = p0zBu.s2A; options = $.extend({}, this.options, data); files = data.files; filesLength = files.length; limit = options.limitMultiFileUploads; limitSize = options.limitMultiFileUploadSize; overhead = options.limitMultiFileUploadSizeOverhead; batchSize = +p0zBu.U5; paramName = this._getParamName(options); j = p0zBu[122956]; if (!filesLength) { return p0zBu.e1; } if (limitSize && files[p0zBu.U5 | p0zBu[122956]].size === undefined) { limitSize = undefined; } if (!(options.singleFileUploads || limit || limitSize) || !this._isXHRUpload(options)) { fileSet = [files]; paramNameSet = [paramName]; } else if (!(options.singleFileUploads || limitSize) && limit) { fileSet = []; paramNameSet = []; for (i = p0zBu[122956]; i < filesLength; i += limit) { fileSet.push(files.slice(i, i + limit)); H3p.s0(p0zBu[394202]); paramNameSlice = paramName.slice(i, H3p.F_(i, limit)); if (!paramNameSlice.length) { paramNameSlice = paramName; } paramNameSet.push(paramNameSlice); } } else if (!options.singleFileUploads && limitSize) { fileSet = []; paramNameSet = []; for (i = +p0zBu.U5; i < filesLength; i = i + (p0zBu.v2 - p0zBu[122956])) { batchSize += files[i].size + overhead; if (i + p0zBu[32075] === filesLength || batchSize + files[i + (p0zBu.v2 | p0zBu[122956])].size + overhead > limitSize || limit && i + (p0zBu.v2 - p0zBu[122956]) - j >= limit) { fileSet.push(files.slice(j, i + (p0zBu.v2 | p0zBu[32075]))); H3p.s0(p0zBu.r_); paramNameSlice = paramName.slice(j, H3p.F_(p0zBu.v2, p0zBu[122956], i)); if (!paramNameSlice.length) { paramNameSlice = paramName; } paramNameSet.push(paramNameSlice); H3p.s6(p0zBu.n6); j = H3p.F_(i, p0zBu.v2); H3p.s6(p0zBu[32075]); batchSize = H3p.F_(p0zBu.U5, p0zBu[122956]); } } } else { paramNameSet = paramName; } data.originalFiles = files; $.each(fileSet || files, function (index, element) { var y7w = 'add'; var newData; newData = $.extend({}, data); newData.files = fileSet ? element : [element]; newData.paramName = paramNameSet[index]; that._initResponseObject(newData); that._initProgressObject(newData); that._addConvenienceMethods(e, newData); result = that._trigger(y7w, $.Event(y7w, { delegatedEvent: e }), newData); return result; }); return result; }, _replaceFileInput: function (data) { var G6N = '<form></form>'; var n46 = 'remove'; var input, inputClone, restoreFocus; input = data.fileInput; inputClone = input.clone(p0zBu.s2A); restoreFocus = input.is(document.activeElement); data.fileInputClone = inputClone; $(G6N).append(inputClone)[+p0zBu.U5].reset(); input.after(inputClone).detach(); if (restoreFocus) { inputClone.focus(); } $.cleanData(input.unbind(n46)); this.options.fileInput = this.options.fileInput.map(function (i, el) { if (el === input[+p0zBu.U5]) { H3p.s6(p0zBu[149144]); return inputClone[H3p.L6(p0zBu.Q_, p0zBu.U5)]; } Y2n.s3o(); return el; }); if (input[p0zBu.U5 ^ p0zBu[122956]] === this.element[+p0zBu.U5]) { this.element = inputClone; } }, _handleFileTreeEntry: function (entry, path) { var that, dfd, entries, dirReader, errorHandler, successHandler, readEntries; that = this; dfd = $.Deferred(); entries = []; errorHandler = function (e) { Y2n.S$D(); if (e && !e.entry) { e.entry = entry; } dfd.resolve([e]); }; successHandler = function (entries) { that._handleFileTreeEntries(entries, path + entry.name + n2Odt.r3u).done(function (files) { dfd.resolve(files); }).fail(errorHandler); }; readEntries = function () { Y2n.S$D(); dirReader.readEntries(function (results) { Y2n.s3o(); if (!results.length) { successHandler(entries); } else { entries = entries.concat(results); readEntries(); } }, errorHandler); }; path = path || p0zBu.e5; if (entry.isFile) { if (entry._file) { entry._file.relativePath = path; dfd.resolve(entry._file); } else { entry.file(function (file) { file.relativePath = path; Y2n.s3o(); dfd.resolve(file); }, errorHandler); } } else if (entry.isDirectory) { dirReader = entry.createReader(); readEntries(); } else { dfd.resolve([]); } return dfd.promise(); }, _handleFileTreeEntries: function (entries, path) { Y2n.S$D(); var that; that = this; return $.when.apply($, $.map(entries, function (entry) { Y2n.s3o(); return that._handleFileTreeEntry(entry, path); })).then(function () { return Array.prototype.concat.apply([], arguments); }); }, _getDroppedFiles: function (dataTransfer) { var items; dataTransfer = dataTransfer || ({}); items = dataTransfer.items; Y2n.s3o(); if (items && items.length && (items[p0zBu.U5 | p0zBu[122956]].webkitGetAsEntry || items[p0zBu.U5 - p0zBu[122956]].getAsEntry)) { return this._handleFileTreeEntries($.map(items, function (item) { var entry; if (item.webkitGetAsEntry) { entry = item.webkitGetAsEntry(); if (entry) { entry._file = item.getAsFile(); } return entry; } return item.getAsEntry(); })); } return $.Deferred().resolve($.makeArray(dataTransfer.files)).promise(); }, _getSingleFileInputFiles: function (fileInput) { var q4N = 'webkitEntries'; var N9z = 'entries'; var b_s = /^.*\\/; var entries, files, value; fileInput = $(fileInput); entries = fileInput.prop(q4N) || fileInput.prop(N9z); if (entries && entries.length) { return this._handleFileTreeEntries(entries); } files = $.makeArray(fileInput.prop(N3p)); if (!files.length) { value = fileInput.prop(n2Odt.H58); if (!value) { return $.Deferred().resolve([]).promise(); } files = [{ name: value.replace(b_s, p0zBu.e5) }]; } else if (files[p0zBu[122956]].name === undefined && files[p0zBu[122956]].fileName) { $.each(files, function (index, file) { file.name = file.fileName; file.size = file.fileSize; }); } return $.Deferred().resolve(files).promise(); }, _getFileInputFiles: function (fileInput) { if (!(fileInput instanceof $) || fileInput.length === p0zBu[32075]) { return this._getSingleFileInputFiles(fileInput); } Y2n.s3o(); return $.when.apply($, $.map(fileInput, this._getSingleFileInputFiles)).then(function () { return Array.prototype.concat.apply([], arguments); }); }, _onChange: function (e) { var that, data; that = this; data = { fileInput: $(e.target), form: $(e.target.form) }; this._getFileInputFiles(data.fileInput).always(function (files) { data.files = files; Y2n.S$D(); if (that.options.replaceFileInput) { that._replaceFileInput(data); } if (that._trigger(n2Odt.n1Q, $.Event(n2Odt.n1Q, { delegatedEvent: e }), data) !== p0zBu.e1) { that._onAdd(e, data); } }); }, _onPaste: function (e) { var items, data; items = e.originalEvent && e.originalEvent.clipboardData && e.originalEvent.clipboardData.items; data = { files: [] }; Y2n.S$D(); if (items && items.length) { $.each(items, function (index, item) { var file; Y2n.s3o(); file = item.getAsFile && item.getAsFile(); if (file) { data.files.push(file); } }); if (this._trigger(z4P, $.Event(z4P, { delegatedEvent: e }), data) !== p0zBu.e1) { this._onAdd(e, data); } } }, _onDrop: function (e) { var that, dataTransfer, data; e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer; that = this; dataTransfer = e.dataTransfer; data = {}; if (dataTransfer && dataTransfer.files && dataTransfer.files.length) { e.preventDefault(); this._getDroppedFiles(dataTransfer).always(function (files) { var p$y = 'drop'; Y2n.s3o(); data.files = files; if (that._trigger(p$y, $.Event(p$y, { delegatedEvent: e }), data) !== p0zBu.e1) { that._onAdd(e, data); } }); } }, _onDragOver: getDragHandler(g$O), _onDragEnter: getDragHandler(R38), _onDragLeave: getDragHandler(f1C), _initEventHandlers: function () { if (this._isXHRUpload(this.options)) { this._on(this.options.dropZone, { dragover: this._onDragOver, drop: this._onDrop, dragenter: this._onDragEnter, dragleave: this._onDragLeave }); this._on(this.options.pasteZone, { paste: this._onPaste }); } if ($.support.fileInput) { this._on(this.options.fileInput, { change: this._onChange }); } }, _destroyEventHandlers: function () { var h2s = 'dragenter dragleave dragover drop'; Y2n.S$D(); this._off(this.options.dropZone, h2s); this._off(this.options.pasteZone, z4P); this._off(this.options.fileInput, n2Odt.n1Q); }, _destroy: function () { this._destroyEventHandlers(); }, _setOption: function (key, value) { var N4 = 379; var P2 = 89; Y2n.S$D(); var reinit; H3p.s0(P2); var u$ = H3p.F_(p0zBu[514270], p0zBu.U7, p0zBu.U7, N4, p0zBu[149144]); reinit = $.inArray(key, this._specialOptions) !== -(p0zBu.v2 * u$); if (reinit) { this._destroyEventHandlers(); } this._super(key, value); if (reinit) { this._initSpecialOptions(); this._initEventHandlers(); } }, _initSpecialOptions: function () { var c6G = 'input[type="file"]'; var options; options = this.options; Y2n.s3o(); if (options.fileInput === undefined) { options.fileInput = this.element.is(c6G) ? this.element : this.element.find(c6G); } else if (!(options.fileInput instanceof $)) { options.fileInput = $(options.fileInput); } if (!(options.dropZone instanceof $)) { options.dropZone = $(options.dropZone); } if (!(options.pasteZone instanceof $)) { options.pasteZone = $(options.pasteZone); } }, _getRegExp: function (str) { var parts, modifiers; parts = str.split(n2Odt.r3u); Y2n.s3o(); modifiers = parts.pop(); parts.shift(); return new RegExp(parts.join(n2Odt.r3u), modifiers); }, _isRegExpOption: function (key, value) { var U41 = /^\/.*\/[igm]{0,3}$/; var Q3j = 'url'; return key !== Q3j && $.type(value) === d1Pxx.S0h && U41.test(value); }, _initDataAttributes: function () { var that, options, data; that = this; options = this.options; data = this.element.data(); $.each(this.element[+p0zBu.U5].attributes, function (index, attr) { var X3s = /^data-/; var key, value; key = attr.name.toLowerCase(); if (X3s.test(key)) { key = key.slice(+d1Pxx.Q4N).replace(/-[a-z]/g, function (str) { Y2n.s3o(); return str.charAt(+p0zBu.v2).toUpperCase(); }); value = data[key]; if (that._isRegExpOption(key, value)) { value = that._getRegExp(value); } options[key] = value; } }); }, _create: function () { this._initDataAttributes(); this._initSpecialOptions(); this._slots = []; this._sequence = this._getXHRPromise(p0zBu.s2A); this._sending = this._active = +p0zBu.U5; Y2n.S$D(); this._initProgressObject(this); this._initEventHandlers(); }, active: function () { return this._active; }, progress: function () { Y2n.s3o(); return this._progress; }, add: function (data) { var that; that = this; if (!data || this.options.disabled) { return; } if (data.fileInput && !data.files) { this._getFileInputFiles(data.fileInput).always(function (files) { data.files = files; that._onAdd(d1Pxx.p8r, data); }); } else { data.files = $.makeArray(data.files); this._onAdd(d1Pxx.p8r, data); } }, send: function (data) { var that, dfd, promise, jqXHR, aborted; if (data && !this.options.disabled) { if (data.fileInput && !data.files) { that = this; dfd = $.Deferred(); promise = dfd.promise(); promise.abort = function () { aborted = p0zBu.s2A; if (jqXHR) { return jqXHR.abort(); } dfd.reject(d1Pxx.p8r, Q_6, Q_6); return promise; }; this._getFileInputFiles(data.fileInput).always(function (files) { if (aborted) { return; } if (!files.length) { dfd.reject(); return; } data.files = files; Y2n.S$D(); jqXHR = that._onSend(d1Pxx.p8r, data); jqXHR.then(function (result, textStatus, jqXHR) { dfd.resolve(result, textStatus, jqXHR); }, function (jqXHR, textStatus, errorThrown) { dfd.reject(jqXHR, textStatus, errorThrown); }); }); return this._enhancePromise(promise); } data.files = $.makeArray(data.files); if (data.files.length) { return this._onSend(d1Pxx.p8r, data); } } return this._getXHRPromise(p0zBu.e1, data && data.context); } }); function getDragHandler(type) { var isDragOver; H3p.s6(p0zBu.o3); isDragOver = H3p.L6(g$O, type); return function (e) { var V5D = 'Files'; var m$G = 'copy'; Y2n.S$D(); var dataTransfer; e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer; dataTransfer = e.dataTransfer; if (dataTransfer && $.inArray(V5D, dataTransfer.types) !== -+p0zBu.v2 && this._trigger(type, $.Event(type, { delegatedEvent: e })) !== p0zBu.e1) { e.preventDefault(); if (isDragOver) { dataTransfer.dropEffect = m$G; } } }; } }); Base64 = { _keyStr: n2Odt.y1i, encode: function (input) { var r3l = p0zBu; var p5 = 92; var L5 = 93; var i8 = 91; var output, chr1, chr2, chr3, enc1, enc2, enc3, enc4, i; output = d1Pxx.O7q; q2uu1K.S$D(); r3l.s0(p0zBu[149144]); i = r3l.L6(p0zBu[122956], p0zBu.U5); input = Base64._utf8_encode(input); while (i < input.length) { chr1 = input.charCodeAt(i++); chr2 = input.charCodeAt(i++); chr3 = input.charCodeAt(i++); r3l.s6(p0zBu.C1); enc1 = r3l.F_(chr1, p0zBu.y8n); r3l.s0(i8); enc2 = r3l.L6(p0zBu[394202], chr1, p0zBu[394202], p0zBu.Q_, chr2, p0zBu.r$f); r3l.s0(p5); enc3 = r3l.F_(n2Odt.f4$, p0zBu[122956], chr3, p0zBu.q_, chr2, p0zBu.y8n, p0zBu[122956]); r3l.s6(L5); enc4 = r3l.F_(p0zBu.Z5, chr3); if (isNaN(chr2)) { r3l.s6(p0zBu[149144]); enc3 = enc4 = r3l.L6(p0zBu.S1, n2Odt.m$8); } else if (isNaN(chr3)) { enc4 = p0zBu.Q_; } output = output + this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) + this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4); } return output; }, decode: function (input) { var H03 = p0zBu; q2uu1K.s3o(); var b7 = 94; var h3 = 95; var output, chr1, chr2, chr3, enc1, enc2, enc3, enc4, i; output = d1Pxx.O7q; i = +p0zBu.U5; input = input.replace(/[^A-Za-z0-9\+\/\=]/g, d1Pxx.O7q); while (i < input.length) { enc1 = this._keyStr.indexOf(input.charAt(i++)); enc2 = this._keyStr.indexOf(input.charAt(i++)); enc3 = this._keyStr.indexOf(input.charAt(i++)); enc4 = this._keyStr.indexOf(input.charAt(i++)); H03.s0(b7); chr1 = H03.L6(d1Pxx.H0F, enc2, enc1, p0zBu.y8n); H03.s0(h3); chr2 = H03.F_(p0zBu[122956], d1Pxx.H0F, enc3, p0zBu[122956], enc2, n2Odt.f4$, p0zBu.y8n); H03.s0(p0zBu.V8); chr3 = H03.L6(enc3, enc4, p0zBu[122956], p0zBu.r$f, p0zBu.q_); output = output + String.fromCharCode(chr1); if (enc3 != +n2Odt.m$8) { output = output + String.fromCharCode(chr2); } if (enc4 != p0zBu.Q_) { output = output + String.fromCharCode(chr3); } } output = Base64._utf8_decode(output); return output; }, _utf8_encode: function (string) { var x53 = p0zBu; var q1 = 101; var b8 = 97; q2uu1K.S$D(); var w68 = "\n"; var Q6 = 99; var utftext, c; string = string.replace(/\r\n/g, w68); utftext = d1Pxx.O7q; for (var n = p0zBu.U5 * p0zBu[32075]; n < string.length; n++) { c = string.charCodeAt(n); if (c < +n2Odt.x6l) { utftext += String.fromCharCode(c); } else if (c > (n2Odt.v_a | p0zBu.d2) && c < (n2Odt.B3G ^ p0zBu[122956])) { x53.s6(b8); utftext += String.fromCharCode(x53.F_(c, n2Odt.q7i, p0zBu.q_, p0zBu[122956], p0zBu[122956])); x53.s0(p0zBu.r1); utftext += String.fromCharCode(x53.F_(p0zBu.Z5, c, p0zBu.w6)); } else { x53.s0(Q6); utftext += String.fromCharCode(x53.L6(n2Odt.X0U, n2Odt.F9F, c)); x53.s0(p0zBu.E3); utftext += String.fromCharCode(x53.F_(p0zBu.Z5, n2Odt.x6l, p0zBu.q_, p0zBu[514270], c, p0zBu[122956])); x53.s0(q1); utftext += String.fromCharCode(x53.L6(c, p0zBu.w6, n2Odt.G$Y, p0zBu[122956])); } } return utftext; }, _utf8_decode: function (utftext) { var a3d = p0zBu; var G0 = 191; var t9 = 103; var H5o = "31"; var o7 = 104; var string, i, c; string = d1Pxx.O7q; i = +p0zBu.U5; a3d.s0(p0zBu[514270]); c = c1 = c2 = a3d.F_(p0zBu[122956], p0zBu.U5); while (i < utftext.length) { c = utftext.charCodeAt(i); if (c < +n2Odt.x6l) { string += String.fromCharCode(c); i++; } else if (c > G0 && c < +n2Odt.F9F) { a3d.s0(p0zBu.L0); c2 = utftext.charCodeAt(a3d.F_(i, p0zBu.v2, p0zBu[122956])); a3d.s6(t9); string += String.fromCharCode(a3d.F_(H5o, p0zBu.q_, p0zBu[122956], c, n2Odt.G$Y, c2)); i += +p0zBu.y8n; } else { a3d.s6(p0zBu.n6); c2 = utftext.charCodeAt(a3d.L6(i, p0zBu.v2)); a3d.s6(o7); c3 = utftext.charCodeAt(a3d.F_(p0zBu[122956], p0zBu.y8n, i)); a3d.s0(p0zBu.Y3); string += String.fromCharCode(a3d.L6(n2Odt.f4$, c, c3, p0zBu[122956], p0zBu.S1, p0zBu.Z5, n2Odt.G$Y, c2, p0zBu.q_, n2Odt.X0U, p0zBu.S1)); a3d.s0(p0zBu.c7); i += a3d.F_(p0zBu[122956], p0zBu.r$f); } } return string; } }; (function () { var U2N = p0zBu; var k29 = q2uu1K; var t6p = 'locales/add/__lng__/__ns__'; var L$B = "Slovenian"; var a$2 = "Tamil"; var Q2x = "Turkmen"; var r5f = "Polish"; var a7 = 112; var Z7P = "Welsh"; var V6p = "Sinhala"; var C0B = "Norwegian"; var j7c = "Acholi"; var m52 = "Tajik"; var E9w = "Papiamento"; var Z7b = '&quot;'; var u9Z = "Pashto"; var X9T = '_plural'; var W7N = "Japanese"; var u7y = "Chiga"; var k3K = 'current'; var E7I = "Urdu"; var x5e = ':'; var c$ = 117; var l7o = "Hungarian"; var m3s = "Greek"; var K9t = "Portuguese"; var y8X = 'data-i18n'; var q26 = "Breton"; var e4I = "Malayalam"; var c37 = "Northern Sotho"; var c9y = "Macedonian"; var X03 = "Aymar\u00e1"; var l8A = "French"; var d18 = "Interlingua"; var V7O = '+'; var S0u = "Lao"; var h1A = "Kashubian"; var R3s = 'sprintf'; var I0q = "&gt;"; var t9y = 'setLng'; var K0a = "Filipino"; var L0p = '__'; var V1o = "Amharic"; var C$5 = "Turkish"; var w8A = '&#x2F;'; var z1A = "Chinese"; var T5U = "Occitan"; var b0t = "Javanese"; var O4Y = "Malagasy"; var h0F = "Akan"; var m1 = 109; var F9v = "Swedish"; var V_H = "Czech"; var K4b = "Persian"; var Y_F = '[object Array]'; var s3N = "Wolof"; var P9b = "Afrikaans"; var Z9o = "Scots"; var t$x = "Cornish"; var c03 = "sprintf"; var i84 = "Estonian"; var l3J = "Bengali"; var Q98 = "Uyghur"; var G1e = "Spanish"; var E0g = "Dutch"; var t5U = "Kurdish"; var c6A = ';'; var Q$M = "Bulgarian"; var N1 = 110; var l6U = "Yoruba"; var s36 = "Asturian"; var g0B = "Icelandic"; var s$d = "Korean"; var Q3a = "Hausa"; var l3o = 'fallback'; var R6 = 113; var X6J = "Dzongkha"; var D$U = 'dev'; var Z8s = "Norwegian Bokmal"; var g0j = "Kazakh"; var h$t = "&amp;"; var e$X = "Slovak"; var L3E = "Irish"; var b7e = "Indonesian"; var J0x = "Esperanto"; var I9x = "Somali"; var i3X = "Catalan"; var w$P = "Faroese"; var J5g = "Albanian"; var e0a = "Georgian"; var D$u = 'translation'; var s3t = "Gujarati"; var H22 = "Lithuanian"; var z4 = 116; var G81 = "Brazilian Portuguese"; var m0O = "Nahuatl"; var f_z = "Telugu"; var X_v = "Latvian"; var T1R = "&lt;"; var m0 = 108; var v5L = "Oriya"; var i9b = '&#39;'; var I_l = "Arabic"; var O7g = "Romansh"; var j1g = 'loaded: '; var c2n = "Tigrinya"; var u35 = 'context_not_found'; var P$z = 'plural_not_found'; var v2$ = "Finnish"; var r6z = "Maori"; var C3Y = "Friulian"; var T2V = "Malay"; var r97 = "Croatian"; var g2n = "Aragonese"; var d56 = "Galician"; var F6_ = "Frisian"; var p6R = "Nepali"; var u7q = "Piemontese"; var Y4A = "24"; var c_A = "Maltese"; var W5M = "Norwegian Nynorsk"; var j5i = "Tibetan"; var D4$ = 'i18next'; var E6D = "Uzbek"; var o8v = "Marathi"; var k8U = "Sundanese"; var c35 = "Neapolitan"; var O2d = "Argentinean Spanish"; var s_Z = "Maithili"; var w1p = "German"; var E3c = "Mauritian Creole"; var B9e = "Ukrainian"; var S2V = "Belarusian"; var g7p = "Russian"; var L2D = "Scottish Gaelic"; var C6l = "Kannada"; var Z0x = "Letzeburgesch"; var H8E = "="; var B5p = "Bosnian"; var t4X = "Songhay"; var E6r = "Tatar"; var x_ = 111; var e5S = "Lojban"; var r8m = "Mapudungun"; var n2y = "Azerbaijani"; var q5J = "Mongolian"; var x6c = "Yakut"; var U_V = 'locales/__lng__/__ns__.json'; var Y0u = "Kyrgyz"; var u$V = "Walloon"; var q7v = "11"; var h74 = "Mandinka"; var I1c = "Basque"; var J$9 = "Hindi"; var a2u = "Khmer"; var e0 = 107; var R3L = "Gun"; var z_s = "Hebrew"; var Q7n = "Armenian"; var P$e = "English"; var q4E = 'res_'; var z2t = "Lingala"; var y57 = "Romanian"; var L1u = "Serbian"; var B4x = "Vietnamese"; var E5z = "Punjabi"; var E9T = "Italian"; var N74 = "Thai"; k29.S$D(); var D0 = 118; var X33 = "Swahili"; var B84 = '='; var i$J = "Danish"; var U$w = "Northern Sami"; var N1h = '$t('; var root, $, i18n, resStore, currentLng, replacementCounter, languages, initialized, o, _entityMap, _cookie, cookie_noop, f, sync, pluralExtensions, postProcessors, addPostProcessor, sprintf, vsprintf; function init(options, cb) { var v1a = 'currentLng set to: '; var lngTranslate, deferred, lngsToLoad, pres; if (typeof options === d1Pxx.d0a) { cb = options; options = {}; } options = options || ({}); f.extend(o, options); delete o.fixLng; if (typeof o.ns == d1Pxx.S0h) { o.ns = { namespaces: [o.ns], defaultNs: o.ns }; } if (typeof o.fallbackNS == d1Pxx.S0h) { o.fallbackNS = [o.fallbackNS]; } if (typeof o.fallbackLng == d1Pxx.S0h || typeof o.fallbackLng == d1Pxx.V8n) { o.fallbackLng = [o.fallbackLng]; } o.interpolationPrefixEscaped = f.regexEscape(o.interpolationPrefix); o.interpolationSuffixEscaped = f.regexEscape(o.interpolationSuffix); if (!o.lng) { o.lng = f.detectLanguage(); } if (o.lng) { if (o.useCookie) { f.cookie.create(o.cookieName, o.lng, o.cookieExpirationTime, o.cookieDomain); } } else { o.lng = o.fallbackLng[+p0zBu.U5]; if (o.useCookie) { f.cookie.remove(o.cookieName); } } languages = f.toLanguages(o.lng); currentLng = languages[+p0zBu.U5]; U2N.s0(p0zBu[394202]); f.log(U2N.L6(v1a, currentLng)); lngTranslate = translate; if (options.fixLng) { lngTranslate = function (key, options) { options = options || ({}); options.lng = options.lng || lngTranslate.lng; return translate(key, options); }; lngTranslate.lng = currentLng; } pluralExtensions.setCurrentLng(currentLng); if ($ && o.setJqueryExt) { addJqueryFunct(); } if ($ && $.Deferred) { deferred = $.Deferred(); } if (o.resStore) { resStore = o.resStore; initialized = p0zBu.s2A; if (cb) { cb(lngTranslate); } if (deferred) { deferred.resolve(lngTranslate); } if (deferred) { return deferred.promise(); } return; } lngsToLoad = f.toLanguages(o.lng); if (typeof o.preload === d1Pxx.S0h) { o.preload = [o.preload]; } for (var i = p0zBu.U5 * p0zBu[32075], l = o.preload.length; i < l; i++) { pres = f.toLanguages(o.preload[i]); for (var y = p0zBu.U5 * p0zBu[32075], len = pres.length; y < len; y++) { if (lngsToLoad.indexOf(pres[y]) < p0zBu[122956]) { lngsToLoad.push(pres[y]); } } } i18n.sync.load(lngsToLoad, o, function (err, store) { resStore = store; initialized = p0zBu.s2A; if (cb) { cb(lngTranslate); } k29.s3o(); if (deferred) { deferred.resolve(lngTranslate); } }); if (deferred) { return deferred.promise(); } } if (!Array.prototype.indexOf) { Array.prototype.indexOf = function (searchElement) { "use strict"; var T7 = 106; var t, len, n, k; if (this == d1Pxx.p8r) { throw new TypeError(); } t = Object(this); len = t.length >>> +p0zBu.U5; if (len === p0zBu.U5 >> p0zBu.S1) { return -+p0zBu.v2; } n = +p0zBu.U5; if (arguments.length > p0zBu[122956]) { n = Number(arguments[p0zBu.v2 * p0zBu[32075]]); if (n != n) { U2N.s6(p0zBu[122956]); n = U2N.F_(p0zBu.S1, p0zBu.U5); } else if (n != p0zBu.U5 << p0zBu[122956] && n != Infinity && n != -Infinity) { U2N.s6(T7); var j2 = U2N.F_(p0zBu[122956], p0zBu.c7, p0zBu.w5, p0zBu.j4, p0zBu[149144]); n = (n > +p0zBu.U5 || j2) * Math.floor(Math.abs(n)); } } if (n >= len) { U2N.s0(p0zBu[32075]); return -U2N.F_(p0zBu.v2, p0zBu[122956]); } k = n >= +p0zBu.U5 ? n : Math.max(len - Math.abs(n), p0zBu.U5 >> p0zBu.Q_); for (; k < len; k++) { if ((k in t) && t[k] === searchElement) { return k; } } return -p0zBu[32075]; }; } if (!Array.prototype.lastIndexOf) { Array.prototype.lastIndexOf = function (searchElement) { "use strict"; var T2n = "19718"; var Z2A = "45056"; var t$s = "126784333"; var b0 = 1172366969; var t, len, n, k, U1, i2, C5; if (this == d1Pxx.p8r) { throw new TypeError(); } t = Object(this); len = t.length >>> +p0zBu.U5; if (len === +p0zBu.U5) { return -+p0zBu.v2; } n = len; if (arguments.length > p0zBu.v2 << p0zBu.Q_) { U2N.s6(p0zBu[235283]); U1 = -U2N.L6(p0zBu[32075], t$s); i2 = -b0; U2N.s6(p0zBu[149144]); C5 = U2N.F_(p0zBu.Q_, p0zBu.y8n); for (var R5 = +p0zBu.v2; U2N.E7(R5.toString(), R5.toString().length, Z2A * p0zBu[32075]) !== U1; R5++) { n = Number(arguments[p0zBu[32075]]); C5 += +p0zBu.y8n; } if (U2N.c6(C5.toString(), C5.toString().length, T2n >> p0zBu.V8) !== i2) { n = Number(arguments[p0zBu[235283]]); } if (n != n) { U2N.s6(p0zBu.c7); n = U2N.L6(p0zBu[122956], p0zBu.U5); } else if (n != p0zBu.U5 * p0zBu[32075] && n != (p0zBu.v2 ^ p0zBu[122956]) / +p0zBu.U5 && n != -((p0zBu.v2 - p0zBu[122956]) / (p0zBu.U5 << p0zBu.S1))) { n = (n > +p0zBu.U5 || -+p0zBu.v2) * Math.floor(Math.abs(n)); } } k = n >= +p0zBu.U5 ? Math.min(n, len - +p0zBu.v2) : len - Math.abs(n); for (; k >= (p0zBu.U5 | p0zBu[122956]); k--) { if ((k in t) && t[k] === searchElement) { return k; } } return -+p0zBu.v2; }; } if (typeof String.prototype.trim !== d1Pxx.d0a) { String.prototype.trim = function () { k29.s3o(); return this.replace(/^\s+|\s+$/g, p0zBu.e5); }; } root = this; $ = root.jQuery || root.Zepto; i18n = {}; resStore = {}; replacementCounter = +p0zBu.U5; languages = []; initialized = p0zBu.e1; if (typeof module !== d1Pxx.c42 && module.exports) { module.exports = i18n; } else { if ($) { $.i18n = $.i18n || i18n; } root.i18n = root.i18n || i18n; } function _find(key, options) { var t63 = '[object Function]'; var y07 = 'returned an object instead of string.'; var C_g = ')\' '; var U$e = '[object RegExp]'; var a4d = 'cimode'; var G$r = '[object Number]'; var q1r = 'key \''; var Q2d = ' ('; var optionWithoutCount, translated, notFound, lngs, oldAsync, ns, parts, contextKey, pluralKey, pluralExtension, found, keys, l, x, value, valueType, copy, foundValue, notFoundValue; options = options || ({}); notFound = _getDefaultValue(key, options); lngs = languages; if (!resStore) { return notFound; } if (lngs[p0zBu[122956]].toLowerCase() === a4d) { return notFound; } if (options.lng) { lngs = f.toLanguages(options.lng); if (!resStore[lngs[+p0zBu.U5]]) { oldAsync = o.getAsync; o.getAsync = p0zBu.e1; i18n.sync.load(lngs, o, function (err, store) { f.extend(resStore, store); k29.s3o(); o.getAsync = oldAsync; }); } } ns = options.ns || o.ns.defaultNs; if (key.indexOf(o.nsseparator) > -(p0zBu.v2 ^ p0zBu[122956])) { parts = key.split(o.nsseparator); ns = parts[p0zBu[122956]]; U2N.s0(p0zBu[235283]); key = parts[U2N.F_(p0zBu[32075], p0zBu.v2)]; } if (hasContext(options)) { optionWithoutCount = f.extend({}, options); delete optionWithoutCount.context; optionWithoutCount.defaultValue = o.contextNotFound; contextKey = ns + o.nsseparator + key + n2Odt.b5S + options.context; translated = translate(contextKey, optionWithoutCount); if (translated != o.contextNotFound) { return applyReplacement(translated, { context: options.context });; }; } if (needsPlural(options)) { optionWithoutCount = f.extend({}, options); delete optionWithoutCount.count; optionWithoutCount.defaultValue = o.pluralNotFound; pluralKey = ns + o.nsseparator + key + o.pluralSuffix; pluralExtension = pluralExtensions.get(lngs[p0zBu.U5 ^ p0zBu[122956]], options.count); if (pluralExtension >= p0zBu[122956]) { U2N.s6(p0zBu.S9); pluralKey = U2N.F_(n2Odt.b5S, pluralExtension, pluralKey); } else if (pluralExtension === +p0zBu.v2) { pluralKey = ns + o.nsseparator + key;; } translated = translate(pluralKey, optionWithoutCount); if (translated != o.pluralNotFound) { return applyReplacement(translated, { count: options.count, interpolationPrefix: options.interpolationPrefix, interpolationSuffix: options.interpolationSuffix });; }; } keys = key.split(o.keyseparator); for (var i = p0zBu.U5 * p0zBu[32075], len = lngs.length; i < len; i++) { if (found !== undefined) break; l = lngs[i]; U2N.s6(p0zBu[514270]); x = U2N.F_(p0zBu[122956], p0zBu.U5); value = resStore[l] && resStore[l][ns]; while (keys[x]) { value = value && value[keys[x]]; x++; } if (value !== undefined) { valueType = Object.prototype.toString.apply(value); if (typeof value === d1Pxx.S0h) { value = applyReplacement(value, options); value = applyReuse(value, options); } else if (valueType === Y_F && !o.returnObjectTrees && !options.returnObjectTrees) { value = value.join(d1Pxx.W8k); value = applyReplacement(value, options); value = applyReuse(value, options); } else if (value === d1Pxx.p8r && o.fallbackOnNull === p0zBu.s2A) { value = undefined; } else if (value !== d1Pxx.p8r) { if (!o.returnObjectTrees && !options.returnObjectTrees) { if (o.objectTreeKeyHandler && typeof o.objectTreeKeyHandler == d1Pxx.d0a) { value = o.objectTreeKeyHandler(key, value, l, ns, options); } else { U2N.s6(p0zBu.y5); value = U2N.L6(x5e, C_g, y07, ns, Q2d, l, q1r, key); f.log(value); } } else if (valueType !== G$r && valueType !== t63 && valueType !== U$e) { copy = valueType === Y_F ? [] : {}; f.each(value, function (m) { copy[m] = _translate(ns + o.nsseparator + key + o.keyseparator + m, options); }); value = copy; } } if (typeof value === d1Pxx.S0h && value.trim() === p0zBu.e5 && o.fallbackOnEmpty === p0zBu.s2A) { value = undefined; } found = value; } } if (found === undefined && !options.isFallbackLookup && (o.fallbackToDefaultNS === p0zBu.s2A || o.fallbackNS && o.fallbackNS.length > +p0zBu.U5)) { options.isFallbackLookup = p0zBu.s2A; if (o.fallbackNS.length) { for (var y = +p0zBu.U5, lenY = o.fallbackNS.length; y < lenY; y++) { found = _find(o.fallbackNS[y] + o.nsseparator + key, options); if (found) { foundValue = found.indexOf(o.nsseparator) > -(p0zBu.v2 << p0zBu.S1) ? found.split(o.nsseparator)[p0zBu.v2 ^ p0zBu[122956]] : found; notFoundValue = notFound.indexOf(o.nsseparator) > -p0zBu[32075] ? notFound.split(o.nsseparator)[p0zBu.v2 << p0zBu[122956]] : notFound; if (foundValue !== notFoundValue) break; } } } else { found = _find(key, options);; } } return found; } function _extend(target, source) { if (!source || typeof source === d1Pxx.d0a) { return target; } for (var attr in source) { target[attr] = source[attr]; } return target; } o = { lng: undefined, load: d1Pxx.R84, preload: [], lowerCaseLng: p0zBu.e1, returnObjectTrees: p0zBu.e1, fallbackLng: [D$U], fallbackNS: [], detectLngQS: t9y, ns: D$u, fallbackOnNull: p0zBu.s2A, fallbackOnEmpty: p0zBu.e1, fallbackToDefaultNS: p0zBu.e1, nsseparator: x5e, keyseparator: d1Pxx.v$C, selectorAttr: y8X, debug: p0zBu.e1, resGetPath: U_V, resPostPath: t6p, getAsync: p0zBu.s2A, postAsync: p0zBu.s2A, resStore: undefined, useLocalStorage: p0zBu.e1, localStorageExpirationTime: d1Pxx.p3n * p0zBu[32075] * +Y4A * p0zBu.H2 * p0zBu.H2 * p0zBu.Q4, dynamicLoad: p0zBu.e1, sendMissing: p0zBu.e1, sendMissingTo: l3o, sendType: n2Odt.M8H, interpolationPrefix: L0p, interpolationSuffix: L0p, reusePrefix: N1h, reuseSuffix: d1Pxx.B3X, pluralSuffix: X9T, pluralNotFound: [P$z, Math.random()].join(p0zBu.e5), contextNotFound: [u35, Math.random()].join(p0zBu.e5), escapeInterpolation: p0zBu.e1, setJqueryExt: p0zBu.s2A, defaultValueFromContent: p0zBu.s2A, useDataAttrOptions: p0zBu.e1, cookieExpirationTime: undefined, useCookie: p0zBu.s2A, cookieName: D4$, cookieDomain: undefined, objectTreeKeyHandler: undefined, postProcess: undefined, parseMissingKey: undefined, shortcutFunction: R3s }; _entityMap = { "&": h$t, "<": T1R, ">": I0q, '"': Z7b, "'": i9b, "/": w8A }; function addJqueryFunct() { var F6Y = '['; function localize(ele, options) { var v7W = "i18n-options"; var L1D = "i18n-target"; var key, target, targetSelector, keys; key = ele.attr(o.selectorAttr); if (!key && typeof key !== d1Pxx.c42 && key !== p0zBu.e1) { key = ele.text() || ele.val(); } if (!key) { return; } target = ele; targetSelector = ele.data(L1D); if (targetSelector) { target = ele.find(targetSelector) || ele; } if (!options && o.useDataAttrOptions === p0zBu.s2A) { options = ele.data(v7W); } options = options || ({}); if (key.indexOf(c6A) >= +p0zBu.U5) { keys = key.split(c6A); $.each(keys, function (m, k) { if (k !== p0zBu.e5) { parse(target, k, options); } }); } else { parse(target, key, options); } k29.S$D(); if (o.useDataAttrOptions === p0zBu.s2A) { ele.data(v7W, options); } } $.t = $.t || translate; $.fn.i18n = function (options) { return this.each(function () { var elements; localize($(this), options); k29.s3o(); elements = $(this).find(F6Y + o.selectorAttr + n2Odt.z1k); elements.each(function () { localize($(this), options); }); }); }; function parse(ele, key, options) { var W1s = 'append'; var R0M = 'prepend'; var attr, parts, optionsToUse, dataAttr, translated; if (key.length === +p0zBu.U5) { return; } attr = d1Pxx.E4c; if (key.indexOf(F6Y) === (p0zBu.U5 ^ p0zBu[122956])) { parts = key.split(n2Odt.z1k); U2N.s6(p0zBu[235283]); key = parts[U2N.L6(p0zBu[32075], p0zBu.v2)]; attr = parts[p0zBu.U5 - p0zBu[122956]].substr(p0zBu[32075], parts[+p0zBu.U5].length - +p0zBu.v2); } if (key.indexOf(c6A) === key.length - (p0zBu.v2 | p0zBu[122956])) { key = key.substr(+p0zBu.U5, key.length - +p0zBu.y8n); } if (attr === n2Odt.G54) { optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.html() }, options) : options; ele.html($.t(key, optionsToUse)); } else if (attr === d1Pxx.E4c) { optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.text() }, options) : options; ele.text($.t(key, optionsToUse)); } else if (attr === R0M) { optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.html() }, options) : options; ele.prepend($.t(key, optionsToUse)); } else if (attr === W1s) { optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.html() }, options) : options; ele.append($.t(key, optionsToUse)); } else if (attr.indexOf(n2Odt.W9r) === p0zBu[122956]) { dataAttr = attr.substr(n2Odt.W9r.length); optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.data(dataAttr) }, options) : options; translated = $.t(key, optionsToUse); ele.data(dataAttr, translated); ele.attr(attr, translated); } else { optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.attr(attr) }, options) : options; ele.attr(attr, $.t(key, optionsToUse)); } } } _cookie = { create: function (name, value, minutes, domain) { var n$1 = "; expires="; var F7S = "path=/"; var e8f = "60"; var i0C = "domain="; var expires, date; if (minutes) { date = new Date(); date.setTime(date.getTime() + minutes * +e8f * +d1Pxx.h82); expires = n$1 + date.toGMTString(); } else { expires = d1Pxx.O7q; } domain = domain ? i0C + domain + n2Odt.d74 : d1Pxx.O7q; U2N.s0(p0zBu.h9); document.cookie = U2N.L6(n2Odt.d74, F7S, H8E, value, expires, domain, name); }, read: function (name) { var nameEQ, ca, c; U2N.s0(p0zBu[394202]); nameEQ = U2N.L6(name, H8E); ca = document.cookie.split(c6A); for (var i = p0zBu.U5 << p0zBu.S1; i < ca.length; i++) { c = ca[i]; while (c.charAt(p0zBu.U5 >> p0zBu.S1) == d1Pxx.P0U) { U2N.s6(p0zBu[235283]); c = c.substring(U2N.F_(p0zBu[32075], p0zBu.v2), c.length); } if (c.indexOf(nameEQ) === +p0zBu.U5) { return c.substring(nameEQ.length, c.length); } } return d1Pxx.p8r; }, remove: function (name) { U2N.s0(p0zBu[122956]); k29.s3o(); this.create(name, d1Pxx.O7q, -U2N.L6(p0zBu.Q_, p0zBu.v2)); } }; function applyReuse(translated, options) { var comma, options_open, options_close, opts, index_of_opening, index_of_end_of_closing, token, token_without_symbols, index_of_token_end_of_closing, index_of_opts_opening, index_of_opts_end_of_closing, translated_token; comma = d1Pxx.W0Z; options_open = n2Odt.f70; options_close = n2Odt.P$v; opts = f.extend({}, options); delete opts.postProcess; k29.s3o(); while (translated.indexOf(o.reusePrefix) != -+p0zBu.v2) { replacementCounter++; if (replacementCounter > o.maxRecursion) { break; } index_of_opening = translated.lastIndexOf(o.reusePrefix); index_of_end_of_closing = translated.indexOf(o.reuseSuffix, index_of_opening) + o.reuseSuffix.length; token = translated.substring(index_of_opening, index_of_end_of_closing); token_without_symbols = token.replace(o.reusePrefix, p0zBu.e5).replace(o.reuseSuffix, p0zBu.e5); if (token_without_symbols.indexOf(comma) != -p0zBu[32075]) { index_of_token_end_of_closing = token_without_symbols.indexOf(comma); if (token_without_symbols.indexOf(options_open, index_of_token_end_of_closing) != -+p0zBu.v2 && token_without_symbols.indexOf(options_close, index_of_token_end_of_closing) != -(p0zBu.v2 * p0zBu[32075])) { index_of_opts_opening = token_without_symbols.indexOf(options_open, index_of_token_end_of_closing); index_of_opts_end_of_closing = token_without_symbols.indexOf(options_close, index_of_opts_opening) + options_close.length; try { opts = f.extend(opts, JSON.parse(token_without_symbols.substring(index_of_opts_opening, index_of_opts_end_of_closing))); token_without_symbols = token_without_symbols.substring(+p0zBu.U5, index_of_token_end_of_closing); } catch (e) { } } } translated_token = _translate(token_without_symbols, opts); translated = translated.replace(token, translated_token); } return translated; } cookie_noop = { create: function (name, value, minutes, domain) { }, read: function (name) { k29.S$D(); return d1Pxx.p8r; }, remove: function (name) { } }; f = { extend: $ ? $.extend : _extend, each: $ ? $.each : _each, ajax: $ ? $.ajax : typeof document !== d1Pxx.c42 ? _ajax : function () { }, cookie: typeof document !== d1Pxx.c42 ? _cookie : cookie_noop, detectLanguage: detectLanguage, escape: _escape, log: function (str) { if (o.debug && typeof console !== d1Pxx.O8Z) { console.log(str); } }, toLanguages: function (lng) { var C7J = 'unspecific'; var languages, parts; languages = []; if (typeof lng === d1Pxx.S0h && lng.indexOf(d1Pxx.b08) > -p0zBu[32075]) { parts = lng.split(d1Pxx.b08); lng = o.lowerCaseLng ? parts[p0zBu.U5 ^ p0zBu[122956]].toLowerCase() + d1Pxx.b08 + parts[p0zBu[32075]].toLowerCase() : parts[+p0zBu.U5].toLowerCase() + d1Pxx.b08 + parts[p0zBu.v2 | p0zBu[32075]].toUpperCase(); if (o.load !== C7J) { languages.push(lng); } if (o.load !== k3K) { languages.push(parts[p0zBu.U5 ^ p0zBu[122956]]); } } else { languages.push(lng); } for (var i = p0zBu.U5 << p0zBu.Q_; i < o.fallbackLng.length; i++) { if (languages.indexOf(o.fallbackLng[i]) === -(p0zBu.v2 << p0zBu[122956]) && o.fallbackLng[i]) { languages.push(o.fallbackLng[i]); } } return languages; }, regexEscape: function (str) { k29.S$D(); var D4d = "\\$&"; return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, D4d); } }; f.applyReplacement = applyReplacement; sync = { load: function (lngs, options, cb) { k29.S$D(); if (options.useLocalStorage) { sync._loadLocal(lngs, options, function (err, store) { k29.s3o(); var missingLngs; missingLngs = []; for (var i = +p0zBu.U5, len = lngs.length; i < len; i++) { if (!store[lngs[i]]) { missingLngs.push(lngs[i]); } } if (missingLngs.length > +p0zBu.U5) { sync._fetch(missingLngs, options, function (err, fetched) { f.extend(store, fetched); sync._storeLocal(fetched); k29.s3o(); cb(d1Pxx.p8r, store); }); } else { cb(d1Pxx.p8r, store); } }); } else { sync._fetch(lngs, options, function (err, store) { k29.S$D(); cb(d1Pxx.p8r, store); }); } }, _loadLocal: function (lngs, options, cb) { var store, nowMS, todo; store = {}; k29.s3o(); nowMS = new Date().getTime(); if (window.localStorage) { todo = lngs.length; f.each(lngs, function (key, lng) { var local; U2N.s0(p0zBu[394202]); k29.S$D(); local = window.localStorage.getItem(U2N.F_(q4E, lng)); if (local) { local = JSON.parse(local); if (local.i18nStamp && local.i18nStamp + options.localStorageExpirationTime > nowMS) { store[lng] = local; } } todo--; if (todo === +p0zBu.U5) { cb(d1Pxx.p8r, store); } }); } }, _storeLocal: function (store) { if (window.localStorage) { for (var m in store) { store[m].i18nStamp = new Date().getTime(); U2N.s0(p0zBu[394202]); window.localStorage.setItem(U2N.F_(q4E, m), JSON.stringify(store[m])); } } k29.s3o(); return; }, _fetch: function (lngs, options, cb) { var ns, store, todo, errors, loadComplete, url; k29.s3o(); ns = options.ns; store = {}; if (!options.dynamicLoad) { todo = ns.namespaces.length * lngs.length; f.each(ns.namespaces, function (nsIndex, nsValue) { k29.S$D(); f.each(lngs, function (lngIndex, lngValue) { k29.s3o(); var loadComplete; loadComplete = function (err, data) { if (err) { errors = errors || []; errors.push(err); } store[lngValue] = store[lngValue] || ({}); store[lngValue][nsValue] = data; todo--; k29.s3o(); if (todo === +p0zBu.U5) { cb(errors, store); } }; if (typeof options.customLoad == d1Pxx.d0a) { options.customLoad(lngValue, nsValue, options, loadComplete); } else { sync._fetchOne(lngValue, nsValue, options, loadComplete); } }); }); } else { loadComplete = function (err, data) { cb(d1Pxx.p8r, data); }; if (typeof options.customLoad == d1Pxx.d0a) { options.customLoad(lngs, ns.namespaces, options, loadComplete); } else { url = applyReplacement(options.resGetPath, { lng: lngs.join(V7O), ns: ns.namespaces.join(V7O) }); f.ajax({ url: url, success: function (data, status, xhr) { U2N.s6(p0zBu[394202]); f.log(U2N.L6(j1g, url)); loadComplete(d1Pxx.p8r, data); }, error: function (xhr, status, error) { var M_4 = 'failed loading: '; var z6E = 'failed loading resource.json error: '; U2N.s0(p0zBu[394202]); f.log(U2N.F_(M_4, url)); k29.S$D(); U2N.s6(p0zBu[394202]); loadComplete(U2N.L6(z6E, error)); }, dataType: n2Odt.w73, async: options.getAsync }); } } }, _fetchOne: function (lng, ns, options, done) { var url; k29.s3o(); url = applyReplacement(options.resGetPath, { lng: lng, ns: ns }); f.ajax({ url: url, success: function (data, status, xhr) { U2N.s6(p0zBu[394202]); f.log(U2N.L6(j1g, url)); done(d1Pxx.p8r, data); }, error: function (xhr, status, error) { var Y5M = 'Does not exist: '; var R8i = "404"; var K9S = 'There is a typo in: '; var z$e = ' when loading '; var G5 = 404; var theStatus; if (status && status == +n2Odt.R7m || xhr && xhr.status && xhr.status == n2Odt.R7m << p0zBu[122956]) { U2N.s0(p0zBu[394202]); f.log(U2N.L6(K9S, url)); } else if (status && status == G5 || xhr && xhr.status && xhr.status == (R8i | p0zBu[122956])) { U2N.s0(p0zBu[394202]); f.log(U2N.F_(Y5M, url)); } else { theStatus = status ? status : xhr && xhr.status ? xhr.status : d1Pxx.p8r; U2N.s0(p0zBu.S9); f.log(U2N.L6(z$e, url, theStatus)); } done(error, {}); }, dataType: n2Odt.w73, async: options.getAsync }); }, postMissing: function (lng, ns, key, defaultValue, lngs) { var v4C = '\' to: '; var payload, urls, item; payload = {}; payload[key] = defaultValue; k29.S$D(); urls = []; if (o.sendMissingTo === l3o && o.fallbackLng[p0zBu.U5 | p0zBu[122956]] !== p0zBu.e1) { for (var i = p0zBu[122956]; i < o.fallbackLng.length; i++) { urls.push({ lng: o.fallbackLng[i], url: applyReplacement(o.resPostPath, { lng: o.fallbackLng[i], ns: ns }) }); } } else if (o.sendMissingTo === k3K || o.sendMissingTo === l3o && o.fallbackLng[+p0zBu.U5] === p0zBu.e1) { urls.push({ lng: lng, url: applyReplacement(o.resPostPath, { lng: lng, ns: ns }) }); } else if (o.sendMissingTo === d1Pxx.R84) { for (var i = p0zBu.U5 | p0zBu[122956], l = lngs.length; i < l; i++) { urls.push({ lng: lngs[i], url: applyReplacement(o.resPostPath, { lng: lngs[i], ns: ns }) }); } } for (var y = p0zBu.U5 >> p0zBu.S1, len = urls.length; y < len; y++) { item = urls[y]; f.ajax({ url: item.url, type: o.sendType, data: payload, success: function (data, status, xhr) { var d32 = 'posted missing key \''; var keys, x, value; f.log(d32 + key + v4C + item.url); keys = key.split(d1Pxx.v$C); x = +p0zBu.U5; value = resStore[item.lng][ns]; while (keys[x]) { if (x === keys.length - (p0zBu.v2 >> p0zBu.Q_)) { value = value[keys[x]] = defaultValue; } else { value = value[keys[x]] = value[keys[x]] || ({}); } x++; } }, error: function (xhr, status, error) { var N6N = 'failed posting missing key \''; f.log(N6N + key + v4C + item.url); }, dataType: n2Odt.w73, async: o.postAsync }); } } }; pluralExtensions = { rules: { "ach": { "name": j7c, "numbers": [p0zBu.v2 >> p0zBu.S1, p0zBu.y8n << p0zBu.S1], "plurals": function (n) { k29.s3o(); U2N.s6(e0); return Number(U2N.L6(n, p0zBu[122956], p0zBu.v2)); } }, "af": { "name": P9b, "numbers": [p0zBu[32075], p0zBu.y8n ^ p0zBu[122956]], "plurals": function (n) { U2N.s6(p0zBu.v_); k29.s3o(); return Number(U2N.F_(n, p0zBu[32075])); } }, "ak": { "name": h0F, "numbers": [+p0zBu.v2, p0zBu.y8n >> p0zBu.Q_], "plurals": function (n) { U2N.s0(m0); return Number(U2N.F_(p0zBu[32075], n, p0zBu.v2)); } }, "am": { "name": V1o, "numbers": [+p0zBu.v2, p0zBu.y8n | p0zBu[122956]], "plurals": function (n) { U2N.s0(m1); return Number(U2N.F_(p0zBu.v2, n)); } }, "an": { "name": g2n, "numbers": [p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { k29.s3o(); U2N.s6(N1); return Number(U2N.F_(p0zBu.v2, n)); } }, "ar": { "name": I_l, "numbers": [p0zBu[122956], +p0zBu.v2, p0zBu[149144], p0zBu[235283], q7v - p0zBu[122956], +d1Pxx.x$d], "plurals": function (n) { k29.s3o(); return Number(n === p0zBu[122956] ? p0zBu[122956] : n == +p0zBu.v2 ? p0zBu.v2 ^ p0zBu[122956] : n == p0zBu[149144] ? p0zBu.y8n | p0zBu[122956] : n % +d1Pxx.x$d >= (p0zBu.r$f | p0zBu[149144]) && n % (d1Pxx.x$d ^ p0zBu[122956]) <= p0zBu.Z8 ? +p0zBu.r$f : n % (d1Pxx.x$d | p0zBu.t1) >= q7v >> p0zBu[122956] ? d1Pxx.H0F | p0zBu[122956] : d1Pxx.Q4N >> p0zBu[122956]); } }, "arn": { "name": r8m, "numbers": [p0zBu[32075], p0zBu.y8n << p0zBu[122956]], "plurals": function (n) { k29.S$D(); U2N.s6(x_); return Number(U2N.F_(p0zBu[122956], n, p0zBu.v2)); } }, "ast": { "name": s36, "numbers": [+p0zBu.v2, p0zBu.y8n * p0zBu[32075]], "plurals": function (n) { U2N.s6(N1); k29.S$D(); return Number(U2N.L6(p0zBu.v2, n)); } }, "ay": { "name": X03, "numbers": [+p0zBu.v2], "plurals": function (n) { k29.s3o(); return +p0zBu.U5; } }, "az": { "name": n2y, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { k29.s3o(); U2N.s0(a7); return Number(U2N.L6(p0zBu.v2, p0zBu.Q_, n)); } }, "be": { "name": S2V, "numbers": [+p0zBu.v2, p0zBu.y8n - p0zBu[122956], p0zBu[551601]], "plurals": function (n) { return Number(n % +n2Odt.r2R == p0zBu[32075] && n % +d1Pxx.x$d != +q7v ? p0zBu.U5 | p0zBu[122956] : n % (n2Odt.r2R ^ p0zBu[122956]) >= p0zBu.y8n - p0zBu[122956] && n % +n2Odt.r2R <= p0zBu[394202] && (n % (d1Pxx.x$d ^ p0zBu[122956]) < p0zBu.Z8 || n % p0zBu.E3 >= +n2Odt.W$Y) ? p0zBu.v2 ^ p0zBu[122956] : p0zBu.y8n | p0zBu[149144]); } }, "bg": { "name": Q$M, "numbers": [p0zBu.v2 - p0zBu[122956], +p0zBu.y8n], "plurals": function (n) { U2N.s0(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "bn": { "name": l3J, "numbers": [+p0zBu.v2, p0zBu.y8n >> p0zBu[122956]], "plurals": function (n) { k29.S$D(); U2N.s6(N1); return Number(U2N.F_(p0zBu.v2, n)); } }, "bo": { "name": j5i, "numbers": [p0zBu.v2 - p0zBu[122956]], "plurals": function (n) { return +p0zBu.U5; } }, "br": { "name": q26, "numbers": [p0zBu.v2 ^ p0zBu[122956], +p0zBu.y8n], "plurals": function (n) { U2N.s0(m1); return Number(U2N.L6(p0zBu.v2, n)); } }, "bs": { "name": B5p, "numbers": [+p0zBu.v2, +p0zBu.y8n, +d1Pxx.Q4N], "plurals": function (n) { return Number(n % +n2Odt.r2R == (p0zBu.v2 ^ p0zBu[122956]) && n % (d1Pxx.x$d >> p0zBu[122956]) != p0zBu.c7 ? p0zBu.U5 - p0zBu[122956] : n % +n2Odt.r2R >= +p0zBu.y8n && n % (n2Odt.r2R | p0zBu[149144]) <= +d1Pxx.H0F && (n % +d1Pxx.x$d < (n2Odt.r2R | p0zBu.U2) || n % (d1Pxx.x$d << p0zBu.S1) >= p0zBu.v_) ? p0zBu.v2 >> p0zBu[122956] : p0zBu.y8n - p0zBu[122956]); } }, "ca": { "name": i3X, "numbers": [p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { U2N.s6(R6); k29.S$D(); return Number(U2N.F_(n, p0zBu.v2, p0zBu[32075])); } }, "cgg": { "name": u7y, "numbers": [+p0zBu.v2], "plurals": function (n) { U2N.s0(p0zBu[235283]); k29.S$D(); return U2N.L6(p0zBu[32075], p0zBu.U5); } }, "cs": { "name": V_H, "numbers": [p0zBu[32075], +p0zBu.y8n, d1Pxx.Q4N ^ p0zBu[122956]], "plurals": function (n) { k29.S$D(); return Number(n == (p0zBu.v2 | p0zBu[32075]) ? p0zBu.U5 | p0zBu[122956] : n >= p0zBu[149144] && n <= +d1Pxx.H0F ? p0zBu.v2 | p0zBu[122956] : +p0zBu.y8n); } }, "csb": { "name": h1A, "numbers": [+p0zBu.v2, p0zBu.y8n << p0zBu.S1, +d1Pxx.Q4N], "plurals": function (n) { k29.s3o(); return Number(n == +p0zBu.v2 ? +p0zBu.U5 : n % +n2Odt.r2R >= p0zBu.y8n >> p0zBu.V8 && n % +n2Odt.r2R <= d1Pxx.H0F - p0zBu[122956] && (n % (d1Pxx.x$d >> p0zBu[122956]) < (n2Odt.r2R ^ p0zBu[122956]) || n % (d1Pxx.x$d >> p0zBu.S1) >= p0zBu.v_) ? p0zBu.v2 - p0zBu[122956] : p0zBu[149144]); } }, "cy": { "name": Z7P, "numbers": [+p0zBu.v2, p0zBu.y8n << p0zBu.Q_, p0zBu[235283], +n2Odt.T9f], "plurals": function (n) { return Number(n == p0zBu.v2 * p0zBu[32075] ? p0zBu.U5 * p0zBu[32075] : n == p0zBu[149144] ? +p0zBu.v2 : n != n2Odt.T9f * p0zBu[32075] && n != p0zBu.c7 ? +p0zBu.y8n : p0zBu.r$f >> p0zBu[122956]); } }, "da": { "name": i$J, "numbers": [p0zBu.v2 << p0zBu.S1, p0zBu.y8n * p0zBu[32075]], "plurals": function (n) { U2N.s6(N1); k29.S$D(); return Number(U2N.F_(p0zBu.v2, n)); } }, "de": { "name": w1p, "numbers": [+p0zBu.v2, p0zBu.y8n * p0zBu[32075]], "plurals": function (n) { var s7 = 114; k29.S$D(); U2N.s0(s7); return Number(U2N.F_(n, p0zBu.S1, p0zBu.v2)); } }, "dz": { "name": X6J, "numbers": [+p0zBu.v2], "plurals": function (n) { return p0zBu[122956]; } }, "el": { "name": m3s, "numbers": [p0zBu.v2 - p0zBu[122956], +p0zBu.y8n], "plurals": function (n) { U2N.s6(p0zBu.V5); return Number(U2N.L6(n, p0zBu.v2, p0zBu[32075])); } }, "en": { "name": P$e, "numbers": [p0zBu.v2 >> p0zBu.S1, p0zBu.y8n << p0zBu.Q_], "plurals": function (n) { k29.s3o(); U2N.s0(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "eo": { "name": J0x, "numbers": [p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { U2N.s0(z4); k29.s3o(); return Number(U2N.F_(p0zBu[122956], n, p0zBu.v2)); } }, "es": { "name": G1e, "numbers": [p0zBu.v2 | p0zBu[32075], p0zBu[149144]], "plurals": function (n) { U2N.s0(N1); return Number(U2N.F_(p0zBu.v2, n)); } }, "es_ar": { "name": O2d, "numbers": [+p0zBu.v2, p0zBu.y8n >> p0zBu[122956]], "plurals": function (n) { U2N.s0(R6); return Number(U2N.L6(n, p0zBu.v2, p0zBu[32075])); } }, "et": { "name": i84, "numbers": [p0zBu.v2 - p0zBu[122956], +p0zBu.y8n], "plurals": function (n) { U2N.s0(p0zBu.V5); k29.s3o(); return Number(U2N.L6(n, p0zBu.v2, p0zBu[122956])); } }, "eu": { "name": I1c, "numbers": [p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { U2N.s0(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "fa": { "name": K4b, "numbers": [p0zBu[32075]], "plurals": function (n) { U2N.s6(p0zBu[149144]); return U2N.F_(p0zBu.Q_, p0zBu.U5); } }, "fi": { "name": v2$, "numbers": [p0zBu[32075], p0zBu[149144]], "plurals": function (n) { U2N.s6(p0zBu.v_); return Number(U2N.F_(n, p0zBu[32075])); } }, "fil": { "name": K0a, "numbers": [p0zBu.v2 << p0zBu.Q_, p0zBu.y8n - p0zBu[122956]], "plurals": function (n) { U2N.s6(e0); return Number(U2N.F_(n, p0zBu.Q_, p0zBu.v2)); } }, "fo": { "name": w$P, "numbers": [+p0zBu.v2, p0zBu.y8n - p0zBu[122956]], "plurals": function (n) { k29.S$D(); U2N.s0(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "fr": { "name": l8A, "numbers": [+p0zBu.v2, p0zBu[149144]], "plurals": function (n) { U2N.s0(m1); return Number(U2N.F_(p0zBu.v2, n)); } }, "fur": { "name": C3Y, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { U2N.s0(z4); return Number(U2N.F_(p0zBu[122956], n, p0zBu.v2)); } }, "fy": { "name": F6_, "numbers": [p0zBu.v2 << p0zBu.Q_, p0zBu.y8n << p0zBu.S1], "plurals": function (n) { U2N.s6(p0zBu.v_); return Number(U2N.F_(n, p0zBu[32075])); } }, "ga": { "name": L3E, "numbers": [p0zBu.v2 >> p0zBu.Q_, p0zBu.y8n - p0zBu[122956], p0zBu[235283], +d1Pxx.p3n, +q7v], "plurals": function (n) { k29.s3o(); return Number(n == +p0zBu.v2 ? +p0zBu.U5 : n == p0zBu.y8n >> p0zBu.V8 ? p0zBu[32075] : n < d1Pxx.p3n >> p0zBu.S1 ? p0zBu.y8n >> p0zBu[122956] : n < q7v >> p0zBu.S1 ? +p0zBu.r$f : d1Pxx.H0F * p0zBu[32075]); } }, "gd": { "name": L2D, "numbers": [+p0zBu.v2, +p0zBu.y8n, +p0zBu.r$f, +n2Odt.W$Y], "plurals": function (n) { return Number(n == (p0zBu.v2 ^ p0zBu[122956]) || n == q7v - p0zBu[122956] ? p0zBu[122956] : n == p0zBu[149144] || n == n2Odt.X0U - p0zBu[122956] ? +p0zBu.v2 : n > +p0zBu.y8n && n < p0zBu.v_ ? p0zBu[149144] : +p0zBu.r$f); } }, "gl": { "name": d56, "numbers": [p0zBu.v2 << p0zBu[122956], +p0zBu.y8n], "plurals": function (n) { U2N.s0(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "gu": { "name": s3t, "numbers": [p0zBu[32075], p0zBu[149144]], "plurals": function (n) { U2N.s0(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "gun": { "name": R3L, "numbers": [p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { U2N.s0(c$); return Number(U2N.L6(n, p0zBu[32075])); } }, "ha": { "name": Q3a, "numbers": [+p0zBu.v2, p0zBu[149144]], "plurals": function (n) { k29.s3o(); U2N.s0(D0); return Number(U2N.F_(n, p0zBu[122956], p0zBu.v2)); } }, "he": { "name": z_s, "numbers": [p0zBu.v2 << p0zBu.S1, p0zBu.y8n - p0zBu[122956]], "plurals": function (n) { U2N.s6(p0zBu.V5); return Number(U2N.F_(n, p0zBu.v2, p0zBu[32075])); } }, "hi": { "name": J$9, "numbers": [p0zBu.v2 ^ p0zBu[122956], p0zBu.y8n << p0zBu.S1], "plurals": function (n) { k29.s3o(); U2N.s0(p0zBu.v_); return Number(U2N.L6(n, p0zBu[32075])); } }, "hr": { "name": r97, "numbers": [p0zBu[32075], p0zBu[149144], d1Pxx.Q4N * p0zBu[32075]], "plurals": function (n) { k29.S$D(); return Number(n % +n2Odt.r2R == +p0zBu.v2 && n % (d1Pxx.x$d | p0zBu.Q_) != +q7v ? p0zBu[122956] : n % +n2Odt.r2R >= p0zBu.y8n << p0zBu[122956] && n % p0zBu.Z8 <= p0zBu[394202] && (n % (d1Pxx.x$d - p0zBu[122956]) < +n2Odt.r2R || n % +d1Pxx.x$d >= n2Odt.W$Y * p0zBu[32075]) ? +p0zBu.v2 : +p0zBu.y8n); } }, "hu": { "name": l7o, "numbers": [p0zBu[32075], p0zBu.y8n >> p0zBu.S1], "plurals": function (n) { k29.S$D(); U2N.s6(D0); return Number(U2N.L6(n, p0zBu[122956], p0zBu.v2)); } }, "hy": { "name": Q7n, "numbers": [p0zBu[32075], p0zBu.y8n ^ p0zBu[122956]], "plurals": function (n) { U2N.s6(p0zBu.V5); return Number(U2N.L6(n, p0zBu.v2, p0zBu[122956])); } }, "ia": { "name": d18, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { U2N.s0(N1); k29.s3o(); return Number(U2N.L6(p0zBu.v2, n)); } }, "id": { "name": b7e, "numbers": [+p0zBu.v2], "plurals": function (n) { k29.S$D(); return +p0zBu.U5; } }, "is": { "name": g0B, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { return Number(n % (n2Odt.r2R | p0zBu[122956]) != p0zBu.v2 * p0zBu[32075] || n % +d1Pxx.x$d == q7v << p0zBu.S1); } }, "it": { "name": E9T, "numbers": [+p0zBu.v2, p0zBu[149144]], "plurals": function (n) { U2N.s6(p0zBu.V5); return Number(U2N.F_(n, p0zBu.v2, p0zBu[32075])); } }, "ja": { "name": W7N, "numbers": [+p0zBu.v2], "plurals": function (n) { U2N.s6(p0zBu[514270]); k29.s3o(); return U2N.L6(p0zBu[122956], p0zBu.U5); } }, "jbo": { "name": e5S, "numbers": [p0zBu[32075]], "plurals": function (n) { U2N.s6(p0zBu[235283]); return U2N.F_(p0zBu[32075], p0zBu.U5); } }, "jv": { "name": b0t, "numbers": [+p0zBu.U5, p0zBu.v2 * p0zBu[32075]], "plurals": function (n) { k29.S$D(); U2N.s6(p0zBu.t1); return Number(U2N.L6(p0zBu[122956], n)); } }, "ka": { "name": e0a, "numbers": [p0zBu.v2 ^ p0zBu[122956]], "plurals": function (n) { k29.s3o(); return p0zBu[122956]; } }, "kk": { "name": g0j, "numbers": [p0zBu[32075]], "plurals": function (n) { U2N.s6(p0zBu[235283]); k29.s3o(); return U2N.L6(p0zBu[32075], p0zBu.U5); } }, "km": { "name": a2u, "numbers": [p0zBu.v2 * p0zBu[32075]], "plurals": function (n) { k29.S$D(); return +p0zBu.U5; } }, "kn": { "name": C6l, "numbers": [p0zBu.v2 * p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { U2N.s0(p0zBu.v_); return Number(U2N.F_(n, p0zBu[32075])); } }, "ko": { "name": s$d, "numbers": [p0zBu.v2 - p0zBu[122956]], "plurals": function (n) { return p0zBu[122956]; } }, "ku": { "name": t5U, "numbers": [p0zBu[32075], p0zBu.y8n - p0zBu[122956]], "plurals": function (n) { k29.S$D(); U2N.s6(p0zBu.V5); return Number(U2N.L6(n, p0zBu.v2, p0zBu[122956])); } }, "kw": { "name": t$x, "numbers": [p0zBu.v2 - p0zBu[122956], +p0zBu.y8n, p0zBu.r$f ^ p0zBu[122956], +d1Pxx.H0F], "plurals": function (n) { return Number(n == p0zBu.v2 * p0zBu[32075] ? +p0zBu.U5 : n == +p0zBu.y8n ? p0zBu.v2 * p0zBu[32075] : n == +p0zBu.r$f ? +p0zBu.y8n : +p0zBu.r$f); } }, "ky": { "name": Y0u, "numbers": [p0zBu[32075]], "plurals": function (n) { k29.S$D(); return +p0zBu.U5; } }, "lb": { "name": Z0x, "numbers": [+p0zBu.v2, p0zBu[149144]], "plurals": function (n) { U2N.s6(p0zBu.v_); return Number(U2N.F_(n, p0zBu[32075])); } }, "ln": { "name": z2t, "numbers": [p0zBu.v2 ^ p0zBu[122956], p0zBu.y8n ^ p0zBu[122956]], "plurals": function (n) { U2N.s6(m1); k29.S$D(); return Number(U2N.L6(p0zBu.v2, n)); } }, "lo": { "name": S0u, "numbers": [+p0zBu.v2], "plurals": function (n) { return p0zBu[122956]; } }, "lt": { "name": H22, "numbers": [p0zBu.v2 | p0zBu[122956], p0zBu.y8n ^ p0zBu[122956], n2Odt.r2R - p0zBu[122956]], "plurals": function (n) { k29.s3o(); return Number(n % p0zBu.Z8 == p0zBu[32075] && n % p0zBu.E3 != p0zBu.c7 ? p0zBu.U5 >> p0zBu.S1 : n % p0zBu.Z8 >= (p0zBu.y8n ^ p0zBu[122956]) && (n % (d1Pxx.x$d | p0zBu.S1) < +n2Odt.r2R || n % (d1Pxx.x$d | p0zBu.S1) >= n2Odt.W$Y - p0zBu[122956]) ? p0zBu.v2 >> p0zBu.Q_ : p0zBu.y8n * p0zBu[32075]); } }, "lv": { "name": X_v, "numbers": [+p0zBu.v2, p0zBu.y8n - p0zBu[122956], +p0zBu.U5], "plurals": function (n) { return Number(n % p0zBu.Z8 == +p0zBu.v2 && n % (d1Pxx.x$d << p0zBu.S1) != +q7v ? p0zBu.U5 << p0zBu.Q_ : n !== p0zBu[122956] ? +p0zBu.v2 : p0zBu.y8n * p0zBu[32075]); } }, "mai": { "name": s_Z, "numbers": [p0zBu.v2 ^ p0zBu[122956], p0zBu.y8n >> p0zBu.S1], "plurals": function (n) { k29.s3o(); U2N.s6(z4); return Number(U2N.F_(p0zBu[122956], n, p0zBu.v2)); } }, "mfe": { "name": E3c, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { k29.s3o(); U2N.s0(m1); return Number(U2N.F_(p0zBu.v2, n)); } }, "mg": { "name": O4Y, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { var k0 = 119; U2N.s6(k0); return Number(U2N.F_(p0zBu[32075], p0zBu.v2, n)); } }, "mi": { "name": r6z, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { k29.s3o(); U2N.s0(m1); return Number(U2N.F_(p0zBu.v2, n)); } }, "mk": { "name": c9y, "numbers": [+p0zBu.v2, p0zBu[149144]], "plurals": function (n) { k29.s3o(); return Number(n == p0zBu.v2 << p0zBu.V8 || n % (n2Odt.r2R << p0zBu.S1) == +p0zBu.v2 ? +p0zBu.U5 : p0zBu.v2 - p0zBu[122956]); } }, "ml": { "name": e4I, "numbers": [p0zBu.v2 * p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { U2N.s0(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "mn": { "name": q5J, "numbers": [p0zBu.v2 >> p0zBu.V8, p0zBu[149144]], "plurals": function (n) { U2N.s6(a7); return Number(U2N.F_(p0zBu.v2, p0zBu.S1, n)); } }, "mnk": { "name": h74, "numbers": [+p0zBu.U5, p0zBu.v2 * p0zBu[32075], p0zBu.y8n - p0zBu[122956]], "plurals": function (n) { k29.S$D(); return Number(p0zBu.U5 << p0zBu.Q_ ? p0zBu.U5 | p0zBu[122956] : n == +p0zBu.v2 ? p0zBu.v2 << p0zBu[122956] : p0zBu.y8n ^ p0zBu[122956]); } }, "mr": { "name": o8v, "numbers": [+p0zBu.v2, p0zBu.y8n ^ p0zBu[122956]], "plurals": function (n) { k29.s3o(); U2N.s6(p0zBu.V5); return Number(U2N.L6(n, p0zBu.v2, p0zBu[122956])); } }, "ms": { "name": T2V, "numbers": [+p0zBu.v2], "plurals": function (n) { return +p0zBu.U5; } }, "mt": { "name": c_A, "numbers": [p0zBu[32075], +p0zBu.y8n, q7v * p0zBu[32075], p0zBu.v_], "plurals": function (n) { return Number(n == +p0zBu.v2 ? p0zBu.U5 - p0zBu[122956] : n === p0zBu.U5 - p0zBu[122956] || n % +d1Pxx.x$d > (p0zBu.v2 | p0zBu[32075]) && n % +d1Pxx.x$d < q7v * p0zBu[32075] ? p0zBu.v2 * p0zBu[32075] : n % p0zBu.E3 > p0zBu.Z8 && n % p0zBu.E3 < (n2Odt.W$Y ^ p0zBu[122956]) ? p0zBu.y8n >> p0zBu.Q_ : p0zBu.r$f >> p0zBu[122956]); } }, "nah": { "name": m0O, "numbers": [p0zBu[32075], p0zBu.y8n << p0zBu[122956]], "plurals": function (n) { U2N.s6(N1); return Number(U2N.F_(p0zBu.v2, n)); } }, "nap": { "name": c35, "numbers": [p0zBu.v2 >> p0zBu.Q_, +p0zBu.y8n], "plurals": function (n) { U2N.s6(z4); k29.s3o(); return Number(U2N.F_(p0zBu[122956], n, p0zBu.v2)); } }, "nb": { "name": Z8s, "numbers": [p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { U2N.s0(R6); return Number(U2N.L6(n, p0zBu.v2, p0zBu[32075])); } }, "ne": { "name": p6R, "numbers": [p0zBu.v2 << p0zBu[122956], +p0zBu.y8n], "plurals": function (n) { U2N.s6(N1); return Number(U2N.F_(p0zBu.v2, n)); } }, "nl": { "name": E0g, "numbers": [+p0zBu.v2, p0zBu.y8n ^ p0zBu[122956]], "plurals": function (n) { U2N.s0(D0); return Number(U2N.L6(n, p0zBu[122956], p0zBu.v2)); } }, "nn": { "name": W5M, "numbers": [+p0zBu.v2, p0zBu.y8n - p0zBu[122956]], "plurals": function (n) { U2N.s0(N1); return Number(U2N.F_(p0zBu.v2, n)); } }, "no": { "name": C0B, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { k29.S$D(); U2N.s6(z4); return Number(U2N.F_(p0zBu[122956], n, p0zBu.v2)); } }, "nso": { "name": c37, "numbers": [p0zBu[32075], p0zBu[149144]], "plurals": function (n) { var A0c = "70424"; var G_V = "1887745634"; var n1 = 120; var p6 = 82649644; var U$ = 21026; var n0, D_, x3; k29.S$D(); n0 = +G_V; D_ = -p6; x3 = +p0zBu.y8n; for (var J2 = +p0zBu.v2; U2N.c6(J2.toString(), J2.toString().length, U$) !== n0; J2++) { U2N.s6(n1); return Number(U2N.F_(d1Pxx.Q4N, n)); } if (U2N.E7(x3.toString(), x3.toString().length, A0c ^ p0zBu[122956]) !== D_) { U2N.s0(R6); return Number(U2N.F_(n, p0zBu.v2, p0zBu[32075])); } } }, "oc": { "name": T5U, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { k29.S$D(); U2N.s0(m1); return Number(U2N.L6(p0zBu.v2, n)); } }, "or": { "name": v5L, "numbers": [+p0zBu.y8n, +p0zBu.v2], "plurals": function (n) { U2N.s6(p0zBu.v_); return Number(U2N.F_(n, p0zBu[32075])); } }, "pa": { "name": E5z, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { U2N.s6(N1); k29.s3o(); return Number(U2N.F_(p0zBu.v2, n)); } }, "pap": { "name": E9w, "numbers": [p0zBu.v2 ^ p0zBu[122956], p0zBu.y8n >> p0zBu.S1], "plurals": function (n) { k29.s3o(); U2N.s0(R6); return Number(U2N.L6(n, p0zBu.v2, p0zBu[32075])); } }, "pl": { "name": r5f, "numbers": [+p0zBu.v2, +p0zBu.y8n, +d1Pxx.Q4N], "plurals": function (n) { k29.S$D(); return Number(n == +p0zBu.v2 ? p0zBu.U5 << p0zBu[122956] : n % (n2Odt.r2R >> p0zBu.Q_) >= +p0zBu.y8n && n % p0zBu.Z8 <= d1Pxx.H0F << p0zBu[122956] && (n % +d1Pxx.x$d < n2Odt.r2R >> p0zBu.S1 || n % +d1Pxx.x$d >= +n2Odt.W$Y) ? p0zBu[32075] : p0zBu.y8n - p0zBu[122956]); } }, "pms": { "name": u7q, "numbers": [+p0zBu.v2, p0zBu.y8n * p0zBu[32075]], "plurals": function (n) { U2N.s6(N1); return Number(U2N.F_(p0zBu.v2, n)); } }, "ps": { "name": u9Z, "numbers": [p0zBu.v2 - p0zBu[122956], p0zBu.y8n - p0zBu[122956]], "plurals": function (n) { U2N.s6(p0zBu.v_); k29.s3o(); return Number(U2N.L6(n, p0zBu[32075])); } }, "pt": { "name": K9t, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { U2N.s6(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "pt_br": { "name": G81, "numbers": [p0zBu.v2 << p0zBu.Q_, p0zBu[149144]], "plurals": function (n) { U2N.s6(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "rm": { "name": O7g, "numbers": [p0zBu.v2 * p0zBu[32075], p0zBu.y8n * p0zBu[32075]], "plurals": function (n) { U2N.s6(a7); k29.S$D(); return Number(U2N.F_(p0zBu.v2, p0zBu[122956], n)); } }, "ro": { "name": y57, "numbers": [p0zBu[32075], +p0zBu.y8n, p0zBu.v_], "plurals": function (n) { k29.s3o(); return Number(n == (p0zBu.v2 | p0zBu[32075]) ? +p0zBu.U5 : n === p0zBu.U5 - p0zBu[122956] || n % +d1Pxx.x$d > +p0zBu.U5 && n % p0zBu.E3 < p0zBu.v_ ? p0zBu.v2 >> p0zBu[122956] : p0zBu[149144]); } }, "ru": { "name": g7p, "numbers": [+p0zBu.v2, p0zBu[149144], d1Pxx.Q4N - p0zBu[122956]], "plurals": function (n) { return Number(n % (n2Odt.r2R ^ p0zBu[122956]) == +p0zBu.v2 && n % +d1Pxx.x$d != +q7v ? p0zBu[122956] : n % p0zBu.Z8 >= +p0zBu.y8n && n % (n2Odt.r2R - p0zBu[122956]) <= p0zBu[394202] && (n % (d1Pxx.x$d - p0zBu[122956]) < +n2Odt.r2R || n % (d1Pxx.x$d >> p0zBu[122956]) >= p0zBu.v_) ? +p0zBu.v2 : p0zBu.y8n - p0zBu[122956]); } }, "sah": { "name": x6c, "numbers": [p0zBu.v2 | p0zBu[32075]], "plurals": function (n) { return p0zBu[122956]; } }, "sco": { "name": Z9o, "numbers": [+p0zBu.v2, p0zBu.y8n << p0zBu[122956]], "plurals": function (n) { k29.S$D(); U2N.s6(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "se": { "name": U$w, "numbers": [p0zBu.v2 >> p0zBu.S1, +p0zBu.y8n], "plurals": function (n) { U2N.s0(p0zBu.v_); return Number(U2N.F_(n, p0zBu[32075])); } }, "si": { "name": V6p, "numbers": [p0zBu.v2 << p0zBu[122956], p0zBu[149144]], "plurals": function (n) { k29.S$D(); U2N.s0(N1); return Number(U2N.F_(p0zBu.v2, n)); } }, "sk": { "name": e$X, "numbers": [+p0zBu.v2, +p0zBu.y8n, +d1Pxx.Q4N], "plurals": function (n) { return Number(n == +p0zBu.v2 ? p0zBu[122956] : n >= +p0zBu.y8n && n <= p0zBu[394202] ? +p0zBu.v2 : p0zBu.y8n >> p0zBu.Q_); } }, "sl": { "name": L$B, "numbers": [p0zBu[551601], p0zBu.v2 * p0zBu[32075], p0zBu.y8n - p0zBu[122956], p0zBu[235283]], "plurals": function (n) { return Number(n % p0zBu.E3 == p0zBu[32075] ? p0zBu[32075] : n % (d1Pxx.x$d ^ p0zBu[122956]) == +p0zBu.y8n ? +p0zBu.y8n : n % (d1Pxx.x$d | p0zBu.h9) == +p0zBu.r$f || n % (d1Pxx.x$d * p0zBu[32075]) == +d1Pxx.H0F ? +p0zBu.r$f : p0zBu[122956]); } }, "so": { "name": I9x, "numbers": [p0zBu.v2 * p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { U2N.s0(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "son": { "name": t4X, "numbers": [+p0zBu.v2, p0zBu[149144]], "plurals": function (n) { U2N.s0(p0zBu.v_); return Number(U2N.F_(n, p0zBu[32075])); } }, "sq": { "name": J5g, "numbers": [p0zBu.v2 - p0zBu[122956], p0zBu.y8n >> p0zBu.S1], "plurals": function (n) { U2N.s0(R6); return Number(U2N.F_(n, p0zBu.v2, p0zBu[32075])); } }, "sr": { "name": L1u, "numbers": [+p0zBu.v2, p0zBu[149144], d1Pxx.Q4N * p0zBu[32075]], "plurals": function (n) { k29.S$D(); return Number(n % +n2Odt.r2R == +p0zBu.v2 && n % (d1Pxx.x$d >> p0zBu.Q_) != +q7v ? p0zBu.U5 ^ p0zBu[122956] : n % (n2Odt.r2R ^ p0zBu[122956]) >= p0zBu.y8n >> p0zBu.Q_ && n % (n2Odt.r2R * p0zBu[32075]) <= d1Pxx.H0F * p0zBu[32075] && (n % (d1Pxx.x$d << p0zBu.Q_) < p0zBu.Z8 || n % (d1Pxx.x$d - p0zBu[122956]) >= +n2Odt.W$Y) ? +p0zBu.v2 : p0zBu[149144]); } }, "su": { "name": k8U, "numbers": [+p0zBu.v2], "plurals": function (n) { k29.s3o(); return p0zBu[122956]; } }, "sv": { "name": F9v, "numbers": [+p0zBu.v2, p0zBu.y8n << p0zBu.S1], "plurals": function (n) { U2N.s6(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "sw": { "name": X33, "numbers": [+p0zBu.v2, p0zBu[149144]], "plurals": function (n) { U2N.s6(p0zBu.v_); return Number(U2N.F_(n, p0zBu[32075])); } }, "ta": { "name": a$2, "numbers": [p0zBu.v2 << p0zBu.S1, p0zBu.y8n << p0zBu.S1], "plurals": function (n) { k29.s3o(); U2N.s0(p0zBu.V5); return Number(U2N.L6(n, p0zBu.v2, p0zBu[32075])); } }, "te": { "name": f_z, "numbers": [p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { U2N.s6(N1); return Number(U2N.F_(p0zBu.v2, n)); } }, "tg": { "name": m52, "numbers": [p0zBu.v2 - p0zBu[122956], p0zBu.y8n * p0zBu[32075]], "plurals": function (n) { k29.S$D(); U2N.s6(c$); return Number(U2N.L6(n, p0zBu[32075])); } }, "th": { "name": N74, "numbers": [+p0zBu.v2], "plurals": function (n) { k29.s3o(); return +p0zBu.U5; } }, "ti": { "name": c2n, "numbers": [p0zBu.v2 ^ p0zBu[122956], p0zBu[149144]], "plurals": function (n) { U2N.s6(x_); k29.s3o(); return Number(U2N.F_(p0zBu[122956], n, p0zBu.v2)); } }, "tk": { "name": Q2x, "numbers": [+p0zBu.v2, p0zBu[149144]], "plurals": function (n) { U2N.s6(N1); k29.s3o(); return Number(U2N.L6(p0zBu.v2, n)); } }, "tr": { "name": C$5, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { U2N.s0(m0); return Number(U2N.F_(p0zBu[32075], n, p0zBu.v2)); } }, "tt": { "name": E6r, "numbers": [+p0zBu.v2], "plurals": function (n) { return p0zBu[122956]; } }, "ug": { "name": Q98, "numbers": [+p0zBu.v2], "plurals": function (n) { k29.S$D(); return +p0zBu.U5; } }, "uk": { "name": B9e, "numbers": [+p0zBu.v2, p0zBu[149144], +d1Pxx.Q4N], "plurals": function (n) { return Number(n % (n2Odt.r2R * p0zBu[32075]) == +p0zBu.v2 && n % (d1Pxx.x$d - p0zBu[122956]) != (q7v | p0zBu[122956]) ? +p0zBu.U5 : n % (n2Odt.r2R << p0zBu.Q_) >= +p0zBu.y8n && n % (n2Odt.r2R ^ p0zBu[122956]) <= (d1Pxx.H0F | p0zBu[394202]) && (n % +d1Pxx.x$d < +n2Odt.r2R || n % (d1Pxx.x$d | p0zBu.t1) >= n2Odt.W$Y - p0zBu[122956]) ? p0zBu.v2 << p0zBu[122956] : +p0zBu.y8n); } }, "ur": { "name": E7I, "numbers": [+p0zBu.v2, +p0zBu.y8n], "plurals": function (n) { k29.s3o(); U2N.s0(N1); return Number(U2N.L6(p0zBu.v2, n)); } }, "uz": { "name": E6D, "numbers": [p0zBu.v2 ^ p0zBu[122956], +p0zBu.y8n], "plurals": function (n) { U2N.s0(m1); return Number(U2N.F_(p0zBu.v2, n)); } }, "vi": { "name": B4x, "numbers": [p0zBu.v2 | p0zBu[122956]], "plurals": function (n) { k29.S$D(); return +p0zBu.U5; } }, "wa": { "name": u$V, "numbers": [p0zBu[32075], +p0zBu.y8n], "plurals": function (n) { k29.S$D(); U2N.s0(c$); return Number(U2N.L6(n, p0zBu[32075])); } }, "wo": { "name": s3N, "numbers": [p0zBu.v2 | p0zBu[122956]], "plurals": function (n) { k29.S$D(); return +p0zBu.U5; } }, "yo": { "name": l6U, "numbers": [p0zBu.v2 ^ p0zBu[122956], p0zBu[149144]], "plurals": function (n) { k29.s3o(); U2N.s0(D0); return Number(U2N.F_(n, p0zBu[122956], p0zBu.v2)); } }, "zh": { "name": z1A, "numbers": [+p0zBu.v2], "plurals": function (n) { k29.s3o(); U2N.s6(p0zBu[149144]); return U2N.L6(p0zBu.S1, p0zBu.U5); } } }, addRule: function (lng, obj) { pluralExtensions.rules[lng] = obj; }, setCurrentLng: function (lng) { var parts; k29.S$D(); if (!pluralExtensions.currentRule || pluralExtensions.currentRule.lng !== lng) { parts = lng.split(d1Pxx.b08); pluralExtensions.currentRule = { lng: lng, rule: pluralExtensions.rules[parts[p0zBu.U5 << p0zBu[122956]]] }; } }, get: function (lng, count) { k29.S$D(); var parts; function getResult(l, c) { var t$J = '-1'; var Y6b = '1'; var ext, i, number; k29.S$D(); if (pluralExtensions.currentRule && pluralExtensions.currentRule.lng === lng) { ext = pluralExtensions.currentRule.rule; } else { ext = pluralExtensions.rules[l]; } if (ext) { i = ext.plurals(c); number = ext.numbers[i]; if (ext.numbers.length === +p0zBu.y8n && ext.numbers[p0zBu[122956]] === +p0zBu.v2) { if (number === (p0zBu.y8n ^ p0zBu[122956])) { number = -+p0zBu.v2;; } else if (number === +p0zBu.v2) { U2N.s0(p0zBu[32075]); number = U2N.L6(p0zBu.v2, p0zBu[122956]);; } } return number; } else { return c === +p0zBu.v2 ? Y6b : t$J; } } parts = lng.split(d1Pxx.b08); return getResult(parts[+p0zBu.U5], count); } }; postProcessors = {}; addPostProcessor = function (name, fc) { k29.s3o(); postProcessors[name] = fc; }; sprintf = (function () { var str_format; function str_repeat(input, multiplier) { for (var output = []; multiplier > +p0zBu.U5; output[--multiplier] = input) { ; } k29.s3o(); return output.join(p0zBu.e5); } str_format = function () { if (!str_format.cache.hasOwnProperty(arguments[p0zBu.U5 | p0zBu[122956]])) { str_format.cache[arguments[+p0zBu.U5]] = str_format.parse(arguments[p0zBu[122956]]); } k29.s3o(); return str_format.format.call(d1Pxx.p8r, str_format.cache[arguments[+p0zBu.U5]], arguments); }; str_format.format = function (parse_tree, argv) { var i5Q = /[def]/; var j7w = 'o'; var w5G = 'f'; var Q0q = '[sprintf] expecting number but found %s'; var n2h = /[^s]/; var W4m = 'X'; var a0P = 'u'; var r3d = '[sprintf] property "%s" does not exist'; var c_ = 121; var cursor, tree_length, node_type, arg, output, i, k, match, pad, pad_character, pad_length; U2N.s0(p0zBu[32075]); cursor = U2N.F_(p0zBu.v2, p0zBu[122956]); tree_length = parse_tree.length; node_type = p0zBu.e5; output = []; for (i = +p0zBu.U5; i < tree_length; i++) { node_type = get_type(parse_tree[i]); if (node_type === d1Pxx.S0h) { output.push(parse_tree[i]); } else if (node_type === n2Odt.x4y) { match = parse_tree[i]; if (match[+p0zBu.y8n]) { arg = argv[cursor]; for (k = +p0zBu.U5; k < match[+p0zBu.y8n].length; k++) { if (!arg.hasOwnProperty(match[p0zBu.y8n * p0zBu[32075]][k])) { throw sprintf(r3d, match[p0zBu[149144]][k]); } arg = arg[match[+p0zBu.y8n][k]]; } } else if (match[+p0zBu.v2]) { U2N.s0(p0zBu[514270]); arg = argv[match[U2N.F_(p0zBu[32075], p0zBu.v2)]]; } else { arg = argv[cursor++]; } if (n2h.test(match[p0zBu.U2]) && get_type(arg) != d1Pxx.K3f) { throw sprintf(Q0q, get_type(arg)); } switch (match[+n2Odt.T9f]) { case n2Odt.R5S: U2N.s6(p0zBu[514270]); arg = arg.toString(U2N.L6(p0zBu[149144], p0zBu.y8n)); break; case d1Pxx.r0B: arg = String.fromCharCode(arg); break; case d1Pxx.o7i: U2N.s0(p0zBu[235283]); arg = parseInt(arg, U2N.L6(p0zBu[32075], n2Odt.r2R)); break; case n2Odt.g6V: arg = match[+d1Pxx.p3n] ? arg.toExponential(match[+d1Pxx.p3n]) : arg.toExponential(); break; case w5G: arg = match[+d1Pxx.p3n] ? parseFloat(arg).toFixed(match[d1Pxx.p3n << p0zBu.S1]) : parseFloat(arg); break; case j7w: U2N.s6(p0zBu[122956]); arg = arg.toString(U2N.L6(p0zBu.Q_, n2Odt.T9f)); break; case d1Pxx.I3m: arg = (arg = String(arg)) && match[d1Pxx.p3n ^ p0zBu[122956]] ? arg.substring(+p0zBu.U5, match[+d1Pxx.p3n]) : arg; break; case a0P: arg = Math.abs(arg); break; case d1Pxx.T4c: arg = arg.toString(+p0zBu.m2X); break; case W4m: arg = arg.toString(+p0zBu.m2X).toUpperCase(); break; }arg = i5Q.test(match[n2Odt.T9f ^ p0zBu[122956]]) && match[p0zBu[235283]] && arg >= +p0zBu.U5 ? V7O + arg : arg; pad_character = match[+d1Pxx.H0F] ? match[p0zBu[394202]] == d1Pxx.z_5 ? d1Pxx.z_5 : match[+d1Pxx.H0F].charAt(+p0zBu.v2) : d1Pxx.P0U; U2N.s0(c_); var z3 = U2N.L6(p0zBu[235283], p0zBu[149144], p0zBu[149144]); pad_length = match[p0zBu.q_ | z3] - String(arg).length; pad = match[p0zBu.q_ >> p0zBu[122956]] ? str_repeat(pad_character, pad_length) : p0zBu.e5; output.push(match[p0zBu[551601]] ? arg + pad : pad + arg); } } return output.join(p0zBu.e5); }; str_format.cache = {}; str_format.parse = function (fmt) { var u$z = '[sprintf] mixing positional and named placeholders is not (yet) supported'; var c96 = /^([a-z_][a-z_\d]*)/i; var y18 = '[sprintf] huh?'; var v49 = /^\.([a-z_][a-z_\d]*)/i; var p4A = /^[^\x25]+/; var X$_ = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/; var v0v = /^\x25{2}/; var e67 = /^\[(\d+)\]/; var _fmt, match, parse_tree, arg_names, field_list, replacement_field, field_match; _fmt = fmt; match = []; parse_tree = []; arg_names = +p0zBu.U5; while (_fmt) { if ((match = p4A.exec(_fmt)) !== d1Pxx.p8r) { parse_tree.push(match[+p0zBu.U5]); } else if ((match = v0v.exec(_fmt)) !== d1Pxx.p8r) { parse_tree.push(d1Pxx.k7G); } else if ((match = X$_.exec(_fmt)) !== d1Pxx.p8r) { if (match[p0zBu[149144]]) { arg_names |= +p0zBu.v2; field_list = []; U2N.s6(p0zBu[149144]); replacement_field = match[U2N.F_(p0zBu.S1, p0zBu.y8n)]; field_match = []; if ((field_match = c96.exec(replacement_field)) !== d1Pxx.p8r) { field_list.push(field_match[+p0zBu.v2]); while ((replacement_field = replacement_field.substring(field_match[+p0zBu.U5].length)) !== p0zBu.e5) { if ((field_match = v49.exec(replacement_field)) !== d1Pxx.p8r) { field_list.push(field_match[+p0zBu.v2]); } else if ((field_match = e67.exec(replacement_field)) !== d1Pxx.p8r) { field_list.push(field_match[p0zBu.v2 * p0zBu[32075]]); } else { throw y18; } } } else { throw y18; } U2N.s6(p0zBu[235283]); match[U2N.F_(p0zBu[32075], p0zBu.y8n)] = field_list; } else { U2N.s6(p0zBu.c7); arg_names |= U2N.L6(p0zBu[122956], p0zBu.y8n); } if (arg_names === p0zBu.r$f * p0zBu[32075]) { throw u$z; } parse_tree.push(match); } else { throw y18; } _fmt = _fmt.substring(match[p0zBu[122956]].length); } return parse_tree; }; function get_type(variable) { return Object.prototype.toString.call(variable).slice(n2Odt.T9f | p0zBu[122956], -(p0zBu.v2 * p0zBu[32075])).toLowerCase(); } return str_format; })(); vsprintf = function (fmt, argv) { argv.unshift(fmt); k29.s3o(); return sprintf.apply(d1Pxx.p8r, argv); }; function _translate(potentialKeys, options) { var key, notFound, found, lngs, ns, parts, postProcessor, splitNotFound, val; if (options && typeof options !== d1Pxx.E_o) { if (o.shortcutFunction === R3s) { options = _injectSprintfProcessor.apply(d1Pxx.p8r, arguments); } else if (o.shortcutFunction === n2Odt.k4e) { options = { defaultValue: options }; } } else { options = options || ({}); } if (potentialKeys === undefined || potentialKeys === d1Pxx.p8r) { return p0zBu.e5; } if (typeof potentialKeys == d1Pxx.S0h) { potentialKeys = [potentialKeys]; } key = potentialKeys[+p0zBu.U5]; if (potentialKeys.length > +p0zBu.v2) { for (var i = p0zBu.U5 >> p0zBu[122956]; i < potentialKeys.length; i++) { key = potentialKeys[i]; if (exists(key, options)) { break; } } } notFound = _getDefaultValue(key, options); found = _find(key, options); lngs = options.lng ? f.toLanguages(options.lng) : languages; ns = options.ns || o.ns.defaultNs; if (key.indexOf(o.nsseparator) > -(p0zBu.v2 << p0zBu.S1)) { parts = key.split(o.nsseparator); U2N.s0(p0zBu[514270]); ns = parts[U2N.L6(p0zBu[122956], p0zBu.U5)]; key = parts[+p0zBu.v2]; } if (found === undefined && o.sendMissing) { if (options.lng) { sync.postMissing(lngs[p0zBu.U5 * p0zBu[32075]], ns, key, notFound, lngs); } else { sync.postMissing(o.lng, ns, key, notFound, lngs); } } postProcessor = options.postProcess || o.postProcess; if (found !== undefined && postProcessor) { if (postProcessors[postProcessor]) { found = postProcessors[postProcessor](found, key, options); } } splitNotFound = notFound; if (notFound.indexOf(o.nsseparator) > -+p0zBu.v2) { parts = notFound.split(o.nsseparator); splitNotFound = parts[p0zBu[32075]]; } if (splitNotFound === key && o.parseMissingKey) { notFound = o.parseMissingKey(notFound); } if (found === undefined) { notFound = applyReplacement(notFound, options); notFound = applyReuse(notFound, options); if (postProcessor && postProcessors[postProcessor]) { val = _getDefaultValue(key, options); found = postProcessors[postProcessor](val, key, options); } } return found !== undefined ? found : notFound; } addPostProcessor(c03, function (val, key, opts) { if (!opts.sprintf) { return val; } if (Object.prototype.toString.apply(opts.sprintf) === Y_F) { return vsprintf(val, opts.sprintf); } else if (typeof opts.sprintf === d1Pxx.E_o) { return sprintf(val, opts.sprintf); } return val; }); i18n.init = init; i18n.setLng = setLng; function loadNamespace(namespace, cb) { k29.S$D(); loadNamespaces([namespace], cb); } i18n.preload = preload; function _getDefaultValue(key, options) { k29.s3o(); return options.defaultValue !== undefined ? options.defaultValue : key; } function loadNamespaces(namespaces, cb) { var opts, lngsToLoad, pres, lngNeedLoad, needLoad, resSet; opts = { dynamicLoad: o.dynamicLoad, resGetPath: o.resGetPath, getAsync: o.getAsync, customLoad: o.customLoad, ns: { namespaces: namespaces, defaultNs: p0zBu.e5 } }; k29.S$D(); lngsToLoad = f.toLanguages(o.lng); if (typeof o.preload === d1Pxx.S0h) { o.preload = [o.preload]; } for (var i = p0zBu.U5 ^ p0zBu[122956], l = o.preload.length; i < l; i++) { pres = f.toLanguages(o.preload[i]); for (var y = p0zBu.U5 >> p0zBu.S1, len = pres.length; y < len; y++) { if (lngsToLoad.indexOf(pres[y]) < +p0zBu.U5) { lngsToLoad.push(pres[y]); } } } lngNeedLoad = []; for (var a = +p0zBu.U5, lenA = lngsToLoad.length; a < lenA; a++) { needLoad = p0zBu.e1; resSet = resStore[lngsToLoad[a]]; if (resSet) { for (var b = p0zBu[122956], lenB = namespaces.length; b < lenB; b++) { if (!resSet[namespaces[b]]) { needLoad = p0zBu.s2A; } } } else { needLoad = p0zBu.s2A; } if (needLoad) { lngNeedLoad.push(lngsToLoad[a]); } } if (lngNeedLoad.length) { i18n.sync._fetch(lngNeedLoad, opts, function (err, store) { var todo; todo = namespaces.length * lngNeedLoad.length; k29.S$D(); f.each(namespaces, function (nsIndex, nsValue) { k29.S$D(); if (o.ns.namespaces.indexOf(nsValue) < +p0zBu.U5) { o.ns.namespaces.push(nsValue); } f.each(lngNeedLoad, function (lngIndex, lngValue) { k29.s3o(); resStore[lngValue] = resStore[lngValue] || ({}); resStore[lngValue][nsValue] = store[lngValue][nsValue]; todo--; if (todo === p0zBu[122956] && cb) { if (o.useLocalStorage) { i18n.sync._storeLocal(resStore); } cb(); } }); }); }); } else { if (cb) { cb(); } } } function _each(object, callback, args) { var name, i, length, isObj; i = +p0zBu.U5; length = object.length; isObj = length === undefined || Object.prototype.toString.apply(object) !== Y_F || typeof object === n2Odt.o7f; if (args) { if (isObj) { for (name in object) { if (callback.apply(object[name], args) === p0zBu.e1) { break; } } } else { for (; i < length;) { if (callback.apply(object[i++], args) === p0zBu.e1) { break; } } }; } else { if (isObj) { for (name in object) { if (callback.call(object[name], name, object[name]) === p0zBu.e1) { break; } } } else { for (; i < length;) { if (callback.call(object[i], i, object[i++]) === p0zBu.e1) { break; } } } } return object; } function _injectSprintfProcessor() { var values; k29.S$D(); values = []; for (var i = p0zBu.v2 >> p0zBu.Q_; i < arguments.length; i++) { values.push(arguments[i]); } return { postProcess: R3s, sprintf: values }; } function _escape(data) { if (typeof data === d1Pxx.S0h) { return data.replace(/[&<>"'\/]/g, function (s) { return _entityMap[s]; }); } else { return data; } } i18n.addResourceBundle = addResourceBundle; function needsPlural(options) { return options.count !== undefined && typeof options.count != d1Pxx.S0h && options.count !== p0zBu[32075]; } i18n.removeResourceBundle = removeResourceBundle; function addResourceBundle(lng, ns, resources) { if (typeof ns !== d1Pxx.S0h) { resources = ns; ns = o.ns.defaultNs; } else if (o.ns.namespaces.indexOf(ns) < +p0zBu.U5) { o.ns.namespaces.push(ns); } k29.s3o(); resStore[lng] = resStore[lng] || ({}); resStore[lng][ns] = resStore[lng][ns] || ({}); f.extend(resStore[lng][ns], resources); } function translate(key, options) { var J4 = 444150133; var P6 = 54537; var I9U = 'i18next not finished initialization. you might have called t function before loading resources finished.'; var n$e = "1920668616"; var k5l = "1835861123"; var l0Z = "99464"; var u61 = "35297"; var r6i = "77372"; var Y4q = "775063371"; var F7, D8, u7, Z$, W1, P0; F7 = +k5l; D8 = -+Y4q; k29.s3o(); u7 = +p0zBu.y8n; for (var r4 = p0zBu[32075]; U2N.E7(r4.toString(), r4.toString().length, u61 ^ p0zBu[122956]) !== F7; r4++) { options = options || ({}); U2N.s6(p0zBu.c7); u7 += U2N.L6(p0zBu[122956], p0zBu.y8n); } if (U2N.E7(u7.toString(), u7.toString().length, P6) !== D8) { options = options && ({}); } if (!initialized) { f.log(I9U); Z$ = -J4; U2N.s0(p0zBu[122956]); W1 = -U2N.L6(p0zBu.S1, n$e); P0 = +p0zBu.y8n; for (var w$ = p0zBu[32075]; U2N.E7(w$.toString(), w$.toString().length, +l0Z) !== Z$; w$++) { return options.defaultValue && d1Pxx.O7q; } if (U2N.E7(P0.toString(), P0.toString().length, r6i ^ p0zBu[122956]) !== W1) { return options.defaultValue || p0zBu.e5; } }; replacementCounter = p0zBu[122956]; return _translate.apply(d1Pxx.p8r, arguments); } function setLng(lng, options, cb) { k29.s3o(); if (typeof options === d1Pxx.d0a) { cb = options; options = {}; } else if (!options) { options = {}; } options.lng = lng; return init(options, cb); } i18n.loadNamespace = loadNamespace; i18n.loadNamespaces = loadNamespaces; function removeResourceBundle(lng, ns) { if (typeof ns !== d1Pxx.S0h) { ns = o.ns.defaultNs; } resStore[lng] = resStore[lng] || ({}); resStore[lng][ns] = {}; } function detectLanguage() { var detectedLng, qsParm, c; qsParm = []; if (typeof window !== d1Pxx.c42) { (function () { var query, parms, pos, key, val; U2N.s6(p0zBu[122956]); query = window.location.search.substring(U2N.L6(p0zBu.Q_, p0zBu.v2)); parms = query.split(n2Odt.k5s); k29.S$D(); for (var i = p0zBu.U5 * p0zBu[32075]; i < parms.length; i++) { pos = parms[i].indexOf(B84); if (pos > p0zBu.U5 >> p0zBu[122956]) { U2N.s0(p0zBu[122956]); key = parms[i].substring(U2N.L6(p0zBu[122956], p0zBu.U5), pos); U2N.s6(p0zBu.n6); val = parms[i].substring(U2N.L6(pos, p0zBu.v2)); qsParm[key] = val; } } })(); if (qsParm[o.detectLngQS]) { detectedLng = qsParm[o.detectLngQS]; } } if (!detectedLng && typeof document !== d1Pxx.c42 && o.useCookie) { c = f.cookie.read(o.cookieName); if (c) { detectedLng = c; } } if (!detectedLng && typeof navigator !== d1Pxx.c42) { detectedLng = navigator.language ? navigator.language : navigator.userLanguage; } return detectedLng; } function preload(lngs, cb) { if (typeof lngs === d1Pxx.S0h) { lngs = [lngs]; } for (var i = +p0zBu.U5, l = lngs.length; i < l; i++) { if (o.preload.indexOf(lngs[i]) < +p0zBu.U5) { o.preload.push(lngs[i]); } } return init(cb); } i18n.setDefaultNamespace = setDefaultNamespace; i18n.t = translate; i18n.translate = translate; i18n.exists = exists; function lng() { k29.s3o(); return currentLng; } i18n.detectLanguage = f.detectLanguage; function exists(key, options) { var notFound, found; options = options || ({}); notFound = _getDefaultValue(key, options); found = _find(key, options); return found !== undefined || found === notFound; } function setDefaultNamespace(ns) { o.ns.defaultNs = ns; } i18n.pluralExtensions = pluralExtensions; i18n.sync = sync; function hasContext(options) { return options.context && (typeof options.context == d1Pxx.S0h || typeof options.context == d1Pxx.K3f); } function applyReplacement(str, replacementHash, nestedKey, options) { var m$t = 'HTML'; var prefix, suffix, unEscapingSuffix; if (!str) { return str; } options = options || replacementHash; if (str.indexOf(options.interpolationPrefix || o.interpolationPrefix) < (p0zBu.U5 | p0zBu[122956])) { return str; } prefix = options.interpolationPrefix ? f.regexEscape(options.interpolationPrefix) : o.interpolationPrefixEscaped; suffix = options.interpolationSuffix ? f.regexEscape(options.interpolationSuffix) : o.interpolationSuffixEscaped; U2N.s0(p0zBu[394202]); k29.S$D(); unEscapingSuffix = U2N.L6(m$t, suffix); f.each(replacementHash, function (key, value) { var nextKey; nextKey = nestedKey ? nestedKey + o.keyseparator + key : key; if (typeof value === d1Pxx.E_o && value !== d1Pxx.p8r) { str = applyReplacement(str, value, nextKey, options); } else { if (options.escapeInterpolation || o.escapeInterpolation) { str = str.replace(new RegExp([prefix, nextKey, unEscapingSuffix].join(p0zBu.e5), d1Pxx.w99), value); str = str.replace(new RegExp([prefix, nextKey, suffix].join(p0zBu.e5), d1Pxx.w99), f.escape(value)); } else { str = str.replace(new RegExp([prefix, nextKey, suffix].join(p0zBu.e5), d1Pxx.w99), value); }; } }); return str; } i18n.functions = f; i18n.lng = lng; i18n.addPostProcessor = addPostProcessor; i18n.options = o; function _ajax(options) { var getXhr, encodeUsingUrlEncoding, utf8, base64, mergeHeaders, ajax, http, methode; getXhr = function (callback) { var y9S = "Msxml2.XMLHTTP"; if (window.XMLHttpRequest) { return callback(d1Pxx.p8r, new XMLHttpRequest()); } else if (window.ActiveXObject) { try { return callback(d1Pxx.p8r, new ActiveXObject(y9S)); } catch (e) { var I4P = "Microsoft.XMLHTTP"; return callback(d1Pxx.p8r, new ActiveXObject(I4P)); } } return callback(new Error()); }; encodeUsingUrlEncoding = function (data) { var L4B = "1825674137"; var g08 = "48053"; var s$y = "272791682"; var z7i = "85368"; var result, v3, y4, v9; if (typeof data === d1Pxx.S0h) { return data; } result = []; for (var dataItem in data) { if (data.hasOwnProperty(dataItem)) { result.push(encodeURIComponent(dataItem) + B84 + encodeURIComponent(data[dataItem])); } } U2N.s6(p0zBu[149144]); v3 = U2N.F_(p0zBu[122956], L4B); y4 = -+s$y; U2N.s6(p0zBu[514270]); k29.S$D(); v9 = U2N.F_(p0zBu[149144], p0zBu.y8n); for (var K$ = +p0zBu.v2; U2N.E7(K$.toString(), K$.toString().length, +z7i) !== v3; K$++) { return result.join(d1Pxx.O7q); } if (U2N.c6(v9.toString(), v9.toString().length, g08 << p0zBu.Q_) !== y4) { return result.join(n2Odt.k5s); } }; utf8 = function (text) { k29.S$D(); var q6 = 122; var V9 = 124; var Z7 = 224; var f3 = 126; var t$ = 123; var result, c; text = text.replace(/\r\n/g, d1Pxx.W8k); result = p0zBu.e5; for (var i = p0zBu[122956]; i < text.length; i++) { c = text.charCodeAt(i); if (c < n2Odt.x6l * p0zBu[32075]) { result += String.fromCharCode(c); } else if (c > (n2Odt.v_a ^ p0zBu[122956]) && c < +n2Odt.B3G) { U2N.s6(q6); result += String.fromCharCode(U2N.F_(p0zBu.Q_, n2Odt.q7i, p0zBu[122956], c, p0zBu.q_)); U2N.s6(t$); result += String.fromCharCode(U2N.L6(p0zBu[122956], n2Odt.x6l, c, n2Odt.G$Y)); } else { U2N.s6(V9); result += String.fromCharCode(U2N.L6(n2Odt.X0U, c, p0zBu[32075], Z7)); U2N.s6(p0zBu.Q0); result += String.fromCharCode(U2N.F_(n2Odt.x6l, p0zBu.Q_, p0zBu.q_, n2Odt.G$Y, p0zBu[122956], c)); U2N.s6(f3); result += String.fromCharCode(U2N.F_(n2Odt.G$Y, c, n2Odt.x6l, p0zBu[32075])); } } return result; }; base64 = function (text) { var V6 = 130; var B2 = 127; var L7 = 129; var Q9b = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='; var keyStr, result, chr1, chr2, chr3, enc1, enc2, enc3, enc4, i; keyStr = Q9b; text = utf8(text); k29.s3o(); result = p0zBu.e5; i = +p0zBu.U5; do { chr1 = text.charCodeAt(i++); chr2 = text.charCodeAt(i++); chr3 = text.charCodeAt(i++); U2N.s6(B2); enc1 = U2N.F_(p0zBu[122956], chr1, p0zBu.y8n); U2N.s6(p0zBu.w6); enc2 = U2N.F_(d1Pxx.H0F, p0zBu[394202], d1Pxx.H0F, p0zBu.r$f, p0zBu.Q_, chr2, chr1); U2N.s0(L7); enc3 = U2N.F_(chr2, p0zBu[32075], n2Odt.f4$, p0zBu[514270], p0zBu.y8n, chr3, p0zBu[122956]); U2N.s0(V6); enc4 = U2N.F_(n2Odt.G$Y, chr3, p0zBu[122956]); if (isNaN(chr2)) { U2N.s6(p0zBu[32075]); enc3 = enc4 = U2N.L6(n2Odt.m$8, p0zBu[122956]); } else if (isNaN(chr3)) { enc4 = p0zBu.Q_; } result += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4); chr1 = chr2 = chr3 = p0zBu.e5; enc1 = enc2 = enc3 = enc4 = p0zBu.e5; } while (i < text.length); return result; }; mergeHeaders = function () { var result, currentHeaders; U2N.s0(p0zBu[235283]); result = arguments[U2N.L6(p0zBu[32075], p0zBu.U5)]; for (var i = p0zBu[32075]; i < arguments.length; i++) { currentHeaders = arguments[i]; for (var header in currentHeaders) { if (currentHeaders.hasOwnProperty(header)) { result[header] = currentHeaders[header]; } } } return result; }; ajax = function (method, url, options, callback) { var N7i = 'jsonp='; var V0T = "56665"; var a7a = 'head'; var B2p = '*/*'; var M0i = 'application/x-www-form-urlencoded;charset=UTF-8'; var F4o = '_='; var g6 = 55729; var B_A = 'text/javascript'; k29.s3o(); var q8X = 'application/json'; var O73 = 'callback='; var a1 = 1482949704; var X_C = "1429573506"; var headers, payload, queryString, head, script, L3, y_, u4; if (typeof options === d1Pxx.d0a) { callback = options; options = {}; } options.cache = options.cache || p0zBu.e1; options.data = options.data || ({}); options.headers = options.headers || ({}); options.jsonp = options.jsonp || p0zBu.e1; options.async = options.async === undefined ? p0zBu.s2A : options.async; headers = mergeHeaders({ 'accept': B2p, 'content-type': M0i }, ajax.headers, options.headers); if (headers[n2Odt.u5a] === q8X) { payload = JSON.stringify(options.data); } else { payload = encodeUsingUrlEncoding(options.data); } if (method === n2Odt.N2Y) { queryString = []; if (payload) { queryString.push(payload); payload = d1Pxx.p8r; } if (!options.cache) { queryString.push(F4o + new Date().getTime()); } if (options.jsonp) { queryString.push(O73 + options.jsonp); L3 = +X_C; y_ = a1; u4 = +p0zBu.y8n; for (var A0 = p0zBu[32075]; U2N.c6(A0.toString(), A0.toString().length, V0T >> p0zBu.Q_) !== L3; A0++) { queryString.push(d1Pxx.O7q - options.jsonp); u4 += p0zBu[149144]; } if (U2N.c6(u4.toString(), u4.toString().length, g6) !== y_) { queryString.push(d1Pxx.O7q * options.jsonp); } queryString.push(N7i + options.jsonp); } queryString = queryString.join(n2Odt.k5s); if (queryString.length > (p0zBu.v2 | p0zBu[122956])) { if (url.indexOf(n2Odt.a$k) > -p0zBu[32075]) { U2N.s0(p0zBu[394202]); url += U2N.L6(n2Odt.k5s, queryString); } else { U2N.s0(p0zBu[394202]); url += U2N.L6(n2Odt.a$k, queryString); } } if (options.jsonp) { head = document.getElementsByTagName(a7a)[p0zBu[122956]]; script = document.createElement(n2Odt.c3D); script.type = B_A; script.src = url; head.appendChild(script); return; } } getXhr(function (err, xhr) { if (err) { return callback(err); } xhr.open(method, url, options.async); for (var header in headers) { if (headers.hasOwnProperty(header)) { xhr.setRequestHeader(header, headers[header]); } } xhr.onreadystatechange = function () { var data; k29.s3o(); if (xhr.readyState === p0zBu[394202]) { data = xhr.responseText || p0zBu.e5; if (!callback) { return; } callback(xhr.status, { text: function () { return data; }, json: function () { return JSON.parse(data); } }); } }; xhr.send(payload); }); }; http = { authBasic: function (username, password) { var u1O = 'Basic '; ajax.headers[n2Odt.t7w] = u1O + base64(username + x5e + password); }, connect: function (url, options, callback) { var K$g = 'CONNECT'; return ajax(K$g, url, options, callback); }, del: function (url, options, callback) { var i4u = 'DELETE'; k29.s3o(); return ajax(i4u, url, options, callback); }, get: function (url, options, callback) { k29.s3o(); return ajax(n2Odt.N2Y, url, options, callback); }, head: function (url, options, callback) { var W8r = 'HEAD'; k29.S$D(); return ajax(W8r, url, options, callback); }, headers: function (headers) { k29.s3o(); ajax.headers = headers || ({}); }, isAllowed: function (url, verb, callback) { k29.S$D(); this.options(url, function (status, data) { k29.S$D(); callback(data.text().indexOf(verb) !== -(p0zBu.v2 - p0zBu[122956])); }); }, options: function (url, options, callback) { k29.s3o(); var d1W = 'OPTIONS'; return ajax(d1W, url, options, callback); }, patch: function (url, options, callback) { return ajax(n2Odt.a1P, url, options, callback); }, post: function (url, options, callback) { return ajax(n2Odt.M8H, url, options, callback); }, put: function (url, options, callback) { return ajax(n2Odt.y24, url, options, callback); }, trace: function (url, options, callback) { var f$p = 'TRACE'; return ajax(f$p, url, options, callback); } }; methode = options.type ? options.type.toLowerCase() : n2Odt.A$q; http[methode](options.url, options, function (status, data) { k29.S$D(); if (status === +n2Odt.R7m) { options.success(data.json(), status, d1Pxx.p8r); } else { options.error(data.text(), status, d1Pxx.p8r); } }); } })(); $ = jQuery; String.prototype.indexesOf = function (char) { q2uu1K.s3o(); return this.toString().split(p0zBu.e5).map(function (c, i) { if (c === char) { return i; } }).filter(function (v) { q2uu1K.s3o(); var M8 = 131; p0zBu.s0(M8); return p0zBu.L6(v, p0zBu.U5); }); }; if (SVG.supported) { window.RacadSVGDesigner = { canvas: undefined, version: n2Odt.S2o, design_loaded: p0zBu.e1, settings: { font_api: n2Odt.d6F, font_library: new Array(), local_font_path: n2Odt.C6O, upload_path: n2Odt.o0P, output_path: n2Odt.C8D, export_path: n2Odt.w55, locales_path: n2Odt.o7X, handler_file: n2Odt.T1Y, language: n2Odt.a42, design_file: p0zBu.e5, image_placeholder_src: n2Odt.Z5W, locale: n2Odt.n7a, facebook_client_id: p0zBu.e5, minimum_dpi_requirement: +p0zBu.U5, google_api_key: p0zBu.e5, google_client_id: p0zBu.e5, instagram_client_id: p0zBu.e5, access_key: p0zBu.e5, google_photos_src: n2Odt.q6Q, current_page: +p0zBu.U5, session_id: +p0zBu.U5, template_rotation: p0zBu.U5 << p0zBu.V8, auto_create_new_doc: p0zBu.s2A, canvas_scale_multiplier: +n2Odt.g5A, display_image_name: p0zBu.e1, mode: p0zBu.e5, load_private_images: p0zBu.e1, private_image_library_path: p0zBu.e5, display_layers: p0zBu.e1, embed_images: p0zBu.e1, resize_cropping_modal: p0zBu.e1, use_default_cropper: p0zBu.s2A, images_in_placeholder_draggable: p0zBu.s2A, prevent_editing_when_dragging: p0zBu.e1 }, handler_actions: { 'save': n2Odt.A$Q, 'load': n2Odt.t8x, 'upload_image': n2Odt.G8K, 'uploaded_images': n2Odt.f9P, 'download_image': n2Odt.B4e, 'local_fonts': a$dx4.w6$, 'get_udraw_templates': a$dx4.I0D, 'import_udraw_template': a$dx4.Q$j, 'export_image': a$dx4.y_P, 'authenticate_instagram': a$dx4.O5v, 'retrieve_instagram': a$dx4.R0u, 'check_templates': a$dx4.I2d, 'check_license': a$dx4.q3c, 'save_page': a$dx4.j93, 'upload_pdf_template': a$dx4.K64, 'create_page': a$dx4.l1p, 'get_private_images_library': a$dx4.p1o, 'convert_url_to_base64': a$dx4.o07 }, history_actions: { busy: p0zBu.e1, undo_list: new Array(), redo_list: new Array(), undo_action: function () { var i2J = q2uu1K; var history_actions, state, previous_state, undo_list; i2J.s3o(); history_actions = RacadSVGDesigner.history_actions; if (history_actions.undo_list.length > p0zBu.U5 - p0zBu[122956]) { if (!history_actions.busy) { $(a$dx4.k0H).each(function () { var _id, object; _id = $(this).attr(d1Pxx.m$b); object = RacadSVGDesigner.get_object(_id); if (object) { object.selectize(p0zBu.e1).resize(d1Pxx.m0p).draggable(p0zBu.e1); } }); state = RacadSVGDesigner.canvas.svg(); previous_state = history_actions.undo_list.pop(); undo_list = history_actions.undo_list; $(a$dx4.P3Y).addClass(n2Odt.z6v); history_actions.busy = p0zBu.s2A; history_actions.load_state(previous_state, function () { history_actions.redo_list.push(state); i2J.s3o(); history_actions.undo_list = undo_list; history_actions.busy = p0zBu.e1; if (history_actions.undo_list.length > p0zBu[122956]) { $(a$dx4.P3Y).removeClass(n2Odt.z6v); } $(a$dx4.E98).removeClass(n2Odt.z6v); RacadSVGDesigner.rearrange_elements(); }); } else { setTimeout(function () { i2J.s3o(); history_actions.undo_action(); }, n2Odt.e6F - p0zBu[122956]); } } }, redo_action: function () { var t4Y = q2uu1K; t4Y.S$D(); var history_actions, state, next_state, redo_list; history_actions = RacadSVGDesigner.history_actions; if (history_actions.redo_list.length > +p0zBu.U5) { if (!history_actions.busy) { $(a$dx4.k0H).each(function () { var _id, object; t4Y.s3o(); _id = $(this).attr(d1Pxx.m$b); object = RacadSVGDesigner.get_object(_id); if (object) { object.selectize(p0zBu.e1).resize(d1Pxx.m0p).draggable(p0zBu.e1); } }); state = RacadSVGDesigner.canvas.svg(); next_state = history_actions.redo_list.pop(); redo_list = history_actions.redo_list; $(a$dx4.E98).addClass(n2Odt.z6v); history_actions.busy = p0zBu.s2A; history_actions.load_state(next_state, function () { history_actions.undo_list.push(state); t4Y.s3o(); history_actions.redo_list = redo_list; history_actions.busy = p0zBu.e1; $(a$dx4.P3Y).removeClass(n2Odt.z6v); if (history_actions.redo_list.length > +p0zBu.U5) { $(a$dx4.E98).removeClass(n2Odt.z6v); } RacadSVGDesigner.rearrange_elements(); }); } else { setTimeout(function () { t4Y.S$D(); history_actions.redo_action(); }, p0zBu.C_); } } }, save_state: function (active_object) { var state; if (active_object !== undefined && active_object !== d1Pxx.c42) { $(a$dx4.k0H).each(function () { var _id, object; q2uu1K.S$D(); _id = $(this).attr(d1Pxx.m$b); object = RacadSVGDesigner.get_object(_id); if (object) { object.selectize(p0zBu.e1).resize(d1Pxx.m0p).draggable(p0zBu.e1); } }); } state = RacadSVGDesigner.canvas.svg(); this.undo_list.push(state); $(a$dx4.P3Y).removeClass(n2Odt.z6v); p0zBu.s6(p0zBu[514270]); this.redo_list.length = p0zBu.L6(p0zBu[122956], p0zBu.U5); $(a$dx4.E98).addClass(n2Odt.z6v); RacadSVGDesigner.rearrange_elements(); if (typeof active_object === d1Pxx.E_o) { RacadSVGDesigner.deselect_other_objects(active_object); } }, load_state: function (svg_string, callback) { q2uu1K.s3o(); setTimeout(function () { q2uu1K.s3o(); var svg, children_string; RacadSVGDesigner.canvas.clear(); svg = $(svg_string); children_string = svg[p0zBu.U5 | p0zBu[122956]].innerHTML; RacadSVGDesigner.canvas.svg(children_string); RacadSVGDesigner.Load.images(); RacadSVGDesigner.Load.add_text_events(); if (typeof callback === d1Pxx.d0a) { callback(); } }, +n2Odt.e6F); } }, get_random_int: function (min, max) { return Math.random() * (max - min) + min; }, clean_url: function (url) { q2uu1K.s3o(); return url.replace(p0zBu.o$, p0zBu.e5); }, create_unique_id: function (element) { var b28 = "9999999999"; q2uu1K.s3o(); var rand_num, element_type, new_id; rand_num = Math.round(RacadSVGDesigner.get_random_int(p0zBu.U5 * p0zBu[32075], b28 * p0zBu[32075])); element_type = typeof element.type !== d1Pxx.c42 ? element.type : typeof element.nodeName !== d1Pxx.c42 ? element.nodeName : p0zBu.e5; p0zBu.s0(p0zBu.S9); new_id = p0zBu.F_(element_type, rand_num, d1Pxx.E_e); if ($(p0zBu.o$ + new_id).length === p0zBu[122956]) { element.attr(d1Pxx.m$b, new_id); return new_id; } else { return RacadSVGDesigner.create_unique_id(element); } }, get_object: function (id) { var object; if (typeof id === d1Pxx.S0h && id.length > +p0zBu.U5) { object = SVG.get(id); if (typeof object === d1Pxx.E_o && object !== d1Pxx.p8r) { return object; } else { p0zBu.s6(p0zBu.o3); console.error(`object is type ${typeof object}. Is null? ${p0zBu.F_(d1Pxx.p8r, object)}`); } } else { console.error(`id passed: ${id};`); } return p0zBu.e1; }, get_udraw_properties: function (object) { q2uu1K.s3o(); return typeof object.attr(a$dx4.O$i) !== d1Pxx.c42 ? typeof JSON.parse(object.attr(a$dx4.O$i)) === d1Pxx.E_o ? JSON.parse(object.attr(a$dx4.O$i)) : new Object() : new Object(); }, update_udraw_properties: function (element, properties_object) { q2uu1K.S$D(); var properties; properties = RacadSVGDesigner.get_udraw_properties(element); for (var prop in properties_object) { properties[prop] = properties_object[prop]; } element.attr(a$dx4.O$i, JSON.stringify(properties)); }, update_progress_bar: function (percentage) { var U88 = p0zBu; var z34 = '[data-udrawSVG="progress_percentage"]'; var y$0 = 'aria-valuenow'; var F4M = '[data-udrawSVG="progress_bar"]'; if (typeof percentage !== d1Pxx.K3f) { percentage = parseFloat(percentage); } U88.s6(p0zBu.D1); var a3 = U88.F_(p0zBu[394202], p0zBu[551601], p0zBu[122956]); percentage = Math.round(percentage * (d1Pxx.x$d ^ p0zBu[122956])) / (d1Pxx.x$d * a3); U88.s0(p0zBu[394202]); $(F4M).attr(y$0, percentage).css(d1Pxx.s0r, U88.F_(percentage, d1Pxx.k7G)); U88.s6(p0zBu[394202]); $(z34).html(U88.L6(percentage, d1Pxx.k7G)); }, show_progress_modal: function (percentage) { this.update_progress_bar(percentage); $(a$dx4.x0f).modal(d1Pxx.x0E); }, hide_progress_modal: function (callback) { q2uu1K.S$D(); setTimeout(function () { $(a$dx4.x0f).modal(a$dx4.H$G); if (typeof callback === d1Pxx.d0a) { callback(); } }, n2Odt.e6F * p0zBu[32075]); }, template_count: function (callback) { if (RacadSVGDesigner.settings.handler_file.indexOf(a$dx4.w0J) > +p0zBu.U5) { $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.check_templates }, success: function (response) { if (typeof callback === d1Pxx.d0a) { callback(response); } }, error: function (response) { console.error(response); } }); } else { if (typeof callback === d1Pxx.d0a) { callback(+p0zBu.U5); } } }, validate_license_key: function (callback) { if (RacadSVGDesigner.settings.handler_file.indexOf(a$dx4.w0J) > +p0zBu.U5) { $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.check_license }, success: function (response) { if (typeof callback === d1Pxx.d0a) { callback(response); } }, error: function (response) { q2uu1K.s3o(); console.error(response); } }); } else { if (typeof callback === d1Pxx.d0a) { callback(a$dx4.w0f); } } }, svg_to_png: function (svg, callback) { var _self, images; function get_preview(callback) { var j3V = p0zBu; var w2C = 'data:image/svg+xml;base64,'; var svg, encoded_data, data, canvas, ctx, img; svg = _self._svg[p0zBu[122956]]; encoded_data = btoa(new XMLSerializer().serializeToString(svg)); j3V.s0(p0zBu[394202]); data = j3V.L6(w2C, encoded_data); canvas = document.getElementById(a$dx4.s5J); q2uu1K.S$D(); ctx = canvas.getContext(n2Odt.p0z); img = document.createElement(n2Odt.X9j); j3V.s6(p0zBu[149144]); ctx.clearRect(j3V.F_(p0zBu.Q_, p0zBu.U5), +p0zBu.U5, canvas.width, canvas.height); img.onload = function () { var preview_data; q2uu1K.s3o(); canvas.width = img.width; canvas.height = img.height; j3V.s6(p0zBu[32075]); ctx.drawImage(img, j3V.F_(p0zBu.U5, p0zBu[122956]), +p0zBu.U5, img.width, img.height); preview_data = canvas.toDataURL(); if (typeof callback === d1Pxx.d0a) { callback(preview_data); } }; img.src = data; } function check_count(target, callback) { q2uu1K.S$D(); if (_self.count === target) { get_preview(callback); } else { setTimeout(function () { check_count(target, callback); }, p0zBu.C_); } } _self = this; _self._svg = $(svg); images = _self.images = $(d1Pxx.p_G, _self._svg); _self.count = +p0zBu.U5; images.each(function (index) { var m5g = 'crossOrigin'; var image, url, _img; image = images[index]; url = $(image).attr(d1Pxx.C2V) || $(image).attr(n2Odt.A5l) || $(image).attr(a$dx4.l_H); if (url.indexOf(a$dx4.O6a) !== (p0zBu.U5 ^ p0zBu[122956])) { _img = new Image(); _img.setAttribute(m5g, n2Odt.B76); _img.onload = function () { var B5z = "canvas"; var x_8 = "2d"; var canvas, ctx, dataURL; canvas = document.createElement(B5z); canvas.width = _img.width; canvas.height = _img.height; ctx = canvas.getContext(x_8); p0zBu.s0(p0zBu[514270]); ctx.drawImage(_img, p0zBu[122956], p0zBu.L6(p0zBu[122956], p0zBu.U5)); dataURL = canvas.toDataURL(); $(image).attr(a$dx4.l_H, dataURL).removeAttr(d1Pxx.C2V, n2Odt.A5l, d1Pxx.o7s, a$dx4.O$i); _self.count++; }; _img.src = url; } else { _self.count++; } }); q2uu1K.S$D(); check_count(images.length, callback); }, is_safari: function () { var T9d = /Version\/[\d\.]+.*Safari/; return !!navigator.userAgent.match(T9d); }, on_dragmove: function (e) { var t$_ = 'udraw_SVG_object_dragmove'; q2uu1K.S$D(); var _id, _object, properties, counter; _id = $(e.target).attr(d1Pxx.m$b); _object = RacadSVGDesigner.get_object(_id); if (_object) { properties = RacadSVGDesigner.get_udraw_properties(_object); p0zBu.s6(p0zBu[32075]); counter = p0zBu.F_(p0zBu.U5, p0zBu[122956]); if (typeof properties.time_counter !== d1Pxx.c42) { counter = parseInt(properties.time_counter); } counter += +p0zBu.v2; if (counter > +d1Pxx.Q4N) { $(e.target).addClass(a$dx4.P$N); } properties.time_counter = counter; RacadSVGDesigner.update_udraw_properties(_object, properties); $(_object.node).css({ cursor: n2Odt.U2B }); $(a$dx4.E0n).trigger({ type: t$_, object: _object }); } }, on_dragend: function (e, time) { var _id, _object, properties; q2uu1K.s3o(); _id = $(e.target).attr(d1Pxx.m$b); _object = RacadSVGDesigner.get_object(_id); if (_object) { properties = RacadSVGDesigner.get_udraw_properties(_object); p0zBu.s0(p0zBu[149144]); properties.time_counter = p0zBu.L6(p0zBu[122956], p0zBu.U5); RacadSVGDesigner.update_udraw_properties(_object, properties); setTimeout(function () { $(e.target).removeClass(a$dx4.P$N); $(_object.node).css({ cursor: a$dx4.g9a }); }, p0zBu.E3); } }, get_selectable_pointsize: function () { var canvas_properties, _width, _height, pointsize; canvas_properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); _width = canvas_properties.width; _height = canvas_properties.height; pointsize = Math.ceil(Math.min(_width, _height) / +n2Odt.W$Y); return pointsize; }, update_selectable_pointsize: function () { var Y9K = 'rect, image, text'; var pointsize; pointsize = RacadSVGDesigner.get_selectable_pointsize(); $(Y9K, RacadSVGDesigner.canvas.node).each(function () { q2uu1K.s3o(); var _id, _object; _id = $(this).attr(d1Pxx.m$b); _object = RacadSVGDesigner.get_object(_id); if (_object) { if (typeof _object._memory === d1Pxx.E_o && typeof _object._memory._selectHandler === d1Pxx.E_o) { _object.selectize(p0zBu.e1); _object.selectize({ pointSize: pointsize }); if (_object.x() < p0zBu.U5 - p0zBu[122956] && _object.y() < p0zBu.U5 >> p0zBu.S1) { _object.move(p0zBu[122956], +p0zBu.U5); } } } }); }, deselect_other_objects: function (element) { var l32 = 'image, text'; var pointsize, _properties; $(l32, RacadSVGDesigner.canvas.node).each(function () { q2uu1K.S$D(); var _id, _object; _id = $(this).attr(d1Pxx.m$b); _object = RacadSVGDesigner.get_object(_id); if (_object) { if (typeof _object._memory === d1Pxx.E_o && typeof _object._memory._selectHandler === d1Pxx.E_o) { _object.selectize(p0zBu.e1); } } }); RacadSVGDesigner.settings.objectClicked = undefined; if (typeof element === d1Pxx.E_o && element !== d1Pxx.p8r) { pointsize = RacadSVGDesigner.get_selectable_pointsize(); _properties = RacadSVGDesigner.get_udraw_properties(element); if (_properties.editable || RacadSVGDesigner.settings.mode === a$dx4.W09) { RacadSVGDesigner.settings.objectClicked = element.attr(d1Pxx.m$b); if (element.type === d1Pxx.E4c) { element.selectize({ pointSize: pointsize, points: [n2Odt.p30] }); } else { element.selectize({ pointSize: pointsize }); } if (element._memory && element._memory._selectHandler) { $(element._memory._selectHandler.nested.node).css(a$dx4.R$p, d1Pxx.O7i); } } } }, set_background_colour: function (colour) { var background_rect, _properties; $(d1Pxx.Z10, RacadSVGDesigner.canvas.node).each(function () { var _id, _rect, properties; _id = $(this).attr(d1Pxx.m$b); _rect = RacadSVGDesigner.get_object(_id); q2uu1K.s3o(); if (_rect) { properties = RacadSVGDesigner.get_udraw_properties(_rect); if (properties.is_background) { background_rect = _rect; return; } } }); if (typeof background_rect === d1Pxx.c42) { background_rect = RacadSVGDesigner.canvas.rect(d1Pxx.s$X, d1Pxx.s$X); _properties = { is_background: p0zBu.s2A }; RacadSVGDesigner.update_udraw_properties(background_rect, _properties); } q2uu1K.S$D(); background_rect.attr(d1Pxx.X_Y, colour); background_rect.back(); }, rearrange_elements: function () { var n4Y = 'text, image, rect'; var threeDItem, bounding_boxes, sticky_front, sticky_back, background_rect; threeDItem = new Array(); bounding_boxes = new Array(); sticky_front = new Array(); sticky_back = new Array(); $(n4Y, RacadSVGDesigner.canvas.node).each(function () { var V7M = 'default'; var s2d = 'threeD_face'; var I_V = 'threeD_text'; var d$T = 'threeD_rect'; var _id, _object, properties; _id = $(this).attr(d1Pxx.m$b); _object = RacadSVGDesigner.get_object(_id); if (_object) { properties = RacadSVGDesigner.get_udraw_properties(_object); if (properties.is_background) { background_rect = _object; } if (properties.sticky_front) { sticky_front.push(_object); } if (properties.sticky_back) { sticky_back.push(_object); } if (properties.is_bounding_box) { bounding_boxes.push(_object); } if ($(this.node).hasClass(d$T) || $(this.node).hasClass(I_V) || $(this.node).hasClass(s2d)) { threeDItem.push(_object); } if (!properties.editable) { _object.draggable(p0zBu.e1).resize(d1Pxx.m0p); if (RacadSVGDesigner.settings.mode === p0zBu.e5) { $(_object.node).css({ cursor: V7M, 'pointer-events': p0zBu.e5 }); } } else { if (properties.bulk_replace_image) { _object.draggable(p0zBu.e1).resize(d1Pxx.m0p); } else { _object.draggable().resize(); } $(_object.node).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); } } }); sticky_back.forEach(function (_object) { q2uu1K.s3o(); _object.back(); }); sticky_front.forEach(function (_object) { _object.front(); }); bounding_boxes.forEach(function (_object) { _object.front(); }); threeDItem.forEach(function (_object) { q2uu1K.S$D(); _object.front(); }); if (typeof background_rect !== d1Pxx.c42 && background_rect !== d1Pxx.p8r) { background_rect.back(); } $(d1Pxx.w99, RacadSVGDesigner.canvas.node).each(function () { var _id, _object, _properties; _id = $(this).attr(d1Pxx.m$b); q2uu1K.s3o(); _object = RacadSVGDesigner.get_object(_id); if (_object) { _properties = RacadSVGDesigner.get_udraw_properties(_object); if (_properties.is_bleed || _properties.is_cropmarks) { _object.front(); } } }); if (RacadSVGDesigner.settings.display_layers) { RacadSVGDesigner.Layers.reset(); } }, rotate_template: function (deg) { var M9t = p0zBu; var L3f = "1934419134"; var j9b = "637295902"; var y8b = "9499"; var U5j = "42723"; var previous_rotation, rotation, _transform, diff, offset, E2, C0, e4; previous_rotation = RacadSVGDesigner.settings.template_rotation; M9t.s0(p0zBu[394202]); q2uu1K.s3o(); rotation = M9t.F_(previous_rotation, deg); if (rotation === (d1Pxx.N7H | p0zBu.X$) || rotation === -p0zBu.O3) { M9t.s6(p0zBu[235283]); rotation = M9t.F_(p0zBu[32075], p0zBu.U5); } if (typeof RacadSVGDesigner.canvas === d1Pxx.E_o) { _transform = `rotate(${rotation}deg)`; if (RacadSVGDesigner.canvas.width() > RacadSVGDesigner.canvas.height()) { diff = RacadSVGDesigner.canvas.width() - RacadSVGDesigner.canvas.height(); M9t.s6(p0zBu.R3); offset = M9t.L6(p0zBu.y8n, diff); if (rotation === -(d1Pxx.F$M << p0zBu.S1) || rotation === (n2Odt.j6N ^ p0zBu[122956])) { _transform += ` translateX(-${offset}px)`; } else if (rotation === -(n2Odt.j6N - p0zBu[122956]) || rotation === +d1Pxx.F$M) { E2 = -+j9b; M9t.s6(p0zBu[32075]); C0 = -M9t.L6(L3f, p0zBu[122956]); e4 = +p0zBu.y8n; for (var x9 = p0zBu.v2 - p0zBu[122956]; M9t.E7(x9.toString(), x9.toString().length, +y8b) !== E2; x9++) { _transform += ` translateX(${offset}px)`; M9t.s6(p0zBu[32075]); e4 += M9t.L6(p0zBu.y8n, p0zBu[122956]); } if (M9t.E7(e4.toString(), e4.toString().length, U5j - p0zBu[122956]) !== C0) { _transform *= ` translateX(${offset}px)`; } } } if (rotation === p0zBu.U5 * p0zBu[32075]) { _transform = p0zBu.e5; } $(RacadSVGDesigner.canvas.parent()).css(d1Pxx.g29, _transform); RacadSVGDesigner.settings.template_rotation = rotation; } }, resize_template: function () { var W48 = p0zBu; var i4V = 'ft'; var _properties, _bleed, _width, _height, _unit, multiplier; if (RacadSVGDesigner.settings.resize_documents) { _properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); _bleed = _properties.bleed; if (parseFloat(_properties.width) > p0zBu.U5 * p0zBu[32075] && parseFloat(_properties.height) > +p0zBu.U5) { if (!_bleed) { W48.s0(p0zBu.c7); _bleed = W48.F_(p0zBu[122956], p0zBu.U5); } _width = RacadSVGDesigner.settings.resize_documents.width; _height = RacadSVGDesigner.settings.resize_documents.height; _unit = RacadSVGDesigner.settings.resize_documents.unit; W48.s0(p0zBu[32075]); multiplier = W48.L6(a$dx4.C$N, p0zBu[122956]); if (_unit === i4V) { W48.s6(p0zBu.d1); multiplier = W48.F_(p0zBu.V8, n2Odt.X0U); } if (_width > (p0zBu.U5 | p0zBu[122956]) && _height > (p0zBu.U5 | p0zBu[122956])) { W48.s0(p0zBu[235283]); RacadSVGDesigner.Pages.update_document_size(W48.L6(multiplier, _width), W48.L6(multiplier, _height), _bleed); } } else { setTimeout(function () { RacadSVGDesigner.resize_template(); }, n2Odt.e6F >> p0zBu[122956]); } } } }; } else { window.alert(a$dx4.J5b); } RacadSVGDesigner.Load = { validate_designer: function (validate_designer, callback) { q2uu1K.s3o(); if (RacadSVGDesigner.settings.mode !== a$dx4.W09) { if (!validate_designer) { if (typeof callback === d1Pxx.d0a) { callback(); } } else { RacadSVGDesigner.template_count(function (response) { q2uu1K.s3o(); if (response <= +p0zBu.y8n) { if (typeof callback === d1Pxx.d0a) { callback(); } } else { RacadSVGDesigner.validate_license_key(function (response) { var h02 = 'license_key_expired'; if (response === a$dx4.w0f) { if (typeof callback === d1Pxx.d0a) { callback(); } } else { window.alert(i18n.t(h02)); } }); } }); } } else { if (typeof callback === d1Pxx.d0a) { callback(); } } }, get_design_data: function (design_file, callback) { q2uu1K.S$D(); if (design_file.length > p0zBu.U5 >> p0zBu[122956]) { if (design_file.substring(design_file.length - +p0zBu.r$f) === d1Pxx.G5a) { RacadSVGDesigner.design_loaded = p0zBu.e1; $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.load, design_file: design_file }, success: function (result) { if (typeof callback === d1Pxx.d0a) { callback(result); } } }); } else { if (typeof callback === d1Pxx.d0a) { callback(design_file); } } } }, file: function (design_file, callback, validate_designer) { RacadSVGDesigner.show_progress_modal(p0zBu[122956]); if (typeof validate_designer === d1Pxx.c42) { validate_designer = p0zBu.s2A; } this.validate_designer(validate_designer, function () { var P36 = "Error loading file."; if (design_file.length > +p0zBu.U5) { RacadSVGDesigner.design_loaded = p0zBu.e1; RacadSVGDesigner.Load.get_design_data(design_file, function (result) { var html; $(result).each(function () { if (this.nodeName.toLowerCase() === d1Pxx.G5a) { window.resultSVG = this; return; } }); q2uu1K.s3o(); if (typeof window.resultSVG !== d1Pxx.c42) { html = window.resultSVG.outerHTML; if (typeof html === d1Pxx.c42) { html = new XMLSerializer().serializeToString(window.resultSVG); } if (typeof RacadSVGDesigner.canvas === d1Pxx.E_o) { if ($(document).find($(RacadSVGDesigner.canvas.node)).length) { RacadSVGDesigner.canvas.remove(); } } $(a$dx4.A$0).append(html); RacadSVGDesigner.canvas = SVG.adopt($(a$dx4.A$0).children()[p0zBu.U5 >> p0zBu[122956]]); RacadSVGDesigner.Images.placeholder_array = new Array(); RacadSVGDesigner.Load.design(function () { p0zBu.s6(p0zBu.c7); RacadSVGDesigner.settings.template_rotation = p0zBu.F_(p0zBu[122956], p0zBu.U5); if (typeof RacadSVGDesigner.canvas === d1Pxx.E_o) { $(RacadSVGDesigner.canvas.parent()).css(d1Pxx.g29, p0zBu.e5); } if (RacadSVGDesigner.settings.display_layers) { RacadSVGDesigner.Layers.reset(); } RacadSVGDesigner.is_bulk_replace = p0zBu.e1; RacadSVGDesigner.Zoom.update_max_zoom_step(); q2uu1K.S$D(); RacadSVGDesigner.Zoom.scaleToFit(); RacadSVGDesigner.hide_progress_modal(function () { RacadSVGDesigner.design_loaded = p0zBu.s2A; $(a$dx4.E0n).trigger({ type: a$dx4.X2X }); if (typeof callback === d1Pxx.d0a) { callback(result); } }); }); } }); } else { alert(P36); } }); }, from_upload: function (svgString, callback) { if (typeof RacadSVGDesigner.canvas === d1Pxx.E_o) { RacadSVGDesigner.canvas = undefined; $(a$dx4.A$0).empty(); } $(svgString).each(function () { if (this.nodeName.toLowerCase() === d1Pxx.G5a) { window.svgObject = this; return; } }); this.validate_designer(p0zBu.s2A, function () { $(a$dx4.A$0).append(svgObject.outerHTML); RacadSVGDesigner.canvas = SVG.adopt($(a$dx4.A$0).children()[p0zBu[122956]]); q2uu1K.S$D(); RacadSVGDesigner.Load.design(function () { q2uu1K.S$D(); if (typeof callback === d1Pxx.d0a) { callback(); } }); }); }, design: function (callback) { var _width, _height; _width = RacadSVGDesigner.canvas.rbox().width; _height = RacadSVGDesigner.canvas.rbox().height; $(a$dx4.A$0).hide(); this.images(); this.replace_rect(function () { var text_count; text_count = RacadSVGDesigner.Load.add_text_events(); RacadSVGDesigner.Load.loaded_summary = { pages: RacadSVGDesigner.Pages.list.count }; if (RacadSVGDesigner.Pages.list.length === +p0zBu.v2 || typeof RacadSVGDesigner.Pages.list.length === d1Pxx.c42) { RacadSVGDesigner.Load.loaded_summary.image_placeholders = RacadSVGDesigner.Images.placeholder_array.length; RacadSVGDesigner.Load.loaded_summary.text_count = text_count; } $(a$dx4.A$0).css(a$dx4.R$p, d1Pxx.S0D); $(a$dx4.A$0).show(); RacadSVGDesigner.canvas.children().forEach(function (child) { var _properties; _properties = RacadSVGDesigner.get_udraw_properties(child); if (_properties.is_bleed) { RacadSVGDesigner.bleed = child; RacadSVGDesigner.bleed.attr(a$dx4.l1R, p0zBu.e5); } q2uu1K.s3o(); if (_properties.is_cropmarks) { RacadSVGDesigner.cropmarks = child; } }); RacadSVGDesigner.rearrange_elements(); RacadSVGDesigner.Load.get_dimensions(_width, _height, function () { q2uu1K.s3o(); if (typeof callback === d1Pxx.d0a) { callback(); } }); }); }, get_dimensions: function (_width, _height, callback) { q2uu1K.s3o(); var udraw_properties; if ($(a$dx4.A$0).is(a$dx4.C$2)) { udraw_properties = { width: _width, height: _height }; if (typeof RacadSVGDesigner.canvas.attr(a$dx4.O$i) === d1Pxx.S0h) { udraw_properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); } RacadSVGDesigner.canvas.attr({ width: _width, height: _height }); RacadSVGDesigner.canvas.attr(a$dx4.O$i, JSON.stringify(udraw_properties)); p0zBu.s6(p0zBu[122956]); RacadSVGDesigner.Zoom.current_zoom = p0zBu.L6(p0zBu[122956], p0zBu.v2); if (typeof RacadSVGDesigner.Load.loaded_summary === d1Pxx.E_o) { RacadSVGDesigner.Load.loaded_summary.aspect_ratio = udraw_properties.width / udraw_properties.height; RacadSVGDesigner.Load.loaded_summary.width = udraw_properties.width; RacadSVGDesigner.Load.loaded_summary.height = udraw_properties.height; } if (typeof callback === d1Pxx.d0a) { callback(); } } else { setTimeout(function () { RacadSVGDesigner.Load.get_dimensions(_width, _height, callback); }, +d1Pxx.x$d); } }, images: function () { var G4 = 135; var images_length, count, percentage; images_length = $(a$dx4.r42).length; if (images_length > +p0zBu.U5) { count = p0zBu[32075]; $(a$dx4.r42).each(function () { var V89 = q2uu1K; var B3k = p0zBu; var X1 = 134; var progress, object, properties, clippath_url, clippath_id, filter_id, percentage; B3k.s6(p0zBu.w5); progress = B3k.L6(images_length, count); object = SVG.adopt(this); properties = RacadSVGDesigner.get_udraw_properties(object); if (properties.is_placeholder) { RacadSVGDesigner.Images.placeholder_array.push(object); } if (properties.editable && !properties.preview_only || RacadSVGDesigner.settings.mode === a$dx4.W09) { $(this).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); } if (properties.preview_only) { object.attr(a$dx4.l1R, p0zBu.e5); } if (RacadSVGDesigner.settings.mode === a$dx4.W09 || properties.user_added) { RacadSVGDesigner.deselect_other_objects(object); object.draggable().resize(); if (RacadSVGDesigner.settings.prevent_editing_when_dragging) { object.on(d1Pxx.x4a, function (e) { RacadSVGDesigner.on_dragmove(e); }).on(d1Pxx.k89, function (e) { V89.S$D(); RacadSVGDesigner.on_dragend(e); }); } $(a$dx4.Q3D).css({ 'pointer-events': d1Pxx.O7i }); } object.on(d1Pxx.u_N, function () { V89.s3o(); RacadSVGDesigner.Images.on_image_click(this); }).on(n2Odt.H8y, function () { V89.S$D(); object.front(); }).on(n2Odt.W5T, function () { V89.S$D(); RacadSVGDesigner.rearrange_elements(); }); clippath_url = object.parent().attr(d1Pxx.L$5); if (typeof clippath_url === d1Pxx.S0h && clippath_url.length > +p0zBu.U5) { clippath_id = clippath_url.replace(d1Pxx.q9Y, p0zBu.e5).replace(d1Pxx.x6X, p0zBu.e5); object.parent().clipper = SVG.get(clippath_id); } filter_id = object.attr(n2Odt.E$9); if (typeof filter_id === d1Pxx.S0h && filter_id.length > p0zBu[122956]) { object.filterer = SVG.get(filter_id); } B3k.s0(X1); percentage = B3k.F_(progress, p0zBu[122956], d1Pxx.x$d, p0zBu.r$f); RacadSVGDesigner.update_progress_bar(percentage); B3k.s0(p0zBu[235283]); count += B3k.L6(p0zBu[32075], p0zBu.v2); }); } else { p0zBu.s0(G4); percentage = p0zBu.L6(p0zBu[122956], p0zBu.v2, p0zBu.r$f, p0zBu[32075], d1Pxx.x$d); RacadSVGDesigner.update_progress_bar(percentage); } }, replace_rect: function (callback) { var x5A = p0zBu; var V7 = 137; var M5w = '#svg_canvas rect'; var Y$ = 136; var _array, image_clip_pairing, object, properties, percentage; _array = new Array(); image_clip_pairing = new Array(); $(M5w).each(function () { var c4U = 'rgb(0, 255, 0)'; var _fill; _fill = $(this).css(d1Pxx.X_Y); if (_fill === c4U || _fill === p0zBu.a3l) { _array.push($(this)); } }); if (RacadSVGDesigner.settings.mode === a$dx4.W09) { for (var i = +p0zBu.U5; i < _array.length; i++) { object = SVG.get(_array[i].attr(d1Pxx.m$b)); if (object) { properties = RacadSVGDesigner.get_udraw_properties(object); properties.editable = p0zBu.s2A; $(object.node).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); RacadSVGDesigner.deselect_other_objects(object); object.draggable().resize(); if (RacadSVGDesigner.settings.prevent_editing_when_dragging) { object.on(d1Pxx.x4a, function (e) { RacadSVGDesigner.on_dragmove(e); }).on(d1Pxx.k89, function (e) { RacadSVGDesigner.on_dragend(e); }); } $(a$dx4.Q3D).css({ 'pointer-events': d1Pxx.O7i }); RacadSVGDesigner.update_udraw_properties(object, properties); object.on(d1Pxx.u_N, function () { q2uu1K.s3o(); RacadSVGDesigner.Images.on_image_click(this); }); } } x5A.s0(Y$); percentage = x5A.F_(p0zBu[235283], p0zBu[149144], d1Pxx.x$d, p0zBu[32075]); RacadSVGDesigner.update_progress_bar(percentage); if (typeof callback === d1Pxx.d0a) { callback(); } return; } if (_array.length > p0zBu.U5 << p0zBu[122956]) { RacadSVGDesigner.Load.__replace_rect(_array, +p0zBu.U5, image_clip_pairing, function (pairing_array) { var pairing, _group, _rect, clip; for (var i = +p0zBu.U5; i < pairing_array.length; i++) { pairing = pairing_array[i]; _group = pairing.group; _rect = pairing.rect; clip = RacadSVGDesigner.canvas.clip().add(_rect); _group.clipWith(clip); } if (typeof callback === d1Pxx.d0a) { callback(); } }); } else { x5A.s0(V7); percentage = x5A.F_(p0zBu.r$f, p0zBu.y8n, p0zBu.E3, p0zBu[122956]); RacadSVGDesigner.update_progress_bar(percentage); if (typeof callback === d1Pxx.d0a) { callback(); } } }, __replace_rect: function (rect_array, index, image_clip_pairing, callback) { var _rect, _x, _y, _width, _height, _transform, _clippath, _properties; _rect = SVG.adopt(rect_array[index][+p0zBu.U5]); _x = _rect.attr(d1Pxx.T4c); _y = _rect.attr(d1Pxx.M0Y); _width = _rect.attr(d1Pxx.s0r); _height = _rect.attr(d1Pxx.v26); _transform = _rect.attr(d1Pxx.g29); _clippath = _rect.attr(d1Pxx.L$5); _properties = RacadSVGDesigner.get_udraw_properties(_rect); RacadSVGDesigner.canvas.image(RacadSVGDesigner.settings.image_placeholder_src).loaded(function (loader) { var x8o = p0zBu; var F0N = 'rgba(0,0,0,0)'; var a0 = 138; var _image, _group, properties, _newrect, pairing, progress, percentage; _image = this; _group = RacadSVGDesigner.canvas.group(); _group.attr({ width: _width, height: _height, transform: _transform }).add(_image); $(_group.node).insertAfter(rect_array[index]); properties = { is_placeholder: p0zBu.s2A, editable: p0zBu.s2A, orig_coords: { width: _width, height: _height, x: _x, y: _y } }; if (_properties.user_added) { properties.user_added = p0zBu.s2A; } RacadSVGDesigner.update_udraw_properties(_image, properties); RacadSVGDesigner.Images.placeholder_array.push(_image); $(_image.node).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); if (RacadSVGDesigner.settings.mode === a$dx4.W09 || properties.user_added) { RacadSVGDesigner.deselect_other_objects(_image); _image.draggable().resize(); if (RacadSVGDesigner.settings.prevent_editing_when_dragging) { _image.on(d1Pxx.x4a, function (e) { q2uu1K.s3o(); RacadSVGDesigner.on_dragmove(e); }).on(d1Pxx.k89, function (e) { q2uu1K.s3o(); RacadSVGDesigner.on_dragend(e); }); } $(a$dx4.Q3D).css({ 'pointer-events': d1Pxx.O7i }); } _image.attr({ x: _x, y: _y, width: _width, height: _height }).on(d1Pxx.u_N, function () { q2uu1K.s3o(); RacadSVGDesigner.Images.on_image_click(this); }); _newrect = RacadSVGDesigner.canvas.rect(); _newrect.attr({ x: _x, y: _y, width: _width, height: _height, fill: F0N, 'clip-path': _clippath }); pairing = { group: _group, rect: _newrect }; image_clip_pairing.push(pairing); _rect.remove(); progress = (index + +p0zBu.v2) / rect_array.length + +p0zBu.v2; x8o.s6(a0); percentage = x8o.F_(p0zBu.r$f, progress, d1Pxx.x$d); RacadSVGDesigner.update_progress_bar(percentage); if (typeof rect_array[index + p0zBu.v2 * p0zBu[32075]] !== d1Pxx.c42) { x8o.s0(p0zBu.n6); RacadSVGDesigner.Load.__replace_rect(rect_array, x8o.L6(index, p0zBu.v2), image_clip_pairing, callback); } else { if (typeof callback === d1Pxx.d0a) { callback(image_clip_pairing); } } }); }, add_text_events: function () { var w6o = p0zBu; var I34 = '#svg_canvas text'; var text_count, count; text_count = $(I34).length; if (text_count > (p0zBu.U5 | p0zBu[122956])) { w6o.s0(p0zBu[122956]); count = w6o.L6(p0zBu.Q_, p0zBu.U5); $(I34).each(function () { var I8 = 140; var H3 = 139; var d_D = 'editable'; var object, properties, tspanArray, tspan, progress, percentage; object = SVG.adopt(this); properties = RacadSVGDesigner.get_udraw_properties(object); if (!properties.hasOwnProperty(d_D)) { properties.editable = p0zBu.s2A; } if (properties.editable && !properties.preview_only || RacadSVGDesigner.settings.mode === a$dx4.W09) { $(object.node).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); } if (properties.preview_only) { object.attr(a$dx4.l1R, p0zBu.e5); } if (RacadSVGDesigner.settings.mode === a$dx4.W09 || properties.user_added) { RacadSVGDesigner.deselect_other_objects(object); object.draggable().resize(); if (RacadSVGDesigner.settings.prevent_editing_when_dragging) { object.on(d1Pxx.x4a, function (e) { RacadSVGDesigner.on_dragmove(e); }).on(d1Pxx.k89, function (e) { q2uu1K.S$D(); RacadSVGDesigner.on_dragend(e); }); } $(a$dx4.Q3D).css({ 'pointer-events': d1Pxx.O7i }); } tspanArray = object.node.childNodes; for (var i = p0zBu[122956]; i < tspanArray.length; i++) { tspan = SVG.adopt(tspanArray[i]); if (typeof tspan.node.attributes.style !== d1Pxx.c42) { tspan.node.attributes.style.value = p0zBu.e5; } } RacadSVGDesigner.update_udraw_properties(object, properties); q2uu1K.s3o(); object.on(a$dx4.B9s, function () { RacadSVGDesigner.Text.on_text_click(this); }); w6o.s0(p0zBu[122956]); count += w6o.F_(p0zBu.Q_, p0zBu.v2); w6o.s6(H3); progress = w6o.L6(text_count, p0zBu[122956], p0zBu.y8n, count); w6o.s6(I8); percentage = w6o.F_(p0zBu.Q_, p0zBu.r$f, d1Pxx.x$d, progress, p0zBu[32075]); RacadSVGDesigner.update_progress_bar(percentage); }); return count; } else { RacadSVGDesigner.update_progress_bar(+d1Pxx.x$d); return text_count; } }, new_file: function (width_px, height_px) { RacadSVGDesigner.canvas = undefined; $(a$dx4.A$0).empty(); RacadSVGDesigner.canvas = SVG(a$dx4.j3T).size(width_px, height_px); this.get_dimensions(width_px, height_px, function () { RacadSVGDesigner.Text.build_font_size_select(); RacadSVGDesigner.Zoom.build_zoom_dropdown_menu(); q2uu1K.s3o(); RacadSVGDesigner.Zoom.scaleToFit(); }); q2uu1K.s3o(); $(a$dx4.E0n).trigger({ type: a$dx4.X2X }); }, json_file: function (design_file, callback) { var x7N = p0zBu; q2uu1K.s3o(); if (design_file.length > p0zBu[122956]) { RacadSVGDesigner.design_loaded = p0zBu.e1; $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.load, design_file: design_file }, success: function (result) { var parsed; parsed = result; if (typeof result === d1Pxx.S0h) { parsed = JSON.parse(result); } RacadSVGDesigner.Pages.list = parsed.pages; RacadSVGDesigner.Load.create_pages_from_json(parsed.pages); RacadSVGDesigner.Load.file(parsed.pages[+p0zBu.U5].design_file, function (design_data) { var c6g = '[data-udrawsvg="page_list"] li[data-page_index="0"] img'; x7N.s6(p0zBu[32075]); RacadSVGDesigner.settings.current_page = current_index = x7N.F_(p0zBu.U5, p0zBu[122956]); RacadSVGDesigner.Pages.list[p0zBu.U5 - p0zBu[122956]].design_data = design_data; if (RacadSVGDesigner.settings.mode === a$dx4.W09) { RacadSVGDesigner.settings.session_id = parsed.session_id; } q2uu1K.s3o(); $(c6g).addClass(a$dx4.Q60); RacadSVGDesigner.design_loaded = p0zBu.s2A; x7N.s6(p0zBu[122956]); RacadSVGDesigner.Load.fetch_design_data(p0zBu[32075], x7N.L6(p0zBu[122956], d1Pxx.Q4N), +p0zBu.U5); if (typeof callback === d1Pxx.d0a) { callback(); } }); }, error: function (error) { console.error(error); } }); } }, create_pages_from_json: function (design_array) { var page; $(a$dx4.c95).empty(); for (var i = +p0zBu.U5; i < design_array.length; i++) { page = design_array[i]; RacadSVGDesigner.Pages.create_thumbnail(i, page); } }, design_file: function (callback, failed_callback) { var l09 = q2uu1K; var design_file; l09.s3o(); design_file = RacadSVGDesigner.settings.design_file; if (design_file.substring(design_file.length - p0zBu[235283]) === d1Pxx.G5a) { RacadSVGDesigner.Load.file(design_file, function () { var p9e = 'text, image'; l09.s3o(); RacadSVGDesigner.Text.build_font_size_select(); if (RacadSVGDesigner.settings.mode !== a$dx4.W09) { $(p9e, RacadSVGDesigner.canvas.node).each(function () { var _object; l09.S$D(); _object = RacadSVGDesigner.get_object($(this).attr(d1Pxx.m$b)); _object.draggable(p0zBu.e1).resize(d1Pxx.m0p).selectize(p0zBu.e1); }); if (RacadSVGDesigner.Images.placeholder_array.length > +p0zBu.U5) { RacadSVGDesigner.Images.show_bulk_replace_modal(); } if (typeof callback === d1Pxx.d0a) { callback(); } } else { if (typeof callback === d1Pxx.d0a) { callback(); } } }); } else if (design_file.substring(design_file.length - (d1Pxx.H0F - p0zBu[122956])) === a$dx4.O61) { RacadSVGDesigner.Load.json_file(design_file, function () { RacadSVGDesigner.Text.build_font_size_select(); if (RacadSVGDesigner.settings.mode !== a$dx4.W09) { if (RacadSVGDesigner.Images.placeholder_array.length > +p0zBu.U5) { RacadSVGDesigner.Images.show_bulk_replace_modal(); } if (typeof callback === d1Pxx.d0a) { callback(); } } else { if (typeof callback === d1Pxx.d0a) { callback(); } } }); } else { if (typeof failed_callback === d1Pxx.d0a) { failed_callback(); } } }, fetch_design_data: function (index, count, starting_index, callback) { var h2C = p0zBu; q2uu1K.S$D(); var _page, next_design_file; if (index + starting_index < count) { h2C.s6(p0zBu[394202]); _page = RacadSVGDesigner.Pages.list[h2C.F_(starting_index, index)]; if (typeof _page !== d1Pxx.c42 && typeof _page.design_data === d1Pxx.c42) { next_design_file = _page.design_file; $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.load, design_file: next_design_file }, success: function (result) { _page.design_data = result; q2uu1K.S$D(); h2C.s0(p0zBu.n6); RacadSVGDesigner.Load.fetch_design_data(h2C.L6(index, p0zBu.v2), count, starting_index, callback); } }); } index++; } else { if (typeof callback === d1Pxx.d0a) { callback(); } } } }; RacadSVGDesigner.Save = { validate_designer: function (validate_designer, callback) { var h_I = q2uu1K; h_I.S$D(); if (!validate_designer) { if (typeof callback === d1Pxx.d0a) { callback(); } } else { RacadSVGDesigner.template_count(function (response) { h_I.S$D(); var maximum_templates; maximum_templates = RacadSVGDesigner.settings.mode === a$dx4.W09 ? p0zBu.y8n ^ p0zBu[122956] : +p0zBu.r$f; if (response < maximum_templates) { if (typeof callback === d1Pxx.d0a) { callback(); } } else { RacadSVGDesigner.validate_license_key(function (response) { var g3Z = 'maximum_templates_reached'; h_I.s3o(); if (response === a$dx4.w0f) { if (typeof callback === d1Pxx.d0a) { callback(); } } else { window.alert(i18n.t(g3Z)); } }); } }); } }, file: function (callback, save_uploaded_file, validate_designer) { var H4Z = 'No SVG was loaded.'; if (typeof save_uploaded_file === d1Pxx.c42) { save_uploaded_file = p0zBu.e1; } if (typeof validate_designer === d1Pxx.c42) { validate_designer = p0zBu.s2A; } if (typeof RacadSVGDesigner.canvas === d1Pxx.c42) { window.alert(H4Z); return; } this.validate_designer(validate_designer, function () { var i2G = p0zBu; var n0e = q2uu1K; var C6q = 'udraw_svg_design_saved'; var design_file, preview_url, images_array, svg; design_file = RacadSVGDesigner.settings.design_file; preview_url = p0zBu.e5; for (var prop in RacadSVGDesigner.Pages.list[p0zBu[122956]]) { if (prop.indexOf(a$dx4.u_A) > -+p0zBu.v2) { preview_url = RacadSVGDesigner.Pages.list[+p0zBu.U5][prop]; } } n0e.S$D(); if (design_file.length > +p0zBu.U5 && design_file.substring(design_file.length - +d1Pxx.H0F) === a$dx4.O61) { RacadSVGDesigner.Pages.process_data(RacadSVGDesigner.settings.current_page, function (svg, index) { n0e.S$D(); RacadSVGDesigner.svg_to_png(svg, function (preview_data) { RacadSVGDesigner.Pages.save(svg, index, preview_data, function () { RacadSVGDesigner.Pages.update_pages_json(function () { $(a$dx4.E0n).trigger({ type: C6q, design_file: design_file, preview_url: preview_url }); if (typeof callback === d1Pxx.d0a) { callback(); } }); }); }); }); } else { images_array = new Array(); $(a$dx4.r42).each(function () { n0e.S$D(); var _image; _image = SVG.adopt(this); images_array.push(_image); }); images_array.forEach(function (image) { image.attr(d1Pxx.o7s, p0zBu.e5); }); RacadSVGDesigner.show_progress_modal(+p0zBu.U5); $(a$dx4.A$0).hide(); $(a$dx4.k0H).each(function () { var _id, object; n0e.s3o(); _id = $(this).attr(d1Pxx.m$b); object = RacadSVGDesigner.get_object(_id); if (object) { object.selectize(p0zBu.e1).resize(d1Pxx.m0p).draggable(p0zBu.e1); } }); svg = RacadSVGDesigner.canvas.svg(); RacadSVGDesigner.svg_to_png(svg, function (preview_data) { var G5t = 'polygon.threeD_face, rect.threeD_rect, text.threeD_text'; $(a$dx4.k0H).each(function () { var L_n = "303834166"; var C_G = "57480"; var F05 = "4508"; var M6V = "2119556804"; var _id, object, properties, L9, y6, E0; _id = $(this).attr(d1Pxx.m$b); n0e.S$D(); object = RacadSVGDesigner.get_object(_id); if (object) { properties = RacadSVGDesigner.get_udraw_properties(object); if (properties.preview_only) { i2G.s6(p0zBu[514270]); L9 = i2G.L6(p0zBu.M$, L_n); i2G.s6(p0zBu[149144]); y6 = i2G.L6(p0zBu.S1, M6V); i2G.s6(p0zBu[32075]); E0 = i2G.F_(p0zBu.y8n, p0zBu[122956]); for (var I0 = p0zBu.v2 - p0zBu[122956]; i2G.E7(I0.toString(), I0.toString().length, C_G * p0zBu[32075]) !== L9; I0++) { object.attr(a$dx4.C9_, a$dx4.C9_); E0 += +p0zBu.y8n; } if (i2G.c6(E0.toString(), E0.toString().length, +F05) !== y6) { object.attr(a$dx4.l1R, a$dx4.C9_); } } } }); if (typeof RacadSVGDesigner.bleed !== d1Pxx.c42) { RacadSVGDesigner.bleed.attr(a$dx4.l1R, a$dx4.C9_); } n0e.S$D(); SVG.select(G5t).members.forEach(function (element) { element.draggable(p0zBu.e1).selectize(p0zBu.e1).resize(d1Pxx.m0p); element.attr(a$dx4.l1R, a$dx4.C9_); }); RacadSVGDesigner.Zoom.zoom_canvas(+a$dx4.h8l, function () { var _image_array, svg; if (RacadSVGDesigner.settings.embed_images) { _image_array = $(d1Pxx.p_G, RacadSVGDesigner.canvas.node); RacadSVGDesigner.Save.embed_images(_image_array, +p0zBu.U5, function () { var svg; n0e.s3o(); svg = $(RacadSVGDesigner.canvas.svg())[+p0zBu.U5].outerHTML; if (save_uploaded_file) { svg = RacadSVGDesigner.Load.contents; } RacadSVGDesigner.Save.__process_save(svg, preview_data, function (result) { $(a$dx4.E0n).trigger({ type: C6q, design_file: result.output_path + result.document_name, preview_url: result.output_path + result.preview_image }); if (typeof callback === d1Pxx.d0a) { callback(result); } }); }); } else { svg = $(RacadSVGDesigner.canvas.svg())[p0zBu.U5 >> p0zBu.S1].outerHTML; if (save_uploaded_file) { svg = RacadSVGDesigner.Load.contents; } RacadSVGDesigner.Save.__process_save(svg, preview_data, function (result) { $(a$dx4.E0n).trigger({ type: C6q, design_file: result.output_path + result.document_name, preview_url: result.output_path + result.preview_image }); if (typeof callback === d1Pxx.d0a) { callback(result); } }); } }); }); } }); }, __process_save: function (svg, preview_data, callback) { var P2v = p0zBu; q2uu1K.s3o(); $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.save, data: svg, output_path: RacadSVGDesigner.settings.output_path, preview_data: preview_data }, success: function (result) { P2v.s0(p0zBu[514270]); RacadSVGDesigner.update_progress_bar(P2v.L6(p0zBu.Q_, d1Pxx.x$d)); RacadSVGDesigner.hide_progress_modal(function () { if (typeof callback === d1Pxx.d0a) { callback(result); } }); }, error: function (error) { console.error(error); P2v.s0(p0zBu[32075]); RacadSVGDesigner.update_progress_bar(P2v.F_(p0zBu.U5, p0zBu[122956])); RacadSVGDesigner.hide_progress_modal(); } }); }, embed_images: function (image_array, index, callback) { var h4m = p0zBu; var _object, _element, url; _object = $($(image_array[index])[p0zBu[122956]]); q2uu1K.S$D(); if (typeof _object === d1Pxx.E_o) { _element = RacadSVGDesigner.get_object(_object.attr(d1Pxx.m$b)); if (_element.type === d1Pxx.p_G) { url = _element.attr(d1Pxx.C2V) || _element.attr(n2Odt.A5l) || _element.attr(a$dx4.l_H); if (url.indexOf(a$dx4.O6a) === +p0zBu.U5) { if (typeof image_array[index + +p0zBu.v2] === d1Pxx.E_o) { h4m.s0(p0zBu[394202]); RacadSVGDesigner.Save.embed_images(image_array, h4m.L6(index, p0zBu[32075]), callback); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } } else { $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.convert_url_to_base64, url: url }, success: function (response) { _element.attr(d1Pxx.C2V, response); _element.attr(a$dx4.l_H, response); if (typeof image_array[index + +p0zBu.v2] === d1Pxx.E_o) { h4m.s0(p0zBu.H4); RacadSVGDesigner.Save.embed_images(image_array, h4m.L6(p0zBu[32075], index, p0zBu.v2), callback); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } } }); } } else { if (typeof image_array[index + p0zBu[32075]] === d1Pxx.E_o) { h4m.s0(p0zBu[394202]); RacadSVGDesigner.Save.embed_images(image_array, h4m.F_(index, p0zBu[32075]), callback); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } } } else { if (typeof image_array[index + (p0zBu.v2 ^ p0zBu[122956])] === d1Pxx.E_o) { h4m.s0(p0zBu.B4); RacadSVGDesigner.Save.embed_images(image_array, h4m.F_(p0zBu.v2, index, p0zBu[122956]), callback); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } } } }; $(window).on(n2Odt.Z9r, function () { q2uu1K.s3o(); RacadSVGDesigner.Zoom.calculate_canvas_container_height(); }); $(a$dx4.y0z).on(d1Pxx.u_N, function () { $(a$dx4.j8N).modal(d1Pxx.x0E); }); $(a$dx4.r3f).on(d1Pxx.u_N, function () { q2uu1K.S$D(); $(a$dx4.k8L).trigger(d1Pxx.u_N); }); $(a$dx4.f7I).on(d1Pxx.u_N, function () { $(a$dx4.f4p).trigger(d1Pxx.u_N); }); RacadSVGDesigner.Zoom = { current_zoom: p0zBu[32075], zoom_step: a$dx4.Z5l, max_zoom: a$dx4.c$9 - p0zBu[122956], is_busy: p0zBu.e1, calculate_canvas_container_height: function () { var f2g = p0zBu; q2uu1K.S$D(); var T_p = '[data-udrawsvg="SVGDesigner"] .zoom_container'; var b2 = 143; var n4a = '[data-udrawsvg="SVGDesigner"] .editing_tips_div'; var d6 = 142; var N$Q = 'div.tool_container_top.has_tabs'; var r0u = '[data-udrawsvg="SVGDesigner"] div.main_body'; var F6O = '[data-udrawsvg="SVGDesigner"] .action_container'; var main_body_height, tips_div_height, zoom_height, action_height, top_container, canvas_container_height; if ($(a$dx4.G$2).is(a$dx4.C$2)) { main_body_height = $(r0u).innerHeight(); tips_div_height = $(n4a).outerHeight(); zoom_height = $(T_p).outerHeight(); action_height = $(F6O).outerHeight(); top_container = $(N$Q).outerHeight(); f2g.s6(d6); canvas_container_height = f2g.F_(top_container, main_body_height, action_height, tips_div_height, zoom_height); f2g.s0(b2); $(a$dx4.G$2).height(f2g.L6(a$dx4.D9r, p0zBu[32075], canvas_container_height)); RacadSVGDesigner.Zoom.scaleToFit(+p0zBu.U5); } else { setTimeout(function () { q2uu1K.S$D(); RacadSVGDesigner.Zoom.calculate_canvas_container_height(); }, +d1Pxx.x$d); } }, zoom_canvas: function (scale, callback) { var properties, _width, _height; RacadSVGDesigner.Zoom.current_zoom = scale; properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); _width = properties.width * scale; _height = properties.height * scale; RacadSVGDesigner.canvas.size(_width, _height); this.update_zoom_display(); $(a$dx4.E0n).trigger({ type: a$dx4.Y7S }); if (typeof callback === d1Pxx.d0a) { callback(); } }, update_zoom_display: function () { var Q4c = '[data-udrawSVG="zoom_display"]'; var text; text = Math.round(RacadSVGDesigner.Zoom.current_zoom * (d1Pxx.x$d - p0zBu[122956])) + d1Pxx.k7G; $(Q4c).text(text); }, increase_zoom: function () { q2uu1K.s3o(); if (this.current_zoom + this.zoom_step <= this.max_zoom) { this.current_zoom += this.zoom_step; p0zBu.s0(p0zBu[394202]); var F0 = p0zBu.F_(p0zBu.v5, p0zBu.c4); this.current_zoom = Math.round(this.current_zoom * +d1Pxx.x$d) / F0; this.zoom_canvas(this.current_zoom); this.update_zoom_display(); this.update_check(); } }, decrease_zoom: function () { q2uu1K.s3o(); var P_ = 144; if (this.current_zoom - this.zoom_step > +p0zBu.U5) { this.current_zoom -= this.zoom_step; p0zBu.s6(P_); var k4 = p0zBu.L6(p0zBu.r1, p0zBu.w5, p0zBu.G2, p0zBu.T$, p0zBu.p8); this.current_zoom = Math.round(this.current_zoom * k4) / +d1Pxx.x$d; this.zoom_canvas(this.current_zoom); this.update_zoom_display(); this.update_check(); } }, build_zoom_dropdown_menu: function () { var k$_ = 'ul.zoom_dropdown_menu'; var max_zoom, step, _ul, _check, _span, _a, _li; max_zoom = RacadSVGDesigner.Zoom.max_zoom; step = RacadSVGDesigner.Zoom.zoom_step; _ul = $(k$_); _ul.empty(); for (var i = step * +d1Pxx.Q4N; i <= max_zoom; i += step * +d1Pxx.Q4N) { _check = $(a$dx4.s5t).addClass(a$dx4.C7Z); _span = $(a$dx4.I$u).text(Math.round(i * (d1Pxx.x$d - p0zBu[122956])) + d1Pxx.k7G); _a = $(n2Odt.f_T).attr({ href: p0zBu.o$, 'data-zoom': i }).append(_span, _check).on(d1Pxx.u_N, function () { var J3z = 'data-zoom'; var zoom; zoom = parseFloat($(this).attr(J3z)); q2uu1K.S$D(); if (!isNaN(zoom)) { $(a$dx4.J4a).each(function () { $(this).removeClass(a$dx4.Q60); }); $(a$dx4.J4a, this).addClass(a$dx4.Q60); RacadSVGDesigner.Zoom.current_zoom = zoom; RacadSVGDesigner.Zoom.zoom_canvas(zoom); } }); _li = $(a$dx4.D_a).append(_a); _ul.append(_li); } _ul.append(RacadSVGDesigner.Zoom.build_scale_to_fit_option()); }, build_scale_to_fit_option: function () { var v0l = 'scale_to_fit'; var _check, _span, _a, _li; _check = $(a$dx4.s5t).addClass(a$dx4.C7Z); _span = $(a$dx4.I$u).text(i18n.t(v0l)); _a = $(n2Odt.f_T).attr({ href: p0zBu.o$ }).append(_span, _check).on(d1Pxx.u_N, function () { $(a$dx4.J4a).each(function () { q2uu1K.S$D(); $(this).removeClass(a$dx4.Q60); }); $(a$dx4.J4a, this).addClass(a$dx4.Q60); q2uu1K.s3o(); RacadSVGDesigner.Zoom.scaleToFit(); }); _li = $(a$dx4.D_a).append(_a); return _li; }, update_check: function () { var A_v = '[data-zoom="'; var zoom; zoom = RacadSVGDesigner.Zoom.current_zoom; $(a$dx4.J4a).each(function () { q2uu1K.S$D(); $(this).removeClass(a$dx4.Q60); }); $(A_v + zoom + n2Odt.k_$).trigger(d1Pxx.u_N); }, scaleToFit: function (attempts) { var c_u = p0zBu; var L1C = 'udraw_svg_scaled_to_fit'; if (typeof attempts === d1Pxx.c42) { attempts = +p0zBu.U5; } if (attempts > +d1Pxx.U_x) { this.update_zoom_display(); RacadSVGDesigner.Zoom.is_busy = p0zBu.e1; $(a$dx4.E0n).trigger({ type: L1C }); return; } if ($(a$dx4.A$0).is(a$dx4.C$2) && !RacadSVGDesigner.Zoom.is_busy && typeof RacadSVGDesigner.canvas === d1Pxx.E_o) { RacadSVGDesigner.Zoom.is_busy = p0zBu.s2A; c_u.s0(p0zBu.c7); RacadSVGDesigner.Zoom.zoom_canvas(c_u.F_(p0zBu[122956], p0zBu.v2), function () { var C$ = 320; var w4 = 288; var canvasDimensions, containerDimensions, ratio; canvasDimensions = { width: RacadSVGDesigner.canvas.rbox().width, height: RacadSVGDesigner.canvas.rbox().height }; containerDimensions = { width: $(a$dx4.G$2).width() * RacadSVGDesigner.settings.canvas_scale_multiplier, height: $(a$dx4.G$2).height() * RacadSVGDesigner.settings.canvas_scale_multiplier }; q2uu1K.s3o(); if (canvasDimensions.width > +p0zBu.U5 && canvasDimensions.height > p0zBu[122956] && containerDimensions.width > p0zBu[122956] && containerDimensions.height > +p0zBu.U5) { c_u.s0(p0zBu.c7); var V0 = c_u.F_(w4, C$); ratio = (p0zBu.v2 >> V0) / Math.max(canvasDimensions.width / containerDimensions.width, canvasDimensions.height / containerDimensions.height); RacadSVGDesigner.Zoom.zoom_canvas(ratio, function () { RacadSVGDesigner.Zoom.update_zoom_display(); RacadSVGDesigner.Zoom.is_busy = p0zBu.e1; q2uu1K.s3o(); $(a$dx4.E0n).trigger({ type: L1C }); }); } else { setTimeout(function () { c_u.s0(p0zBu.r_); RacadSVGDesigner.Zoom.scaleToFit(c_u.F_(p0zBu.v2, p0zBu[32075], attempts)); }, d1Pxx.x$d * p0zBu[32075]); } }); } else { setTimeout(function () { c_u.s0(p0zBu.r_); RacadSVGDesigner.Zoom.scaleToFit(c_u.L6(p0zBu.v2, p0zBu[32075], attempts)); }, +n2Odt.e6F); } }, update_max_zoom_step: function () { var a28 = p0zBu; var I$Z = 0.01; var k2L = "80"; var m8f = "0.25"; var max_zoom, step, _prop, _width, _height; max_zoom = +a$dx4.c$9; step = a$dx4.Z5l; _prop = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); _width = _prop.width; _height = _prop.height; if (_width > +n2Odt.r2R * p0zBu.V8 || _height > +n2Odt.r2R * p0zBu.V8) { a28.s0(p0zBu.c7); max_zoom = a28.F_(p0zBu[122956], a$dx4.h8l); } if (_width > (n2Odt.W$Y - p0zBu[122956]) * p0zBu.V8 || _height > (n2Odt.W$Y ^ p0zBu[122956]) * +a$dx4.C$N) { max_zoom = p0zBu[32075]; } q2uu1K.s3o(); if (_width > +n2Odt.O5d * (a$dx4.C$N << p0zBu.S1) || _height > +n2Odt.O5d * +a$dx4.C$N) { a28.s6(p0zBu.c7); max_zoom = a28.L6(p0zBu[122956], n2Odt.t5H); } if (_width > (k2L - p0zBu[122956]) * +a$dx4.C$N || _height > (k2L >> p0zBu.Q_) * +a$dx4.C$N) { max_zoom = +m8f; step = I$Z; } RacadSVGDesigner.Zoom.max_zoom = max_zoom; RacadSVGDesigner.Zoom.zoom_step = step; RacadSVGDesigner.Zoom.build_zoom_dropdown_menu(); } }; $(a$dx4.i46).on(d1Pxx.u_N, function () { RacadSVGDesigner.Zoom.increase_zoom(); }); $(a$dx4.I1e).on(d1Pxx.u_N, function () { RacadSVGDesigner.Zoom.decrease_zoom(); }); RacadSVGDesigner.Images = { editing_id: undefined, placeholder_array: new Array(), array: new Array(), local_images: new Array(), add_image: function (image_url, callback) { RacadSVGDesigner.history_actions.save_state(); RacadSVGDesigner.canvas.image(image_url).loaded(function (loader) { var E3C = 'udraw_svg_image_added'; var image, ratio, vb_width, vb_height, properties; image = this; ratio = +p0zBu.v2; vb_width = RacadSVGDesigner.canvas.viewbox().width; vb_height = RacadSVGDesigner.canvas.viewbox().height; if (image.attr(d1Pxx.s0r) > RacadSVGDesigner.canvas.width()) { ratio = vb_width / image.attr(d1Pxx.s0r); image.width(image.width() * ratio).height(image.height() * ratio); } if (image.attr(d1Pxx.v26) > RacadSVGDesigner.canvas.height()) { ratio = vb_height / image.attr(d1Pxx.v26); image.width(image.width() * ratio).height(image.height() * ratio); } properties = { original_src: image_url, editable: p0zBu.s2A }; if (RacadSVGDesigner.settings.mode === p0zBu.e5) { properties.user_added = p0zBu.s2A; } RacadSVGDesigner.update_udraw_properties(image, properties); RacadSVGDesigner.rearrange_elements(); RacadSVGDesigner.deselect_other_objects(this); this.resize().draggable(); if (RacadSVGDesigner.settings.prevent_editing_when_dragging) { this.on(d1Pxx.x4a, function (e) { q2uu1K.s3o(); RacadSVGDesigner.on_dragmove(e); }).on(d1Pxx.k89, function (e) { q2uu1K.s3o(); RacadSVGDesigner.on_dragend(e); }); } this.on(d1Pxx.u_N, function () { q2uu1K.S$D(); RacadSVGDesigner.Images.on_image_click(this); }); $(image.node).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); $(a$dx4.Q3D).css({ 'pointer-events': d1Pxx.O7i }); if (typeof callback === d1Pxx.d0a) { callback(image); } $(a$dx4.E0n).trigger({ 'type': E3C, 'object': image }); $(a$dx4.E0n).trigger({ type: a$dx4.N9G, object: image }); }); }, replace_image: function (_element, src, callback) { var _properties, _width, _height, _x, _y; if (typeof _element !== d1Pxx.c42) { RacadSVGDesigner.history_actions.save_state(); _properties = RacadSVGDesigner.get_udraw_properties(_element); _properties.original_src = src; _properties.is_placeholder = p0zBu.e1; _properties.is_custom = p0zBu.s2A; _properties.modifications = undefined; _width = parseFloat(_element.attr(d1Pxx.s0r)); _height = parseFloat(_element.attr(d1Pxx.v26)); _x = _element.attr(d1Pxx.T4c); _y = _element.attr(d1Pxx.M0Y); if (typeof _properties.orig_coords === d1Pxx.E_o) { _width = parseFloat(_properties.orig_coords.width); _height = parseFloat(_properties.orig_coords.height); _x = _properties.orig_coords.x; _y = _properties.orig_coords.y; } RacadSVGDesigner.canvas.image(src).loaded(function (loader) { var b85 = 'udraw_svg_image_replaced'; var image, design_file; image = this; _properties.naturalDim = { width: loader.width, height: loader.height }; image.attr({ x: _x, y: _y }); if (loader.width < loader.height) { image.attr({ width: _width, height: _width / loader.ratio }); } else { image.attr({ height: _height, width: _height * loader.ratio }); } _properties.original = { width: image.attr(d1Pxx.s0r), height: image.attr(d1Pxx.v26), x: image.attr(d1Pxx.T4c), y: image.attr(d1Pxx.M0Y), rotation: image.transform(d1Pxx.Q1h) }; _element.parent().node.insertBefore(image.node, _element.node); $(image.node).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); _element.selectize(p0zBu.e1); _element.remove(); RacadSVGDesigner.update_udraw_properties(image, _properties); RacadSVGDesigner.rearrange_elements(); RacadSVGDesigner.deselect_other_objects(image); image.resize().draggable(); if (RacadSVGDesigner.settings.prevent_editing_when_dragging) { image.on(d1Pxx.x4a, function (e) { q2uu1K.S$D(); RacadSVGDesigner.on_dragmove(e); }).on(d1Pxx.k89, function (e) { RacadSVGDesigner.on_dragend(e); }); } image.on(d1Pxx.u_N, function () { q2uu1K.S$D(); RacadSVGDesigner.Images.on_image_click(this); }); design_file = RacadSVGDesigner.settings.design_file; if (design_file.substring(design_file.length - (p0zBu.r$f << p0zBu[122956])) === d1Pxx.G5a && !_properties.user_added) { image.draggable(p0zBu.e1).resize(d1Pxx.m0p).selectize(p0zBu.e1); } $(image.node).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); $(a$dx4.Q3D).css({ 'pointer-events': d1Pxx.O7i }); $(a$dx4.E0n).trigger({ type: b85, object: image }); if (typeof callback === d1Pxx.d0a) { callback(image); } }); } else { if (typeof callback === d1Pxx.d0a) { callback(image); } } }, on_image_click: function (_image) { var E9J = 'perserveAspectRatio'; var T5z = '[data-udrawSVG="image_action_modal"] [data-udrawsvg="make_uneditable"]'; var c2O = '[data-udrawSVG="image_action_modal"] [data-udrawsvg="make_preview_only"]'; q2uu1K.s3o(); var U_Z = '[data-udrawSVG="image_action_modal"] [data-udrawsvg="make_always_front"]'; var Y3A = '[data-udrawSVG="image_action_modal"] [data-udrawsvg="make_always_back"]'; var K4f = '[data-udrawSVG="image_action_modal"] [data-udrawsvg="perserve_aspect_ratio"]'; var properties, _perserve_aspect_ratio; RacadSVGDesigner.Text.hide_editor(); if (_image.hasClass(a$dx4.P$N)) { return p0zBu.e1; } RacadSVGDesigner.deselect_other_objects(_image); properties = RacadSVGDesigner.get_udraw_properties(_image); if (properties.is_placeholder) { $(a$dx4.t7N).hide(); } else { $(a$dx4.t7N).show(); } if (properties.editable || RacadSVGDesigner.settings.mode === a$dx4.W09) { RacadSVGDesigner.settings.objectClicked = _image.attr(d1Pxx.m$b); if (properties.user_added || RacadSVGDesigner.settings.mode === a$dx4.W09) { $(a$dx4.m5t).removeClass(a$dx4.C9_); $(a$dx4.q4A).removeClass(a$dx4.C9_); } else { $(a$dx4.m5t).addClass(a$dx4.C9_); $(a$dx4.q4A).addClass(a$dx4.C9_); } RacadSVGDesigner.Images.display_actions(); } $(c2O).prop(a$dx4.y$V, !!properties.preview_only); $(T5z).prop(a$dx4.y$V, !properties.editable); $(U_Z).prop(a$dx4.y$V, !!properties.sticky_front); $(Y3A).prop(a$dx4.y$V, !!properties.sticky_back); _perserve_aspect_ratio = typeof _image.attr(E9J) === d1Pxx.c42 || _image.attr(E9J).length === p0zBu.U5 >> p0zBu.Q_; $(K4f).prop(a$dx4.y$V, _perserve_aspect_ratio); $(a$dx4.E0n).trigger({ type: a$dx4.g$L, object: _image }); }, build_local_image_list: function (images, callback) { var k3F = '[data-udrawSVG="local_image_list"]'; var num_list, current_num; num_list = $(k3F).length; p0zBu.s0(p0zBu[514270]); current_num = p0zBu.F_(p0zBu[122956], p0zBu.U5); q2uu1K.s3o(); $(k3F).each(function () { var U8B = 'pdf'; var _image, image_name; current_num += p0zBu[32075]; $(this).empty(); for (var i = +p0zBu.U5; i < images.length; i++) { _image = images[i]; image_name = _image.name; if (image_name.substring(image_name.length - +p0zBu.r$f) !== U8B) { RacadSVGDesigner.Images.build_image_list_item(_image, $(this)); } } q2uu1K.s3o(); if (current_num === num_list && typeof callback === d1Pxx.d0a) { callback(); } }); }, build_image_list_item: function (image, parent_list) { var N2n = q2uu1K; N2n.S$D(); var B1Y = 'fas fa fa-exclamation-circle dpi_warning'; var t_Z = 'local_images_li'; var f$E = '<img></img>'; var s2o = '</br>'; var Q94 = 'image_thumb_name'; var image_name, dpi, image_thumb, image_a, image_span, li, warning; image_name = image.name; p0zBu.s6(p0zBu[514270]); dpi = p0zBu.L6(p0zBu[122956], p0zBu.U5); if (image.hasOwnProperty(a$dx4.C_$)) { dpi = image.dpi[+p0zBu.U5]; } image_thumb = $(f$E).attr(n2Odt.A5l, RacadSVGDesigner.clean_url(location.origin) + n2Odt.r3u + RacadSVGDesigner.settings.upload_path + image_name).addClass(a$dx4.L5O); image_a = $(n2Odt.f_T).attr(d1Pxx.C2V, p0zBu.o$).append(image_thumb, s2o); if (RacadSVGDesigner.settings.display_image_name) { image_span = $(a$dx4.I$u).text(image_name).addClass(Q94); image_a.append(image_span); } li = $(a$dx4.D_a).append(image_a).addClass(t_Z).attr({ 'data-image_name': image_name }); if (dpi < RacadSVGDesigner.settings.minimum_dpi_requirement) { image_thumb.addClass(n2Odt.z6v); $(n2Odt.X9j, image_thumb).addClass(n2Odt.z6v); warning = $(a$dx4.s5t).addClass(B1Y).attr(n2Odt.e15, i18n.t(a$dx4.j6D) + RacadSVGDesigner.settings.minimum_dpi_requirement + d1Pxx.v$C); image_thumb.prepend(warning); } parent_list.append(li); if (parent_list.parents().closest(a$dx4.z6n).length > +p0zBu.U5) { this.add_image_picker(image_name, a$dx4.N9X); } $(n2Odt.X9j, image_a).on(d1Pxx.u_N, function () { var F2x = '[data-udrawsvg="user_image_modal"]'; var picture_id, src, _object; if ($(this).hasClass(n2Odt.z6v)) { return; } picture_id = $(this).parent().parent().attr(a$dx4.W79); src = $(this).attr(n2Odt.A5l); if (RacadSVGDesigner.is_bulk_replace) { RacadSVGDesigner.Images.add_to_bulk_replace_list(src, picture_id); RacadSVGDesigner.Images.update_count(image_name); } else { if (typeof RacadSVGDesigner.Images.replace_image_id !== d1Pxx.c42) { _object = RacadSVGDesigner.get_object(RacadSVGDesigner.Images.replace_image_id); if (!_object || _object.type !== d1Pxx.p_G) { RacadSVGDesigner.Images.add_image(src); } else { RacadSVGDesigner.Images.replace_image(_object, src, function (image) { N2n.S$D(); RacadSVGDesigner.settings.objectClicked = undefined; }); } $(F2x).modal(a$dx4.H$G); } else { RacadSVGDesigner.Images.add_image(src, function () { N2n.S$D(); $(F2x).modal(a$dx4.H$G); }); } } }); }, add_image_picker: function (image_name, image_source) { var e2i = p0zBu; var C1d = '[data-udrawsvg="image_replace_modal"] '; var d4 = 1269117767; var X$e = "33914"; var I8Z = 'image_counter_button'; var j1k = 'fas fa fa-minus'; var y6I = 'image_counter'; var D4P = ' li[data-image_name="'; var F5c = "43617"; var v5z = 'fas fa fa-plus'; var Y7w = '[data-udrawsvg="local_image_list"]'; var X20 = "2102199662"; var list, replace_li, decrease_button, increase_button, count, counter, container, g7, G$, X2; if (typeof image_source === d1Pxx.c42) { g7 = +X20; G$ = -d4; X2 = +p0zBu.y8n; for (var Y5 = p0zBu.v2 >> p0zBu.Q_; e2i.E7(Y5.toString(), Y5.toString().length, +X$e) !== g7; Y5++) { image_source = d1Pxx.O7q; e2i.s0(p0zBu.c7); X2 += e2i.L6(p0zBu[122956], p0zBu.y8n); } if (e2i.E7(X2.toString(), X2.toString().length, +F5c) !== G$) { image_source = d1Pxx.O7q; } image_source = a$dx4.N9X; } list = Y7w; if (image_source === a$dx4.F8z) { list = a$dx4.H1C; } else if (image_source === a$dx4.s6P) { list = a$dx4.c7q; } else if (image_source === a$dx4.i4f) { list = a$dx4.D_m; } e2i.s0(p0zBu.x6); replace_li = $(e2i.L6(n2Odt.k_$, image_name, C1d, list, D4P)); decrease_button = $(n2Odt.f_T).attr({ 'href': p0zBu.o$, 'data-image_name': image_name }).addClass(j1k); decrease_button.addClass(I8Z).on(d1Pxx.u_N, function () { var z8I = 'a.remove_from_bulk_list'; var image_name, list; image_name = $(this).attr(a$dx4.W79); e2i.s6(p0zBu.S9); list = $(e2i.L6(image_name, n2Odt.k_$, a$dx4.Y3y)); if (list.length > +p0zBu.U5) { $(z8I, list[list.length - +p0zBu.v2]).trigger(d1Pxx.u_N); RacadSVGDesigner.Images.update_count(image_name); } }); increase_button = $(n2Odt.f_T).attr({ 'href': p0zBu.o$, 'data-image_name': image_name }).addClass(v5z); increase_button.addClass(I8Z).on(d1Pxx.u_N, function () { var n2V = 'img.image_thumbnail'; var image_name; image_name = $(this).attr(a$dx4.W79); q2uu1K.S$D(); $(n2V, $(this).parent().parent()).trigger(d1Pxx.u_N); RacadSVGDesigner.Images.update_count(image_name); }); count = $(a$dx4.Y3y + image_name + n2Odt.k_$).length; counter = $(n2Odt.f_T).attr({ 'href': p0zBu.o$, 'data-image_name': image_name }).addClass(y6I).text(count); container = $(a$dx4.S4A).append(decrease_button, counter, increase_button); replace_li.append(container); }, update_count: function (image_name) { var L24 = 'a.image_counter[data-image_name="'; q2uu1K.s3o(); var count; count = $(a$dx4.Y3y + image_name + n2Odt.k_$).length; $(L24 + image_name + n2Odt.k_$).each(function () { q2uu1K.s3o(); $(this).text(count); }); }, get_uploaded_images: function (callback) { q2uu1K.s3o(); $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.uploaded_images, path: RacadSVGDesigner.settings.upload_path }, success: function (response) { RacadSVGDesigner.Images.local_images = response; if (typeof callback === d1Pxx.d0a) { callback(response); } }, error: function (error) { q2uu1K.S$D(); console.error(error); } }); }, download_image: function (source, image_name, callback) { var I6D = q2uu1K; var u8w = p0zBu; u8w.s6(p0zBu.c7); RacadSVGDesigner.show_progress_modal(u8w.L6(p0zBu[122956], p0zBu.U5)); $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.download_image, source: source, upload_path: RacadSVGDesigner.settings.upload_path, image_name: image_name }, success: function (response) { var U2V = "30547"; var p25 = "914462621"; var y48 = "1706784885"; var Q0A = "522"; var A3K = "51427"; var q4, U6, I_; I6D.s3o(); q4 = +y48; U6 = +p25; I_ = +p0zBu.y8n; for (var m5 = +p0zBu.v2; u8w.c6(m5.toString(), m5.toString().length, U2V ^ p0zBu[122956]) !== q4; m5++) { u8w.s6(p0zBu[235283]); RacadSVGDesigner.update_progress_bar(u8w.F_(p0zBu[32075], Q0A)); u8w.s6(p0zBu[122956]); I_ += u8w.F_(p0zBu.Q_, p0zBu.y8n); } if (u8w.c6(I_.toString(), I_.toString().length, +A3K) !== U6) { RacadSVGDesigner.update_progress_bar(+d1Pxx.x$d); } RacadSVGDesigner.hide_progress_modal(function () { I6D.S$D(); if (typeof callback === d1Pxx.d0a) { callback(response); } }); }, error: function (error) { RacadSVGDesigner.update_progress_bar(+p0zBu.U5); I6D.s3o(); RacadSVGDesigner.hide_progress_modal(); console.error(error); } }); }, bulk_replace: function (list, element_index, list_index, callback) { var N5n = p0zBu; var self, image_placeholders, _src, element; self = $(list[list_index]); image_placeholders = RacadSVGDesigner.Images.placeholder_array; q2uu1K.s3o(); if (!self.hasClass(a$dx4.i9F)) { _src = $(n2Odt.X9j, self).attr(n2Odt.A5l); element = image_placeholders[element_index]; if (typeof element !== d1Pxx.c42 && element !== d1Pxx.p8r) { RacadSVGDesigner.Images.replace_image(element, _src, function (_image) { var prop, progress; _image.selectize(p0zBu.e1).resize(d1Pxx.m0p).draggable(p0zBu.e1); if (RacadSVGDesigner.settings.images_in_placeholder_draggable) { _image.draggable(); } prop = RacadSVGDesigner.get_udraw_properties(_image); prop.bulk_replace_image = p0zBu.s2A; RacadSVGDesigner.update_udraw_properties(_image, prop); N5n.s6(p0zBu.D1); var o1 = N5n.F_(p0zBu.W3, p0zBu.Y3, p0zBu.T$); progress = element_index / image_placeholders.length * o1; RacadSVGDesigner.update_progress_bar(progress); if (typeof image_placeholders[element_index + (p0zBu.v2 - p0zBu[122956])] !== d1Pxx.c42 && typeof list[list_index + (p0zBu.v2 | p0zBu[32075])] !== d1Pxx.c42) { N5n.s0(p0zBu[394202]); RacadSVGDesigner.Images.bulk_replace(list, N5n.L6(element_index, p0zBu[32075]), N5n.L6(p0zBu.v2, p0zBu[32075], list_index, N5n.s0(p0zBu.r_)), callback); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } }); } } else { if (typeof list[list_index + p0zBu.v2 * p0zBu[32075]] !== d1Pxx.c42) { N5n.s6(p0zBu.L0); RacadSVGDesigner.Images.bulk_replace(list, element_index, N5n.F_(list_index, p0zBu.v2, p0zBu.S1), callback); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } } }, show_bulk_replace_modal: function () { var K2d = '[data-udrawSVG="image_count_span"]'; var m_Z = 'udraw_svg_show_bulk_replace_modal'; var count; count = RacadSVGDesigner.Images.placeholder_array.length; $(K2d).text(count); RacadSVGDesigner.is_bulk_replace = p0zBu.s2A; $(a$dx4.y3h).modal(d1Pxx.x0E); RacadSVGDesigner.Images.count_selected_images(); $(a$dx4.E0n).trigger({ type: m_Z }); }, add_to_bulk_replace_list: function (_src, image_name) { var f2Z = '[data-udrawSVG="image_replace_list"] li.empty_list'; var j1a = 'block'; var N8_ = '#dc5252'; var l4y = 'bulk_image_li'; var i8f = 'remove_from_bulk_list'; var _img, _trash_icon, _remove_button, _li; if (typeof image_name === d1Pxx.c42) { image_name = d1Pxx.p8r; } _img = $(a$dx4.l12).attr(n2Odt.A5l, _src).addClass(a$dx4.L5O).css({ 'margin-left': d1Pxx.O7i, 'margin-right': d1Pxx.O7i, 'display': j1a }); _trash_icon = $(a$dx4.s5t).addClass(a$dx4.j$i); _remove_button = $(n2Odt.f_T).attr(d1Pxx.C2V, p0zBu.o$).addClass(i8f).append(_trash_icon).on(d1Pxx.u_N, function () { var T8t = p0zBu; var T6i = "433663078"; var I7c = "40350"; q2uu1K.s3o(); var j0q = "811348503"; var U$m = "1394"; var i3, Q8, K3; $(this).parent().remove(); RacadSVGDesigner.Images.count_selected_images(); if ($(a$dx4.O6R).length === p0zBu.U5 << p0zBu.S1) { i3 = +j0q; Q8 = -+T6i; K3 = p0zBu[149144]; for (var Z2 = p0zBu.v2 ^ p0zBu[122956]; T8t.c6(Z2.toString(), Z2.toString().length, +I7c) !== i3; Z2++) { $(f2Z).show(); T8t.s0(p0zBu[149144]); K3 += T8t.L6(p0zBu.S1, p0zBu.y8n); } if (T8t.E7(K3.toString(), K3.toString().length, +U$m) !== Q8) { $(d1Pxx.O7q).show(); } } }).css({ display: j1a, color: N8_ }); _li = $(a$dx4.D_a).attr({ 'data-image_name': image_name }).append(_img, _remove_button).addClass(l4y); q2uu1K.S$D(); $(a$dx4.v_l).append(_li); $(_img).on(d1Pxx.w8g, function () { var S0w = "0.70"; var R0 = 145; var W8g = 'i.fa-trash-o'; var _trash_icon, list_height, multiplier; _trash_icon = $(this).parent().find(W8g); list_height = $(a$dx4.M4A).height(); p0zBu.s6(R0); var y8 = p0zBu.F_(p0zBu[514270], p0zBu.c7, p0zBu.t5, p0zBu[122956], p0zBu.d2); multiplier = (list_height - _trash_icon.height()) / $(this).height() * (S0w * y8); q2uu1K.S$D(); $(this).width($(this).width() * multiplier); }); $(f2Z).hide(); RacadSVGDesigner.Images.count_selected_images(); this.update_count(image_name); }, count_selected_images: function () { var v$N = p0zBu; var t5Z = '[data-udrawSVG="selected_image_count"]'; var w_g = '[data-udrawsvg="image_replace_modal"] div.progress_bar'; var s4T = '[data-udrawsvg="apply_bulk_image_replace"]'; var y$L = '[data-udrawsvg="bulk_image_replace_continue_modal"]'; var count, progress; count = $(a$dx4.O6R).length; $(t5Z).html(count); v$N.s6(p0zBu.v5); var t7 = v$N.F_(p0zBu.A7, p0zBu.P8, p0zBu[32075]); progress = count / RacadSVGDesigner.Images.placeholder_array.length * (d1Pxx.x$d | t7); v$N.s0(p0zBu[394202]); $(w_g).css(d1Pxx.s0r, v$N.L6(progress, d1Pxx.k7G)); if (count === RacadSVGDesigner.Images.placeholder_array.length) { $(s4T).removeClass(n2Odt.z6v); $(s4T).attr(n2Odt.z6v, p0zBu.e1); $(y$L).modal(d1Pxx.x0E); } else { $(s4T).addClass(n2Odt.z6v); $(s4T).attr(n2Odt.z6v, p0zBu.s2A); } }, export_images: function (image_array, index, final_callback, current_callback) { var S5g = p0zBu; var A8r = 'data:image'; q2uu1K.s3o(); var image, _href; if (typeof image_array[index] !== d1Pxx.c42) { image = image_array[index]; _href = typeof image.attr(d1Pxx.C2V) !== d1Pxx.c42 ? image.attr(d1Pxx.C2V) : typeof image.attr(a$dx4.l_H) !== d1Pxx.c42 ? image.attr(a$dx4.l_H) : p0zBu.e5; if (_href.indexOf(A8r) === p0zBu.U5 * p0zBu[32075]) { RacadSVGDesigner.Images.export(image, function () { if (typeof current_callback === d1Pxx.d0a) { current_callback(index); } S5g.s0(p0zBu.H4); q2uu1K.S$D(); RacadSVGDesigner.Images.export_images(image_array, S5g.L6(p0zBu[32075], index, p0zBu.v2), final_callback, current_callback); }); } else { if (typeof current_callback === d1Pxx.d0a) { current_callback(index); } S5g.s0(p0zBu.L0); RacadSVGDesigner.Images.export_images(image_array, S5g.F_(index, p0zBu.v2, p0zBu[122956]), final_callback, current_callback); } } else { if (typeof final_callback === d1Pxx.d0a) { final_callback(); } } }, export: function (image, callback) { q2uu1K.S$D(); var z$N = 'Failed to export image. Reason: no valid source.'; var export_image; export_image = typeof image === d1Pxx.E_o ? typeof image.attr(d1Pxx.C2V) !== d1Pxx.c42 ? image.attr(d1Pxx.C2V) : typeof image.attr(a$dx4.l_H) !== d1Pxx.c42 ? image.attr(a$dx4.l_H) : p0zBu.e5 : typeof image === d1Pxx.S0h ? image : p0zBu.e5; if (export_image.length > p0zBu.U5 - p0zBu[122956]) { $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.export_image, image_data: export_image, export_path: RacadSVGDesigner.settings.export_path }, success: function (response) { var x7W = 'success'; var Q7O = 'Failed'; var new_src, _properties; if (response.status === x7W) { if (typeof image === d1Pxx.E_o) { new_src = RacadSVGDesigner.clean_url(location.origin) + n2Odt.r3u + RacadSVGDesigner.settings.export_path + response.image_url; image.load(new_src); _properties = RacadSVGDesigner.get_udraw_properties(image); RacadSVGDesigner.update_udraw_properties(image, _properties); } } else { console.error(Q7O); } q2uu1K.S$D(); if (typeof callback === d1Pxx.d0a) { callback(RacadSVGDesigner.settings.export_path + response.image_url); } }, error: function (error) { console.error(error); } }); } else { console.error(z$N); console.error(image); if (typeof callback === d1Pxx.d0a) { callback(); } } }, clean_src: function (_src) { var L5N = '%25'; if (_src.indexOf(L5N) >= +p0zBu.U5) { _src = decodeURIComponent(_src); _src = this.clean_src(new_src); } q2uu1K.s3o(); return _src; }, update_pagination_buttons: function () { var g7S = '.image_pagination_btn'; var J45 = '[data-image_pagination="previous"]'; q2uu1K.S$D(); var B1y = '[data-image_pagination="next"]'; var _array, _image; _array = RacadSVGDesigner.Images.get_images(); $(g7S).addClass(n2Odt.z6v); if (_array.length > p0zBu.v2 >> p0zBu.S1) { for (var i = p0zBu.U5 | p0zBu[122956]; i < _array.length; i++) { _image = _array[i]; if (_image.attr(d1Pxx.m$b) === RacadSVGDesigner.Crop.editing_id) { if (i !== p0zBu.U5 * p0zBu[32075]) { $(J45).removeClass(n2Odt.z6v); } if (i !== _array.length - (p0zBu.v2 - p0zBu[122956])) { $(B1y).removeClass(n2Odt.z6v); } } } } }, resize_pagination_button_containers: function () { var L6$ = 'div.image_pagination_container'; var Z2Q = '[data-udrawSVG="SVGDesigner"] [data-udrawsvg="image_cropper"]'; var x7O = '[data-udrawSVG="SVGDesigner"] div.cropping_container'; q2uu1K.S$D(); var new_width; new_width = $(x7O).width() * +a$dx4.D9r - $(Z2Q).outerWidth(); $(L6$).each(function () { p0zBu.s0(p0zBu.d1); $(this).width(p0zBu.L6(new_width, n2Odt.g5A)); }); }, add_external_photo: function (photo_id, callback) { var B$l = p0zBu; q2uu1K.S$D(); RacadSVGDesigner.Images.get_uploaded_images(function (images) { RacadSVGDesigner.Images.build_local_image_list(images, function () { q2uu1K.S$D(); var _src, image, dpi, _element; _src = p0zBu.e5; image = new Object(); RacadSVGDesigner.Images.local_images.forEach(function (img) { if (img.name === photo_id) { return image = img; } }); B$l.s0(p0zBu.c7); dpi = B$l.L6(p0zBu[122956], p0zBu.U5); if (image.hasOwnProperty(a$dx4.C_$)) { B$l.s0(p0zBu[514270]); dpi = image.dpi[B$l.L6(p0zBu[122956], p0zBu.U5)]; } if (dpi >= RacadSVGDesigner.settings.minimum_dpi_requirement) { if (RacadSVGDesigner.is_bulk_replace) { _src = RacadSVGDesigner.clean_url(location.origin) + n2Odt.r3u + RacadSVGDesigner.settings.upload_path + photo_id; RacadSVGDesigner.Images.add_to_bulk_replace_list(_src, photo_id); } else { if (typeof RacadSVGDesigner.Images.replace_image_id !== d1Pxx.c42) { _element = SVG.get(RacadSVGDesigner.Images.replace_image_id); RacadSVGDesigner.Images.replace_image(_element, RacadSVGDesigner.clean_url(location.origin) + n2Odt.r3u + RacadSVGDesigner.settings.upload_path + photo_id, function () { if (typeof callback === d1Pxx.d0a) { callback(); } }); } else { _src = RacadSVGDesigner.clean_url(location.origin) + n2Odt.r3u + RacadSVGDesigner.settings.upload_path + photo_id; RacadSVGDesigner.Images.add_image(_src, function () { if (typeof callback === d1Pxx.d0a) { callback(); } }); } } } else { window.alert(i18n.t(a$dx4.j6D) + RacadSVGDesigner.settings.minimum_dpi_requirement + d1Pxx.v$C); } }); }); }, on_external_photo_click: function (image_src, image_name, callback) { var E3g = q2uu1K; E3g.S$D(); if ($(a$dx4.o6F + image_name + n2Odt.k_$).length > +p0zBu.U5) { RacadSVGDesigner.Images.add_external_photo(image_name, function () { E3g.s3o(); if (typeof callback === d1Pxx.d0a) { callback(); } }); } else { RacadSVGDesigner.Images.download_image(image_src, image_name, function (image_src) { E3g.s3o(); RacadSVGDesigner.Images.add_external_photo(image_name, function () { if (typeof callback === d1Pxx.d0a) { callback(); } }); }); } }, get_images: function () { q2uu1K.s3o(); var _array; _array = new Array(); $(a$dx4.r42).each(function () { q2uu1K.s3o(); var _image, _properties; _image = SVG.adopt(this); _properties = RacadSVGDesigner.get_udraw_properties(_image); if (_properties.is_custom) { _array.push(_image); } }); return _array; }, resize_browse_container_height: function () { var m4O = '[data-udrawsvg="image_replace_modal"] div.modal-body'; var X_I = 'div.image_count_container'; var b3P = 'div.replace_image_browse_container'; var _height; if ($(a$dx4.z6n).is(a$dx4.C$2)) { _height = $(m4O).height() - ($(a$dx4.M4A).outerHeight() + $(X_I).outerHeight()); p0zBu.s6(p0zBu.d1); $(b3P).height(p0zBu.L6(_height, a$dx4.D9r)); } }, create_rect_placeholder: function () { var R_A = q2uu1K; var u1b = 'rgba(0,255,0,1)'; var canvas_properties, _width, _height, dim, _rect, _properties; canvas_properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); R_A.S$D(); _width = canvas_properties.width; _height = canvas_properties.height; dim = Math.ceil(Math.min(_width, _height) / p0zBu[394202]); _rect = RacadSVGDesigner.canvas.rect(dim, dim); _rect.attr(d1Pxx.X_Y, u1b); _properties = { is_placeholder: p0zBu.s2A, editable: p0zBu.s2A }; RacadSVGDesigner.deselect_other_objects(_rect); _rect.draggable().resize(); if (RacadSVGDesigner.settings.prevent_editing_when_dragging) { _rect.on(d1Pxx.x4a, function (e) { R_A.S$D(); RacadSVGDesigner.on_dragmove(e); }).on(d1Pxx.k89, function (e) { R_A.s3o(); RacadSVGDesigner.on_dragend(e); }); } _rect.on(d1Pxx.u_N, function () { R_A.s3o(); RacadSVGDesigner.Images.on_image_click(this); }); $(_rect.node).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); $(a$dx4.Q3D).css({ 'pointer-events': d1Pxx.O7i }); RacadSVGDesigner.update_udraw_properties(_rect, _properties); RacadSVGDesigner.rearrange_elements(); }, display_actions: function () { $(a$dx4.D9t).modal(d1Pxx.x0E); }, hide_actions: function () { q2uu1K.s3o(); $(a$dx4.D9t).modal(a$dx4.H$G); } }; $(a$dx4.f3Y).on(d1Pxx.u_N, function () { var object; q2uu1K.S$D(); object = SVG.get(RacadSVGDesigner.settings.objectClicked); if (object && object.type === d1Pxx.p_G) { RacadSVGDesigner.Images.replace_image_id = RacadSVGDesigner.settings.objectClicked; $(a$dx4.D9t).modal(a$dx4.H$G); $(a$dx4.r4P).modal(d1Pxx.x0E); } }); $(a$dx4.k7s).on(d1Pxx.u_N, function () { RacadSVGDesigner.Images.replace_image_id = undefined; }); $(a$dx4.a5D).on(d1Pxx.u_N, function () { var list, placeholder_array; if ($(this).hasClass(n2Odt.z6v)) { return p0zBu.e1; } list = $(a$dx4.v_l); placeholder_array = RacadSVGDesigner.Images.placeholder_array; if ($(d1Pxx.o92, list).length - +p0zBu.v2 === placeholder_array.length) { RacadSVGDesigner.show_progress_modal(+p0zBu.U5); RacadSVGDesigner.Images.bulk_replace($(d1Pxx.o92, list), +p0zBu.U5, +p0zBu.U5, function () { RacadSVGDesigner.update_progress_bar(+d1Pxx.x$d); RacadSVGDesigner.hide_progress_modal(function () { var z$a = 'udraw_svg_bulk_image_replace_completed'; var v5O = '.image_counter'; RacadSVGDesigner.is_bulk_replace = p0zBu.e1; $(a$dx4.y3h).modal(a$dx4.H$G); $(d1Pxx.o92, list).each(function () { if (!$(this).hasClass(a$dx4.i9F)) { $(this).remove(); } }); $(v5O).each(function () { p0zBu.s6(p0zBu[32075]); q2uu1K.s3o(); $(this).text(p0zBu.L6(p0zBu.U5, p0zBu[122956])); }); $(a$dx4.E0n).trigger({ type: z$a }); }); }); } }); $(a$dx4.c5a).on(d1Pxx.u_N, function () { RacadSVGDesigner.is_bulk_replace = p0zBu.e1; }); $(a$dx4.Q5L).on(a$dx4.o0t, function () { q2uu1K.s3o(); $(this).css(W4p9e5.h_S, +W4p9e5.z67); }); $(a$dx4.Q5L).on(W4p9e5.H5x, function () { var D7B = p0zBu; var X_B = "504920636"; var l55 = "673818044"; var Q$A = "4261"; var q4r = "7691"; var a34 = "31531"; var l0, d9, W4; l0 = +X_B; d9 = +l55; D7B.s0(p0zBu[514270]); W4 = D7B.F_(p0zBu[149144], p0zBu.y8n); for (var x$ = +p0zBu.v2; D7B.c6(x$.toString(), x$.toString().length, +q4r) !== l0; x$++) { D7B.s0(p0zBu[235283]); $(this).css(d1Pxx.O7q, D7B.F_(p0zBu[32075], Q$A)); W4 += +p0zBu.y8n; } if (D7B.E7(W4.toString(), W4.toString().length, +a34) !== d9) { $(this).css(W4p9e5.h_S, +W4p9e5.J51); } }); $(W4p9e5.h23).on(d1Pxx.u_N, function () { q2uu1K.s3o(); $(a$dx4.Q5L).modal(d1Pxx.x0E); }); $(W4p9e5.o8L).on(d1Pxx.u_N, function () { q2uu1K.S$D(); $(a$dx4.r4P).modal(d1Pxx.x0E); }); $(W4p9e5.i$6).on(d1Pxx.u_N, function () { q2uu1K.s3o(); $(a$dx4.r4P).modal(a$dx4.H$G); }); $(W4p9e5.e3Z).on(d1Pxx.u_N, function () { var x3j = '[data-udrawSVG="image_upload"]'; $(this).siblings(x3j).trigger(d1Pxx.u_N); }); $(W4p9e5.F$s).on(d1Pxx.u_N, function () { var M8T = 'div.images_container_child'; var W3t = '[data-bulk_image_type="local_storage"]'; var B2G = 'data-bulk_image_type'; var M09 = 'bulk_image_upload_button'; var g63 = 'facebook_image'; var _type; _type = $(this).attr(B2G); $(W4p9e5.F$s).each(function () { $(this).removeClass(a$dx4.Q60); }); $(this).addClass(a$dx4.Q60); $(M8T).each(function () { $(this).removeClass(a$dx4.Q60); if ($(this).attr(B2G) === _type) { $(this).addClass(a$dx4.Q60); } }); if (_type === g63) { RacadSVGDesigner.Facebook.get_login_status(function () { RacadSVGDesigner.Facebook.get_albums(); }, function () { var G1K = 'Error logging in'; console.error(G1K); }); } if (_type === M09) { $(W3t).addClass(a$dx4.Q60); } RacadSVGDesigner.Images.resize_browse_container_height(); }); $(a$dx4.z6n).on(a$dx4.o0t, function () { q2uu1K.s3o(); RacadSVGDesigner.Images.resize_browse_container_height(); }); $(W4p9e5.E6W).on(d1Pxx.u_N, function () { RacadSVGDesigner.Images.replace_image_id = undefined; }); $(window).on(n2Odt.Z9r, function () { q2uu1K.S$D(); RacadSVGDesigner.Images.resize_browse_container_height(); }).trigger(n2Odt.Z9r); $(W4p9e5.o5T).on(d1Pxx.u_N, function () { RacadSVGDesigner.Images.create_rect_placeholder(); }); $(W4p9e5.Y_J).on(d1Pxx.u_N, function () { var R8h = 'preserveAspectRatio'; var _object; _object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (_object && _object.type === d1Pxx.p_G) { if ($(this).prop(a$dx4.y$V)) { _object.attr(R8h, p0zBu.e5); } else { _object.attr(R8h, d1Pxx.S0D); } } }); RacadSVGDesigner.Facebook = { load_script: function () { var A2h = 'udrawsvg-facebook-jssdk'; q2uu1K.s3o(); (function (d, s, id) { q2uu1K.S$D(); var B2$ = "/sdk.js"; var K7W = "//connect.facebook.net/"; var js, fjs; fjs = d.getElementsByTagName(s)[+p0zBu.U5]; if (d.getElementById(id)) { window.fbAsyncInit = function () { RacadSVGDesigner.Facebook.init(); }; if (window.FB) { RacadSVGDesigner.Facebook.init(); } return; } js = d.createElement(s); js.id = id; js.src = K7W + RacadSVGDesigner.settings.locale + B2$; fjs.parentNode.insertBefore(js, fjs); window.fbAsyncInit = function () { RacadSVGDesigner.Facebook.init(); }; if (window.FB) { RacadSVGDesigner.Facebook.init(); } })(document, n2Odt.c3D, A2h); }, init: function () { var t2V = 'v2.10'; q2uu1K.s3o(); FB.init({ appId: RacadSVGDesigner.settings.facebook_client_id, autoLogAppEvents: p0zBu.s2A, xfbml: p0zBu.s2A, version: t2V }); FB.AppEvents.logPageView(); }, get_login_status: function (login_callback, logout_callback) { q2uu1K.s3o(); FB.getLoginStatus(function (response) { var e0D = 'connected'; var W7n = '[data-udrawsvg="facebook_albums_list"], [data-udrawsvg="facebook_photos_list"]'; var t5k = '[data-udrawSVG="facebook_modal"] div.facebook_content'; if (response.status === e0D) { $(t5k).addClass(a$dx4.Q60); if (typeof login_callback === d1Pxx.d0a) { login_callback(); } } else { $(t5k).removeClass(a$dx4.Q60); $(W7n).empty(); if (typeof logout_callback === d1Pxx.d0a) { logout_callback(); } } }); }, get_albums: function (after) { var R3N = '[data-udrawSVG="facebook_albums_list"]'; var J4e = '/me'; var Q8Y = 'albums'; var parameters; $(R3N).empty(); RacadSVGDesigner.Facebook.is_albums_busy = p0zBu.s2A; parameters = { 'fields': Q8Y }; if (typeof after !== d1Pxx.c42 && after.length > +p0zBu.U5) { parameters.after = after; } FB.api(J4e, n2Odt.N2Y, parameters, function (response) { var a5G = '[data-udrawsvg="facebook_albums_list"] li a#'; var Z0Z = 'Error retrieving albums data.'; var albums, album_name, album_id, album_link, album_li, paging, after_id; $(R3N).unbind(W4p9e5.J0Y); if (typeof response.albums === d1Pxx.c42) { if (typeof response.id !== d1Pxx.c42) { RacadSVGDesigner.Facebook.get_photos(response.id); } else { window.alert(Z0Z); } return; } albums = response.albums.data; for (var i = p0zBu.U5 * p0zBu[32075]; i < albums.length; i++) { album_name = albums[i].name; album_id = albums[i].id; if ($(a5G + album_id).length === +p0zBu.U5) { album_link = $(n2Odt.f_T).attr({ href: p0zBu.o$, id: album_id }).text(album_name).on(d1Pxx.u_N, function () { var x2H = '[data-udrawsvg="facebook_albums_list"] li'; $(a$dx4.H1C).empty(); $(x2H).each(function () { q2uu1K.s3o(); $(this).removeClass(a$dx4.Q60); }); $(this).parent().addClass(a$dx4.Q60); RacadSVGDesigner.Facebook.get_photos($(this).attr(d1Pxx.m$b)); }); album_li = $(a$dx4.D_a).addClass(W4p9e5.Q6n).append(album_link); $(R3N).append(album_li); } } paging = response.albums.paging; after_id = paging.cursors.after; if (paging.hasOwnProperty(W4p9e5.J7L)) { $(R3N).on(W4p9e5.J0Y, function () { q2uu1K.S$D(); var innerHeight, scrollTop, scrollHeight; if (!RacadSVGDesigner.Facebook.is_albums_busy) { innerHeight = $(this).innerHeight(); scrollTop = $(this).scrollTop(); scrollHeight = $(this)[p0zBu.U5 | p0zBu[122956]].scrollHeight; if (innerHeight + scrollTop > scrollHeight - +d1Pxx.x$d) { RacadSVGDesigner.Facebook.get_albums(after_id); } } }); } RacadSVGDesigner.Facebook.is_albums_busy = p0zBu.e1; }); }, get_photos: function (album_id, after_id) { var d14 = p0zBu; var l9u = q2uu1K; l9u.S$D(); var y0Y = '/photos'; var properties; if (typeof album_id !== d1Pxx.c42) { RacadSVGDesigner.Facebook.is_photos_busy = p0zBu.s2A; properties = { 'fields': W4p9e5.p9_ }; if (typeof after_id !== d1Pxx.c42 && after_id.length > +p0zBu.U5) { properties.after = after_id; } d14.s0(p0zBu.S9); FB.api(d14.L6(album_id, y0Y, n2Odt.r3u), n2Odt.N2Y, properties, function (response) { var n4i = '[data-udrawSVG="facebook_photos_list"]'; var U9_ = '[data-udrawsvg="facebook_photos_list"] #no_photos_found'; var z48 = '[data-udrawsvg="facebook_photos_list"] li img#'; var photos, no_photos, photo_id, photo_source, photo_img, photo_link, photo_li, paging, after_id; l9u.s3o(); photos = response.data; $(n4i).unbind(W4p9e5.J0Y); $(U9_).remove(); if (photos.length === (p0zBu.U5 ^ p0zBu[122956])) { no_photos = $(a$dx4.D_a).html(i18n.t(W4p9e5.s$e)).attr(d1Pxx.m$b, W4p9e5.s$e); $(a$dx4.H1C).append(no_photos); } for (var i = p0zBu[122956]; i < photos.length; i++) { photo_id = photos[i].id; photo_source = photos[i].source; if ($(z48 + photo_id).length === p0zBu[122956]) { photo_img = $(a$dx4.l12).attr({ id: photo_id, src: photo_source, 'data-image_name': photo_id + W4p9e5.x5v, 'data-image_url': photo_source }).addClass(a$dx4.L5O); photo_link = $(n2Odt.f_T).attr({ href: p0zBu.o$ }).append(photo_img); photo_img.on(d1Pxx.u_N, function () { var image_name; image_name = $(this).attr(a$dx4.W79); if ($(a$dx4.o6F + image_name + n2Odt.k_$).length > p0zBu[122956]) { RacadSVGDesigner.Images.add_external_photo(image_name, function () { $(W4p9e5.c8n).modal(a$dx4.H$G); }); } else { RacadSVGDesigner.Facebook.get_photo_info($(this).attr(d1Pxx.m$b)); } }); photo_li = $(a$dx4.D_a).attr(a$dx4.W79, photo_id + W4p9e5.x5v).addClass(W4p9e5.Q6n).append(photo_link); $(n4i).append(photo_li); d14.s6(p0zBu[394202]); RacadSVGDesigner.Images.add_image_picker(d14.L6(photo_id, W4p9e5.x5v), a$dx4.F8z); } } if (typeof response.paging !== d1Pxx.c42) { paging = response.paging; after_id = paging.cursors.after; if (paging.hasOwnProperty(W4p9e5.J7L)) { $(n4i).on(W4p9e5.J0Y, function () { l9u.S$D(); var innerHeight, scrollTop, scrollHeight; if (!RacadSVGDesigner.Facebook.is_photos_busy) { innerHeight = $(this).innerHeight(); scrollTop = $(this).scrollTop(); scrollHeight = $(this)[p0zBu.U5 >> p0zBu.S1].scrollHeight; if (innerHeight + scrollTop > scrollHeight - p0zBu.E3) { RacadSVGDesigner.Facebook.get_photos(album_id, after_id); } } }); } } RacadSVGDesigner.Facebook.is_photos_busy = p0zBu.e1; }); } }, get_photo_info: function (photo_id) { p0zBu.s6(p0zBu[394202]); FB.api(p0zBu.L6(n2Odt.r3u, photo_id), n2Odt.N2Y, { 'fields': W4p9e5.p9_ }, function (response) { if (typeof response !== d1Pxx.c42 && response.source) { RacadSVGDesigner.Images.download_image(response.source, response.id, function (image_src) { q2uu1K.S$D(); RacadSVGDesigner.Images.add_external_photo(image_src, function () { q2uu1K.S$D(); $(W4p9e5.c8n).modal(a$dx4.H$G); }); }); } }); } }; $(W4p9e5.c8n).on(a$dx4.o0t, function () { var E4O = q2uu1K; p0zBu.s0(p0zBu[514270]); $(this).css(W4p9e5.h_S, p0zBu.F_(p0zBu[32075], W4p9e5.z67)); E4O.s3o(); RacadSVGDesigner.Facebook.get_login_status(function () { E4O.s3o(); RacadSVGDesigner.Facebook.get_albums(); }, function () { E4O.S$D(); var R7U = 'Logged out'; console.log(R7U); }); }); $(W4p9e5.c8n).on(W4p9e5.H5x, function () { q2uu1K.s3o(); $(this).css(W4p9e5.h_S, +W4p9e5.J51); }); $(W4p9e5.B5Y).on(d1Pxx.u_N, function () { $(W4p9e5.c8n).modal(d1Pxx.x0E); }); RacadSVGDesigner.Google = { authObject: undefined, is_authorized: p0zBu.e1, next_page_token: p0zBu.e5, current_album_id: p0zBu.e5, is_signed_in: p0zBu.e1, current_user: p0zBu.e5, check_gapi_client_object: function (callback) { var G6K = "250"; if (typeof gapi.client === d1Pxx.E_o) { if (typeof callback === d1Pxx.d0a) { callback(); } } else { setTimeout(function () { RacadSVGDesigner.Google.check_gapi_client_object(callback); }, +G6K); } }, load_script: function () { var C$h = 'googleapi-js'; (function (d, s, id) { var y56 = "https://apis.google.com/js/client.js"; var js, fjs; fjs = d.getElementsByTagName(s)[p0zBu[122956]]; if (d.getElementById(id)) { return; } js = d.createElement(s); js.id = id; js.src = y56; fjs.parentNode.insertBefore(js, fjs); js.onload = function () { q2uu1K.s3o(); RacadSVGDesigner.Google.init(); }; })(document, n2Odt.c3D, C$h); }, init: function () { var y8d = 'auth2'; gapi.load(y8d, function () { var K1f = 'https://www.googleapis.com/auth/photoslibrary.readonly'; gapi.client.init({ 'apiKey': RacadSVGDesigner.settings.google_api_key, 'client_id': RacadSVGDesigner.settings.google_client_id, 'scope': K1f }).then(function () { RacadSVGDesigner.Google.authObject = gapi.auth2.getAuthInstance(); RacadSVGDesigner.Google.authObject.isSignedIn.listen(RacadSVGDesigner.Google.update_signin_status); RacadSVGDesigner.Google.is_signed_in = RacadSVGDesigner.Google.authObject.isSignedIn.get(); RacadSVGDesigner.Google.update_ui(RacadSVGDesigner.Google.is_signed_in); }); }); }, update_signin_status: function (is_signed_in) { if (is_signed_in) { RacadSVGDesigner.Google.is_authorized = p0zBu.s2A; } else { RacadSVGDesigner.Google.is_authorized = p0zBu.e1; } RacadSVGDesigner.Google.update_ui(is_signed_in); }, handle_sign_in_out: function () { var Q$X = 'select_account'; if (RacadSVGDesigner.Google.is_signed_in) { RacadSVGDesigner.Google.authObject.signOut(); RacadSVGDesigner.Google.is_signed_in = p0zBu.e1; RacadSVGDesigner.Google.current_user = p0zBu.e5; RacadSVGDesigner.Google.update_ui(p0zBu.e1); } else { RacadSVGDesigner.Google.authObject.signIn({ prompt: Q$X }).then(function (response) { RacadSVGDesigner.Google.is_signed_in = p0zBu.s2A; q2uu1K.s3o(); RacadSVGDesigner.Google.update_ui(p0zBu.s2A); }, function (error) { if (error) { RacadSVGDesigner.Google.authObject.signOut(); RacadSVGDesigner.Google.is_signed_in = p0zBu.e1; RacadSVGDesigner.Google.current_user = p0zBu.e5; RacadSVGDesigner.Google.update_ui(p0zBu.e1); } }); } }, get_user_id: function () { var current_user; current_user = RacadSVGDesigner.Google.authObject.currentUser.get(); for (var prop in current_user) { if (typeof current_user[prop] === d1Pxx.S0h) { return current_user[prop]; } } }, get_albums: function (page_token, callback) { var H8u = 'https://photoslibrary.googleapis.com/v1/albums'; var access_token; if (typeof page_token === d1Pxx.c42) { page_token = p0zBu.e5; } access_token = gapi.client.getToken().access_token; $.ajax({ url: H8u, type: n2Odt.N2Y, contentType: W4p9e5.j0K, dataType: n2Odt.w73, data: { pageToken: page_token }, beforeSend: function (xhr, settings) { p0zBu.s0(p0zBu[394202]); q2uu1K.S$D(); xhr.setRequestHeader(n2Odt.t7w, p0zBu.L6(W4p9e5.A$9, access_token)); }, success: function (result) { RacadSVGDesigner.Google.list_albums(result, callback); } }); }, list_albums: function (data, callback) { var A2v = 'All'; var T5L = '[data-udrawSVG="google_albums_list"]'; var items, list; items = data.albums; list = $(T5L); list.append(this.create_album_thumb({ coverPhotoBaseUrl: RacadSVGDesigner.settings.google_photos_src, title: A2v, id: p0zBu.e5 })); if (typeof items === d1Pxx.E_o) { for (var i = p0zBu[122956]; i < items.length; i++) { list.append(this.create_album_thumb(items[i])); } } }, create_album_thumb: function (album) { q2uu1K.S$D(); var cover_url, album_title, album_id, album_thumbnail, album_link, _li; cover_url = album.coverPhotoBaseUrl; album_title = album.title; album_id = album.id; album_thumbnail = $(a$dx4.l12).attr({ src: cover_url, 'data-album_id': album_id }).addClass(a$dx4.L5O); album_title = $(a$dx4.I$u).html(album_title); album_link = $(n2Odt.f_T).attr({ href: p0zBu.o$, id: album_id, 'data-album_id': album_id }).append(album_thumbnail, album_title); album_thumbnail.on(d1Pxx.u_N, function () { var q4d = 'data-album_id'; var album_id, args; album_id = $(this).attr(q4d); RacadSVGDesigner.Google.current_album_id = album_id; args = { album_id: album_id }; $(a$dx4.c7q).empty(); RacadSVGDesigner.Google.get_photos(args); }); _li = $(a$dx4.D_a).attr({ 'data-album_id': album_id }).append(album_link); return _li; }, get_photos: function (args, callback) { var Y6z = 'https://photoslibrary.googleapis.com/v1/mediaItems:search'; var access_token, data, count; RacadSVGDesigner.Google.is_busy = p0zBu.s2A; access_token = gapi.client.getToken().access_token; data = new Object(); if (typeof args == d1Pxx.E_o) { data.albumId = args.album_id; if (args.page_token) { data.pageToken = args.page_token; } } count = p0zBu[122956]; for (var prop in data) { count++; } if (count > p0zBu[122956]) { data.pageSize = +d1Pxx.x$d; } $.ajax({ url: Y6z, type: n2Odt.M8H, contentType: W4p9e5.j0K, dataType: n2Odt.w73, data: JSON.stringify(data), beforeSend: function (xhr, settings) { p0zBu.s0(p0zBu[394202]); q2uu1K.s3o(); xhr.setRequestHeader(n2Odt.t7w, p0zBu.F_(W4p9e5.A$9, access_token)); }, success: function (result) { var i3e = 'nextPageToken'; q2uu1K.S$D(); if (result.hasOwnProperty(i3e)) { RacadSVGDesigner.Google.next_page_token = result.nextPageToken; } else { RacadSVGDesigner.Google.next_page_token = undefined; } RacadSVGDesigner.Google.is_busy = p0zBu.e1; RacadSVGDesigner.Google.list_photos(result, callback); } }); }, list_photos: function (response) { var items, list, _li, _span; items = response.mediaItems; q2uu1K.S$D(); list = $(a$dx4.c7q); if (typeof items === d1Pxx.E_o) { for (var i = p0zBu[122956]; i < items.length; i++) { _li = this.create_photo_thumb(items[i]); if (typeof _li === d1Pxx.E_o) { list.append(_li); RacadSVGDesigner.Images.add_image_picker(items[i].id, a$dx4.s6P); } } } else { _span = $(a$dx4.I$u).text(i18n.t(W4p9e5.s$e)).addClass(W4p9e5.Y02); _li = $(a$dx4.D_a).append(_span); list.append(_li); } if (typeof callback === d1Pxx.d0a) { callback(); } }, create_photo_thumb: function (item) { var g8L = 'image/'; var image_id, url, mimeType, extension, image_thumbnail, image_link, _li; image_id = item.id; url = item.baseUrl; q2uu1K.S$D(); mimeType = item.mimeType; if (typeof mimeType !== d1Pxx.c42) { extension = mimeType.indexOf(g8L) >= p0zBu[122956] ? mimeType.replace(g8L, p0zBu.e5) : W4p9e5.o3m; image_thumbnail = $(a$dx4.l12).attr({ src: url, 'data-image_id': image_id, 'data-image_url': url, 'data-image_ext': extension }).addClass(a$dx4.L5O); image_link = $(n2Odt.f_T).attr({ href: p0zBu.o$, id: image_id, 'data-image_id': image_id, 'data-image_url': url, 'data-image_ext': extension }).append(image_thumbnail); image_thumbnail.on(d1Pxx.u_N, function () { var o0Z = 'data-image_ext'; var image_src, image_id, extension, image_name; image_src = $(this).attr(W4p9e5.B$z); image_id = $(this).attr(W4p9e5.Z6H); extension = $(this).attr(o0Z); p0zBu.s6(p0zBu.S9); image_name = p0zBu.F_(d1Pxx.v$C, extension, image_id); RacadSVGDesigner.Images.on_external_photo_click(image_src, image_name, function () { $(W4p9e5.A85).modal(a$dx4.H$G); }); }); _li = $(a$dx4.D_a).attr({ 'data-image_id': image_id }).append(image_link); return _li; } }, update_ui: function (isSignedIn) { var e4B = q2uu1K; var q2o = '[data-udrawsvg="google_albums_list"]'; var B5v = '[data-udrawSVG="google_photos_container"]'; e4B.s3o(); var O4K = '[data-udrawSVG="google_albums_container"]'; var z_4 = 'span.google_signin_span'; var user_id; if (isSignedIn) { $(z_4).each(function () { e4B.S$D(); $(this).text(i18n.t(W4p9e5.X94)); }); $(B5v).each(function () { $(this).addClass(a$dx4.Q60); }); $(O4K).each(function () { $(this).addClass(a$dx4.Q60); }); user_id = RacadSVGDesigner.Google.get_user_id(); if (RacadSVGDesigner.Google.current_user !== user_id) { RacadSVGDesigner.Google.current_user = user_id; RacadSVGDesigner.Google.get_albums(p0zBu.e5, function () { RacadSVGDesigner.Google.get_photos(p0zBu.e5); }); } } else { $(z_4).each(function () { e4B.S$D(); $(this).text(i18n.t(W4p9e5.g3u)); }); $(B5v).each(function () { $(this).removeClass(a$dx4.Q60); }); $(O4K).each(function () { $(this).removeClass(a$dx4.Q60); }); $(q2o).empty(); $(a$dx4.c7q).empty(); } } }; $(W4p9e5.x8E).on(d1Pxx.u_N, function () { q2uu1K.S$D(); $(W4p9e5.A85).modal(d1Pxx.x0E); }); $(W4p9e5.N_u).on(d1Pxx.u_N, function () { q2uu1K.s3o(); RacadSVGDesigner.Google.handle_sign_in_out(); }); $(a$dx4.c7q).on(W4p9e5.J0Y, function () { var innerHeight, scrollTop, scrollHeight, args; q2uu1K.s3o(); innerHeight = $(this).innerHeight(); scrollTop = $(this).scrollTop(); scrollHeight = $(this)[p0zBu[122956]].scrollHeight; if (innerHeight + scrollTop > scrollHeight - p0zBu.E3) { if (RacadSVGDesigner.Google.is_signed_in) { if (!RacadSVGDesigner.Google.is_busy) { if (typeof RacadSVGDesigner.Google.next_page_token !== d1Pxx.c42) { args = { album_id: RacadSVGDesigner.Google.current_album_id, page_token: RacadSVGDesigner.Google.next_page_token }; RacadSVGDesigner.Google.get_photos(args); } } } } }); $(W4p9e5.U9e).on(a$dx4.o0t, function () { q2uu1K.s3o(); RacadSVGDesigner.Google.update_ui(RacadSVGDesigner.Google.is_signed_in); }); RacadSVGDesigner.Instagram = { is_logged_in: p0zBu.e1, access_token: p0zBu.e5, _data: p0zBu.e5, login: function (callback) { var s_h = 'https://api.instagram.com/oauth/authorize/?client_id='; var p2a = '&response_type=token&scope=public_content&redirect_uri='; var v20 = '?action='; var location_url, documentLeft, documentTop, authenticate_window; location_url = p0zBu.e5; if (RacadSVGDesigner.settings.handler_file.indexOf(location.origin) < +p0zBu.U5) { location_url = location.origin; } documentLeft = $(document).width() / +p0zBu.y8n - +W4p9e5.F_U; documentTop = $(document).height() / +p0zBu.y8n - (n2Odt.R7m - p0zBu[122956]); authenticate_window = window.open(s_h + RacadSVGDesigner.settings.instagram_client_id + p2a + location_url + RacadSVGDesigner.settings.handler_file + v20 + RacadSVGDesigner.handler_actions.authenticate_instagram, W4p9e5.N_O, W4p9e5.y$O + documentLeft + W4p9e5.N$j + documentTop); window.authenticate_window = authenticate_window; RacadSVGDesigner.Instagram.ping_it(callback); }, logout: function (callback) { var y0m = p0zBu; var x7Z = "73604"; var j1 = 146; var w10 = "2061365620"; var R7T = "966"; var I0S = 'https://instagram.com/accounts/logout/'; var R9 = 696; var X4 = 768; var x2o = "318847142"; var W3I = "42493"; var documentLeft, documentTop, logout_window, G7, M1, b9; y0m.s6(p0zBu[149144]); G7 = -y0m.F_(p0zBu.S1, w10); y0m.s6(p0zBu.c7); M1 = y0m.F_(p0zBu[122956], x2o); y0m.s0(p0zBu.c7); b9 = y0m.L6(p0zBu[122956], p0zBu.y8n); for (var O7 = +p0zBu.v2; y0m.E7(O7.toString(), O7.toString().length, +x7Z) !== G7; O7++) { y0m.s0(p0zBu.v5); var M5 = y0m.F_(p0zBu.Y2, p0zBu.k7, p0zBu[149144]); documentLeft = $(document).width() / (p0zBu.y8n >> M5) - (W4p9e5.F_U ^ p0zBu[122956]); b9 += +p0zBu.y8n; } if (y0m.c6(b9.toString(), b9.toString().length, +W3I) !== M1) { documentLeft = $(document).width() - +p0zBu.q_ + (R7T - p0zBu[122956]); } y0m.s0(j1); var D4 = y0m.F_(R9, X4, p0zBu.U2, p0zBu[32075]); documentTop = $(document).height() / (p0zBu.y8n << D4) - +n2Odt.R7m; y0m.s6(p0zBu[551601]); logout_window = window.open(I0S, W4p9e5.N_O, y0m.F_(documentTop, W4p9e5.y$O, W4p9e5.N$j, documentLeft)); logout_window.close(); if (typeof callback === d1Pxx.d0a) { callback(); } }, ping_it: function (callback) { var _window; _window = window.authenticate_window; try { if (typeof authenticate_window.access_token === d1Pxx.S0h) { RacadSVGDesigner.Instagram.access_token = authenticate_window.access_token; RacadSVGDesigner.Instagram.retrieve_data(RacadSVGDesigner.Instagram.access_token); authenticate_window.close(); if (typeof callback === d1Pxx.d0a) { callback(); } } else { setTimeout(function () { RacadSVGDesigner.Instagram.ping_it(callback); }, n2Odt.e6F - p0zBu[122956]); } } catch (error) { setTimeout(function () { RacadSVGDesigner.Instagram.ping_it(callback); }, n2Odt.e6F * p0zBu[32075]); } }, retrieve_data: function (access_token, next_url, callback) { var R2c = 'https://api.instagram.com/v1/users/self/media/recent?access_token='; var s2M = "POST"; var path; RacadSVGDesigner.Instagram.is_busy = p0zBu.s2A; p0zBu.s0(p0zBu[394202]); path = p0zBu.L6(R2c, access_token); if (typeof next_url !== d1Pxx.c42 && next_url.length > p0zBu[122956]) { path = next_url; } $.ajax({ type: s2M, url: RacadSVGDesigner.settings.handler_file, data: { action: RacadSVGDesigner.handler_actions.retrieve_instagram, url: path }, contentType: a$dx4.e16, dataType: n2Odt.w73, success: function (_data) { RacadSVGDesigner.Instagram._data = _data; RacadSVGDesigner.Instagram.display_images(_data); RacadSVGDesigner.Instagram.next_url = p0zBu.e5; if (typeof _data.pagination.next_url !== d1Pxx.c42) { RacadSVGDesigner.Instagram.next_url = _data.pagination.next_url; } RacadSVGDesigner.Instagram.is_busy = p0zBu.e1; if (typeof callback === d1Pxx.d0a) { callback(); } }, failure: function (errMsg) { alert(errMsg); } }); }, display_images: function (_data) { var s$a = 'no_images_found'; var instagram_ul, imageHTML, image_thumbnail, image_src, id, img, img_link, _li, no_images_span; q2uu1K.S$D(); instagram_ul = $(a$dx4.D_m); imageHTML = p0zBu.e5; if (typeof _data === d1Pxx.E_o && _data.data.length > p0zBu[122956]) { for (var i = +p0zBu.U5; i < _data.data.length; i++) { image_thumbnail = _data.data[i].images.thumbnail.url; image_src = _data.data[i].images.standard_resolution.url; id = _data.data[i].id; img = $(a$dx4.l12).attr({ src: image_thumbnail, 'data-image_name': id + W4p9e5.x5v, 'data-image_url': image_src }).addClass(a$dx4.L5O); img_link = $(n2Odt.f_T).attr({ href: p0zBu.o$, 'data-image_name': id + W4p9e5.x5v, 'data-image_url': image_src }).append(img); img.on(d1Pxx.u_N, function () { var image_src, image_name; image_src = $(this).attr(W4p9e5.B$z); image_name = $(this).attr(a$dx4.W79); RacadSVGDesigner.Images.on_external_photo_click(image_src, image_name, function () { $(W4p9e5.l1h).modal(a$dx4.H$G); }); }); _li = $(a$dx4.D_a).attr({ 'data-image_name': id + W4p9e5.x5v }).append(img_link); instagram_ul.append(_li); p0zBu.s0(p0zBu[394202]); RacadSVGDesigner.Images.add_image_picker(p0zBu.L6(id, W4p9e5.x5v), a$dx4.i4f); } } else { no_images_span = $(a$dx4.I$u).addClass(W4p9e5.Y02).text(i18n.t(s$a)); _li = $(a$dx4.D_a).append(no_images_span); instagram_ul.append(_li); } }, load_more_photos: function () { q2uu1K.S$D(); if (RacadSVGDesigner.Instagram.next_url.length > +p0zBu.U5) { RacadSVGDesigner.Instagram.retrieve_data(RacadSVGDesigner.Instagram.access_token, RacadSVGDesigner.Instagram.next_url); } }, handle_log_in_out: function () { if (RacadSVGDesigner.Instagram.is_logged_in) { RacadSVGDesigner.Instagram.logout(function () { RacadSVGDesigner.Instagram.is_logged_in = p0zBu.e1; $(W4p9e5.K_V).text(i18n.t(W4p9e5.g3u)); $(W4p9e5.h9d).removeClass(a$dx4.Q60); }); } else { RacadSVGDesigner.Instagram.login(function () { var a1C = p0zBu; var m9e = "560016647"; var e_w = "2005894208"; var L44 = "12033"; var N_W = "46540"; var N2, I6, W6; N2 = -+m9e; a1C.s6(p0zBu[514270]); I6 = -a1C.F_(p0zBu.Q_, e_w); a1C.s0(p0zBu[235283]); W6 = a1C.F_(p0zBu[32075], p0zBu.y8n); q2uu1K.s3o(); for (var M_ = p0zBu[32075]; a1C.E7(M_.toString(), M_.toString().length, N_W - p0zBu[122956]) !== N2; M_++) { RacadSVGDesigner.Instagram.is_logged_in = p0zBu.s2A; $(W4p9e5.K_V).text(i18n.t(W4p9e5.X94)); W6 += +p0zBu.y8n; } if (a1C.E7(W6.toString(), W6.toString().length, +L44) !== I6) { RacadSVGDesigner.Instagram.is_logged_in = p0zBu.e1; $(W4p9e5.K_V).text(i18n.t(W4p9e5.K_V)); } $(W4p9e5.h9d).addClass(a$dx4.Q60); }); } q2uu1K.S$D(); $(a$dx4.D_m).empty(); } }; $(W4p9e5.t8$).on(d1Pxx.u_N, function () { q2uu1K.s3o(); $(W4p9e5.l1h).modal(d1Pxx.x0E); }); $(W4p9e5.V_T).on(d1Pxx.u_N, function () { RacadSVGDesigner.Instagram.handle_log_in_out(); }); $(a$dx4.D_m).on(W4p9e5.J0Y, function () { var innerHeight, scrollTop, scrollHeight; if (!RacadSVGDesigner.Instagram.is_albums_busy) { innerHeight = $(this).innerHeight(); scrollTop = $(this).scrollTop(); scrollHeight = $(this)[p0zBu.U5 | p0zBu[122956]].scrollHeight; if (innerHeight + scrollTop > scrollHeight - (d1Pxx.x$d ^ p0zBu[122956])) { RacadSVGDesigner.Instagram.load_more_photos(); } } }); $(W4p9e5.Q2T).on(a$dx4.o0t, function () { q2uu1K.s3o(); if (RacadSVGDesigner.Instagram.is_logged_in) { $(W4p9e5.K_V).text(i18n.t(W4p9e5.X94)); $(W4p9e5.h9d).addClass(a$dx4.Q60); } else { $(W4p9e5.K_V).text(i18n.t(W4p9e5.g3u)); $(W4p9e5.h9d).removeClass(a$dx4.Q60); } }); RacadSVGDesigner.StockImages = { current_page: { clipart: p0zBu.U5 | p0zBu[122956], pixabay: p0zBu.U5 | p0zBu[122956], pexel: +p0zBu.U5, unsplash: p0zBu.U5 >> p0zBu.V8 }, current_searchterm: p0zBu.e5, is_busy: p0zBu.e1, get_clipart: function (callback) { this.is_busy = p0zBu.s2A; $.getJSON(`https://openclipart.org/search/json/?query=${this.current_searchterm}&page=${this.current_page.clipart + (p0zBu.v2 >> p0zBu.Q_)}&amount=50`, function (data) { var J2y = 'ul.stock_image_list[data-stock_image="clipart"]'; var result_array, images, image, image_li, _span, _li; $(J2y).unbind(W4p9e5.J0Y); result_array = new Array(); images = data.payload; if (images.length > +p0zBu.U5) { for (var i = p0zBu.U5 | p0zBu[122956]; i < images.length; i++) { image = images[i]; image_li = RacadSVGDesigner.StockImages.build_thumbnail(image.svg.png_thumb, image.svg.url, image.id, W4p9e5.Y0i, p0zBu.s2A, function () { q2uu1K.S$D(); $(W4p9e5.T9u).modal(a$dx4.H$G); }); result_array.push(image_li); } if (data.info.current_page < data.info.pages) { RacadSVGDesigner.StockImages.on_list_scroll(W4p9e5.Y0i); } } else { _span = $(a$dx4.I$u).text(i18n.t(W4p9e5.B_t)); _li = $(a$dx4.D_a).append(_span); result_array.push(_li); } $(J2y).append(result_array); RacadSVGDesigner.StockImages.current_page.clipart += +p0zBu.v2; RacadSVGDesigner.StockImages.is_busy = p0zBu.e1; if (typeof callback === d1Pxx.d0a) { callback(); } }); }, get_pixabay: function (callback) { q2uu1K.S$D(); this.is_busy = p0zBu.s2A; $.getJSON(`https://pixabay.com/api/?key=6004254-af3c924b81589c2a74b0ac538&q=${this.current_searchterm}&page=${this.current_page.pixabay + p0zBu[32075]}&per_page=50`, function (data) { var f86 = 'ul.stock_image_list[data-stock_image="pixabay"]'; var result_array, images, image, image_li, _span, _li; $(f86).unbind(W4p9e5.J0Y); result_array = new Array(); images = data.hits; if (images.length > p0zBu.U5 * p0zBu[32075]) { for (var i = +p0zBu.U5; i < images.length; i++) { image = images[i]; image_li = RacadSVGDesigner.StockImages.build_thumbnail(image.previewURL, image.webformatURL, image.id, W4p9e5.S5d, p0zBu.s2A, function () { $(W4p9e5.T9u).modal(a$dx4.H$G); }); result_array.push(image_li); } if (RacadSVGDesigner.StockImages.current_page.pixabay * p0zBu.y5 < data.totalHits) { RacadSVGDesigner.StockImages.on_list_scroll(W4p9e5.S5d); } } else { _span = $(a$dx4.I$u).text(i18n.t(W4p9e5.B_t)); _li = $(a$dx4.D_a).append(_span); result_array.push(_li); } $(f86).append(result_array); p0zBu.s0(p0zBu[122956]); RacadSVGDesigner.StockImages.current_page.pixabay += p0zBu.F_(p0zBu.Q_, p0zBu.v2); RacadSVGDesigner.StockImages.is_busy = p0zBu.e1; if (typeof callback === d1Pxx.d0a) { callback(); } }); }, get_pexel: function (callback) { var F7F = 'https://api.pexels.com/v1/search'; var n0G = '563492ad6f91700001000001e675295946db46f150efd60172da0a76'; q2uu1K.s3o(); var e46 = 'https://api.pexels.com/v1/popular'; var pexel_url, pexel_data; this.is_busy = p0zBu.s2A; pexel_url = e46; pexel_data = { per_page: +n2Odt.O5d, page: this.current_page.pexel + +p0zBu.v2 }; if (this.current_searchterm.length > p0zBu[122956]) { pexel_url = F7F; pexel_data.query = this.current_searchterm; } $.ajax({ method: n2Odt.N2Y, url: pexel_url, data: pexel_data, headers: { 'Authorization': n0G }, success: function (data) { var y9E = 'ul.stock_image_list[data-stock_image="pexel"]'; var result_array, images, image, image_li, _span, _li; result_array = new Array(); images = data.photos; if (images.length > +p0zBu.U5) { for (var i = p0zBu.U5 - p0zBu[122956]; i < images.length; i++) { image = images[i]; image_li = RacadSVGDesigner.StockImages.build_thumbnail(image.src.small, image.src.original, image.id, W4p9e5.K5P, p0zBu.s2A, function () { q2uu1K.s3o(); $(W4p9e5.T9u).modal(a$dx4.H$G); }); result_array.push(image_li); } if (typeof data.next_page === d1Pxx.S0h) { RacadSVGDesigner.StockImages.on_list_scroll(W4p9e5.K5P); } } else { _span = $(a$dx4.I$u).text(i18n.t(W4p9e5.B_t)); _li = $(a$dx4.D_a).append(_span); result_array.push(_li); } $(y9E).append(result_array); RacadSVGDesigner.StockImages.current_page.pexel += +p0zBu.v2; RacadSVGDesigner.StockImages.is_busy = p0zBu.e1; if (typeof callback === d1Pxx.d0a) { callback(); } } }); }, get_unsplash: function (callback) { var e3g = p0zBu; var T$5 = '&per_page=50'; var u09 = 'https://api.unsplash.com/photos/?client_id=ec86705d3ce8de88bf91ab68ab59350d1ab4b447fe2109de464a3557c517bbf3'; var c5t = 'https://api.unsplash.com/search/photos/?client_id=ec86705d3ce8de88bf91ab68ab59350d1ab4b447fe2109de464a3557c517bbf3&query='; var l0I = '&page='; var query, page, unsplash_url; q2uu1K.S$D(); this.is_busy = p0zBu.s2A; query = this.current_searchterm; page = this.current_page.unsplash + +p0zBu.v2; unsplash_url = u09; if (query.length > p0zBu[122956]) { e3g.s6(p0zBu[394202]); unsplash_url = e3g.F_(c5t, query); } e3g.s0(p0zBu[551601]); $.getJSON(e3g.F_(T$5, unsplash_url, page, l0I), function (data) { var I0x = 'results'; var T_T = 'ul.stock_image_list[data-stock_image="unsplash"]'; var result_array, images, image, image_li, _span, _li; if (data.hasOwnProperty(I0x)) { data = data.results; } result_array = new Array(); images = data; if (images.length > (p0zBu.U5 | p0zBu[122956])) { for (var i = +p0zBu.U5; i < images.length; i++) { image = images[i]; image_li = RacadSVGDesigner.StockImages.build_thumbnail(image.urls.thumb, image.urls.full, image.id, W4p9e5.C2J, p0zBu.s2A, function () { q2uu1K.s3o(); $(W4p9e5.T9u).modal(a$dx4.H$G); }); result_array.push(image_li); } RacadSVGDesigner.StockImages.on_list_scroll(W4p9e5.C2J); } else { _span = $(a$dx4.I$u).text(i18n.t(W4p9e5.B_t)); _li = $(a$dx4.D_a).append(_span); result_array.push(_li); } $(T_T).append(result_array); e3g.s0(p0zBu[122956]); RacadSVGDesigner.StockImages.current_page.unsplash += e3g.F_(p0zBu.Q_, p0zBu.v2); RacadSVGDesigner.StockImages.is_busy = p0zBu.e1; if (typeof callback === d1Pxx.d0a) { callback(); } }); }, build_thumbnail: function (thumbnail, image_src, image_id, image_source, download, callback, extra_data) { var _image, image_li; _image = $(a$dx4.l12).attr({ src: thumbnail, 'data-imageURL': image_src, 'data-image_id': image_id, 'data-image_source': image_source }).on(d1Pxx.u_N, function () { var Q3J = 'data-image_source'; var q63 = 'data-imageURL'; var H_d = 'fm'; var url, image_id, image_source, ext, url_params, file_name, _element; url = $(this).attr(q63); q2uu1K.S$D(); image_id = $(this).attr(W4p9e5.Z6H); image_source = $(this).attr(Q3J); ext = url.split(d1Pxx.v$C)[url.split(d1Pxx.v$C).length - (p0zBu.v2 | p0zBu[122956])]; if (image_source === W4p9e5.C2J) { if (typeof URLSearchParams === d1Pxx.d0a) { url_params = new URLSearchParams(url); ext = url_params.get(H_d); } else { ext = W4p9e5.o3m; } } file_name = `${image_source}_${image_id}.${ext}`; if (url.length > (p0zBu.U5 ^ p0zBu[122956])) { if (download) { RacadSVGDesigner.Images.on_external_photo_click(url, file_name, function () { var K1J = '[data-udrawsvg="stock_image_modal"]'; $(K1J).modal(a$dx4.H$G); if (typeof callback === d1Pxx.d0a) { callback(); } }); } else { if (typeof RacadSVGDesigner.Images.replace_image_id !== d1Pxx.c42) { _element = SVG.get(RacadSVGDesigner.Images.replace_image_id); RacadSVGDesigner.Images.replace_image(_element, url, function () { q2uu1K.S$D(); if (typeof callback === d1Pxx.d0a) { callback(); } }); } else { RacadSVGDesigner.Images.add_image(url, function () { if (typeof callback === d1Pxx.d0a) { callback(); } }); } } } }).addClass(a$dx4.L5O).css(W4p9e5.q2R, a$dx4.g9a); image_li = $(a$dx4.D_a).append(_image); if (typeof extra_data === d1Pxx.E_o) { for (var attr in extra_data) { _image.attr(attr, extra_data[attr]); image_li.attr(attr, extra_data[attr]); } } return image_li; }, on_list_scroll: function (source) { $(`ul.stock_image_list[data-stock_image="${source}"]`).on(W4p9e5.J0Y, function () { q2uu1K.S$D(); var w7G = "150"; var innerHeight, scrollTop, scrollHeight; if (!RacadSVGDesigner.StockImages.is_busy) { innerHeight = $(this).innerHeight(); scrollTop = $(this).scrollTop(); scrollHeight = $(this)[+p0zBu.U5].scrollHeight; if (innerHeight + scrollTop > scrollHeight - (w7G << p0zBu.S1)) { switch (source) { case W4p9e5.Y0i: RacadSVGDesigner.StockImages.get_clipart(); break; case W4p9e5.S5d: RacadSVGDesigner.StockImages.get_pixabay(); break; case W4p9e5.K5P: RacadSVGDesigner.StockImages.get_pexel(); break; case W4p9e5.C2J: RacadSVGDesigner.StockImages.get_unsplash(); break; } } } }); }, search: function (term) { var source; q2uu1K.s3o(); this.current_searchterm = term; source = $(W4p9e5.b35).val(); if (typeof source !== d1Pxx.c42) { $(`[data-udrawSVG="stock_image_modal"] div.stock_image_container[data-stock_image="${source}"]`).attr(W4p9e5.B1t, term); $(`ul.stock_image_list[data-stock_image="${source}"]`).empty(); this.current_page[source] = +p0zBu.U5; switch (source) { case W4p9e5.Y0i: RacadSVGDesigner.StockImages.get_clipart(); break; case W4p9e5.S5d: RacadSVGDesigner.StockImages.get_pixabay(); break; case W4p9e5.K5P: RacadSVGDesigner.StockImages.get_pexel(); break; case W4p9e5.C2J: RacadSVGDesigner.StockImages.get_unsplash(); break; } } }, private_images_loaded: p0zBu.e1, private_library_category_list: new Array(), get_private_library: function (callback) { var M6M = '[data-udrawsvg="stock_image_modal"] ul.private_library_list'; if (RacadSVGDesigner.settings.load_private_images && !RacadSVGDesigner.StockImages.private_images_loaded) { $(M6M).each(function () { q2uu1K.s3o(); $(this).empty(); }); $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.N2Y, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.get_private_images_library }, success: function (response) { var g5r = 'ul.private_library_list[data-stock_image="private"]'; var R5B = '[data-stock_image="private_category"]'; var Z$l = 'show_all'; var R3r = 'private_image_library all'; var result_array, images, categories, image, image_li, _a, _ul, _li, __span, __li; result_array = new Array(); p0zBu.s6(p0zBu[149144]); images = response[p0zBu.L6(p0zBu.Q_, p0zBu.U5)]; categories = RacadSVGDesigner.StockImages.private_library_category_list = response[+p0zBu.v2]; if (images.length > +p0zBu.U5) { for (var i = p0zBu[122956]; i < images.length; i++) { image = images[i]; image_url = RacadSVGDesigner.settings.private_image_library_path + image.image_name; image_li = RacadSVGDesigner.StockImages.build_thumbnail(image_url, image_url, image.ID, W4p9e5.q0D, p0zBu.e1, function () { $(W4p9e5.T9u).modal(a$dx4.H$G); }, { 'data-category_id': image.category }); result_array.push(image_li); } if (categories.length > +p0zBu.U5) { $(R5B).removeClass(a$dx4.C9_); _a = $(n2Odt.f_T).attr({ href: p0zBu.o$ }).text(i18n.t(Z$l)).on(d1Pxx.u_N, function () { RacadSVGDesigner.StockImages.show_private_library_images(); }); _ul = $(W4p9e5.k2Z).attr({ 'data-category_id': p0zBu[122956] }).addClass(R3r); _li = $(a$dx4.D_a).attr({ 'data-category_id': p0zBu.U5 ^ p0zBu[122956] }).append(_a, _ul); $(R5B).append(_li); RacadSVGDesigner.StockImages.build_private_image_categories(categories, p0zBu[122956]); } else { $(R5B).addClass(a$dx4.C9_); RacadSVGDesigner.StockImages.show_private_library_images(); } } else { __span = $(a$dx4.I$u).text(i18n.t(W4p9e5.B_t)); __li = $(a$dx4.D_a).append(__span); result_array.push(__li); } $(g5r).append(result_array); RacadSVGDesigner.StockImages.private_images_loaded = p0zBu.s2A; q2uu1K.s3o(); if (typeof callback === d1Pxx.d0a) { callback(); } }, error: function (error) { q2uu1K.S$D(); error.error(error); } }); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } }, build_private_image_categories: function (categories, parent_id) { var Q42 = 'private_image_library'; q2uu1K.s3o(); var category, _a, _ul, _li, parent_ul, new_list; for (var i = +p0zBu.U5; i < categories.length; i++) { category = categories[i]; if (parseInt(category.parent_id) === parent_id) { _a = $(n2Odt.f_T).attr({ href: p0zBu.o$, 'data-category_id': category.ID }).text(category.category_name).on(d1Pxx.u_N, function () { var category_id; category_id = $(this).attr(W4p9e5.v0V); RacadSVGDesigner.StockImages.show_private_library_images(category_id); }); _ul = $(W4p9e5.k2Z).attr({ 'data-category_id': category.ID }).addClass(Q42); _li = $(a$dx4.D_a).attr({ 'data-category_id': category.ID }).append(_a, _ul); parent_ul = `ul[data-category_id="${parent_id}"]`; $(`[data-stock_image="private_category"] ${parent_ul}`).append(_li); new_list = JSON.parse(JSON.stringify(categories)); new_list.splice(i, p0zBu[32075]); RacadSVGDesigner.StockImages.build_private_image_categories(new_list, parseInt(category.ID)); } } }, show_private_library_images: function (category_id) { var g8q = 'ul.private_library_list[data-stock_image="private"] li'; q2uu1K.s3o(); var to_show; if (typeof category_id === d1Pxx.c42) { $(g8q).each(function () { $(this).removeClass(a$dx4.C9_); }); } else { to_show = RacadSVGDesigner.StockImages.get_children_id(category_id, RacadSVGDesigner.StockImages.private_library_category_list); to_show.push(category_id); $(g8q).each(function () { var _id; $(this).addClass(a$dx4.C9_); _id = $(this).attr(W4p9e5.v0V); if (to_show.indexOf(_id) > -+p0zBu.v2) { $(this).removeClass(a$dx4.C9_); } }); } }, get_children_id: function (parent_id, categories) { q2uu1K.s3o(); var to_merge, category, new_list, return_array; to_merge = new Array(); for (var i = p0zBu.U5 << p0zBu.V8; i < categories.length; i++) { category = categories[i]; if (category.parent_id === parent_id) { to_merge.push(category.ID); new_list = JSON.parse(JSON.stringify(categories)); p0zBu.s6(p0zBu[149144]); new_list.splice(i, p0zBu.F_(p0zBu.S1, p0zBu.v2)); to_merge.push(RacadSVGDesigner.StockImages.get_children_id(category.ID, new_list)); } } return_array = new Array(); for (var t = +p0zBu.U5; t < to_merge.length; t++) { return_array.push(to_merge[t]); } return return_array; } }; $(W4p9e5.S6F).on(W4p9e5.d7i, function () { var p4_ = 'timer'; var _input; q2uu1K.s3o(); _input = $(this); clearTimeout(_input.data(p4_)); _input.data(p4_, setTimeout(function () { var searchterm, source, container; searchterm = _input.val(); q2uu1K.S$D(); source = $(W4p9e5.b35).val(); if (typeof source !== d1Pxx.c42) { container = $(`[data-udrawSVG="stock_image_modal"] div.stock_image_container[data-stock_image="${source}"]`); if (typeof container.attr(W4p9e5.B1t) === d1Pxx.c42 || container.attr(W4p9e5.B1t) !== searchterm) { RacadSVGDesigner.StockImages.search(searchterm); } } }, d1Pxx.h82 >> p0zBu.V8)); }); $(W4p9e5.B5h).on(d1Pxx.u_N, function () { q2uu1K.S$D(); $(W4p9e5.T9u).modal(d1Pxx.x0E); }); $(W4p9e5.b35).on(n2Odt.n1Q, function () { var W7I = '[data-udrawSVG="stock_image_modal"] div.stock_image_container'; var source; source = $(this).val(); if (typeof source !== d1Pxx.c42) { $(W7I).each(function () { var F07 = 'propertychange'; var Y7 = 1237053842; var X_h = 'data-stock_image'; var E1 = 20519; var I24 = "19080"; var M9F = "542936769"; var i5, o9, o6; i5 = -Y7; o9 = +M9F; o6 = +p0zBu.y8n; for (var K5 = +p0zBu.v2; p0zBu.E7(K5.toString(), K5.toString().length, +I24) !== i5; K5++) { $(this).addClass(d1Pxx.O7q); o6 += +p0zBu.y8n; } if (p0zBu.c6(o6.toString(), o6.toString().length, E1) !== o9) { $(this).addClass(d1Pxx.O7q); } $(this).addClass(a$dx4.C9_); if ($(this).attr(X_h) === source) { $(this).removeClass(a$dx4.C9_); if (source === W4p9e5.q0D) { $(W4p9e5.S6F).prop(n2Odt.z6v, p0zBu.s2A); RacadSVGDesigner.StockImages.get_private_library(); } else { $(W4p9e5.S6F).prop(n2Odt.z6v, p0zBu.e1).trigger(F07); } } }); } }); $(W4p9e5.T9u).on(a$dx4.o0t, function () { var k3m = '[data-udrawSVG="stock_image_type]'; var t3 = 1051; var source, _li; $(this).css(W4p9e5.h_S, t3); q2uu1K.s3o(); source = $(k3m).val(); if (typeof source !== d1Pxx.c42 && source.length > p0zBu[122956]) { _li = $(`ul.stock_image_list[data-stock_image="${source}"] li`); if (_li.length === +p0zBu.U5) { switch (source) { case W4p9e5.Y0i: RacadSVGDesigner.StockImages.get_clipart(); break; case W4p9e5.S5d: RacadSVGDesigner.StockImages.get_pixabay(); break; case W4p9e5.K5P: RacadSVGDesigner.StockImages.get_pexel(); break; case W4p9e5.C2J: RacadSVGDesigner.StockImages.get_unsplash(); break; } } } }); RacadSVGDesigner.Filters = { apply_filter: function (active_object, filter_name, level) { var m$A = '[data-filter_mod_type="'; var _filters, previous_filter_info; _filters = this; if (typeof active_object === d1Pxx.E_o) { if (typeof level === d1Pxx.c42) { level = parseFloat($(m$A + filter_name + n2Odt.k_$).val()); } if (filter_name !== d1Pxx.S0D) { previous_filter_info = active_object.attr(W4p9e5.B6K); if (typeof previous_filter_info === d1Pxx.S0h && previous_filter_info.length > p0zBu[122956]) { if (JSON.parse(previous_filter_info).name === filter_name) { this.remove_filters(active_object); return; } } } this.remove_filters(active_object, function () { var A6e = 'gaussian_blur'; var u6i = 'horizontal_blur'; var j8O = 'gamma_correct_1'; var r4u = 'luminance_to_alpha'; var b6B = 'sepiatone'; var d$K = 'gamma_correct_2'; var a_h = 'desaturate'; var y7N = 'hue_rotate'; var a2d = 'extrude'; q2uu1K.S$D(); var filter_info; filter_info = { name: filter_name, value: level }; active_object.attr(W4p9e5.B6K, JSON.stringify(filter_info)); switch (filter_name) { case A6e: _filters.get_gaussian_blur(active_object, level); break; case u6i: _filters.get_horizontal_blur(active_object, level); break; case a_h: _filters.get_desaturate(active_object); break; case W4p9e5.p3m: _filters.get_contrast(active_object); break; case b6B: _filters.get_sepiatone(active_object); break; case y7N: _filters.get_hue_rotate(active_object, level); break; case r4u: _filters.get_luminance_to_alpha(active_object); break; case W4p9e5.i$U: _filters.get_colourize(active_object); break; case W4p9e5.i3_: _filters.get_posterize(active_object); break; case W4p9e5.e5g: _filters.get_darken(active_object, level); break; case W4p9e5.U9r: _filters.get_lighten(active_object, level); break; case W4p9e5.N3A: _filters.get_invert(active_object); break; case j8O: _filters.get_gamma_correct_1(active_object); break; case d$K: _filters.get_gamma_correct_2(active_object); break; case a2d: _filters.get_extrude(active_object); break; case d1Pxx.S0D: _filters.remove_filters(active_object); break; }active_object.translate(active_object.transform().x, active_object.transform().y); if (typeof RacadSVGDesigner.Crop.update_cropper_image === d1Pxx.d0a) { RacadSVGDesigner.Crop.update_cropper_image(); } }); } }, get_gaussian_blur: function (active_object, level) { q2uu1K.S$D(); if (typeof active_object === d1Pxx.E_o) { if (typeof level !== d1Pxx.K3f) { level = +n2Odt.R7u; } p0zBu.s6(p0zBu.H9); level = p0zBu.F_(n2Odt.r2R, level, p0zBu[122956]); active_object.filter(function (add) { add.gaussianBlur(level); active_object.attr(W4p9e5.V16, W4p9e5.a02); }); } }, get_horizontal_blur: function (active_object, level) { var X4q = p0zBu; if (typeof active_object === d1Pxx.E_o) { if (typeof level !== d1Pxx.K3f) { X4q.s0(p0zBu[235283]); level = X4q.F_(p0zBu[32075], n2Odt.R7u); } X4q.s6(p0zBu.R3); level = X4q.F_(n2Odt.r2R, level); active_object.filter(function (add) { q2uu1K.s3o(); add.gaussianBlur(level, +p0zBu.U5); active_object.attr(W4p9e5.V16, W4p9e5.a02); }); } }, get_desaturate: function (active_object) { if (typeof active_object === d1Pxx.E_o) { active_object.filter(function (add) { var A03 = 'saturate'; add.colorMatrix(A03, +p0zBu.U5); }); } }, get_contrast: function (active_object) { q2uu1K.S$D(); if (typeof active_object === d1Pxx.E_o) { active_object.filter(function (add) { var e36 = "0.3"; q2uu1K.S$D(); add.componentTransfer({ rgb: { type: d1Pxx.l65, slope: a$dx4.h8l * p0zBu[32075], intercept: -(e36 * p0zBu[32075] * +a$dx4.h8l) + e36 * p0zBu[32075] } }); }); } }, get_sepiatone: function (active_object) { var E$M = p0zBu; q2uu1K.S$D(); if (typeof active_object === d1Pxx.E_o) { active_object.filter(function (add) { var Z9e = "0.000"; var f6P = "0.334"; var I3i = "0.626"; var S0J = "0.343"; var v38 = 0.669; var N2g = "0.249"; var d6C = "0.111"; var b6_ = "0.130"; var a3B = "0.119"; var O90 = 0.172; E$M.s6(p0zBu.c7); add.colorMatrix(d1Pxx.G_m, [E$M.L6(p0zBu[122956], S0J), v38, E$M.F_(p0zBu[32075], a3B, E$M.s0(p0zBu[235283])), p0zBu[122956], E$M.F_(p0zBu[32075], p0zBu.U5, E$M.s0(p0zBu[235283])), E$M.L6(p0zBu[122956], N2g, E$M.s6(p0zBu.c7)), E$M.F_(p0zBu[122956], I3i, E$M.s0(p0zBu.c7)), E$M.L6(p0zBu[122956], b6_, E$M.s6(p0zBu.c7)), +p0zBu.U5, p0zBu[122956], O90, +f6P, E$M.L6(p0zBu[122956], d6C, E$M.s0(p0zBu.c7)), p0zBu[122956], p0zBu[122956], E$M.F_(p0zBu[122956], Z9e, E$M.s6(p0zBu[514270])), E$M.L6(Z9e, p0zBu[122956], E$M.s0(p0zBu[32075])), E$M.L6(p0zBu[32075], Z9e, E$M.s0(p0zBu[235283])), E$M.L6(p0zBu.S1, p0zBu.v2, E$M.s6(p0zBu[149144])), +p0zBu.U5]); }); } }, get_hue_rotate: function (active_object, level) { var l2L = p0zBu; var y7 = 865; var g5W = "865"; q2uu1K.s3o(); var Y1 = 1297409072; var T2 = 1060171596; var h1 = 54238; var S5y = "67604"; var u3, F5, C8; if (typeof active_object === d1Pxx.E_o) { if (typeof level !== d1Pxx.K3f) { u3 = -Y1; F5 = T2; l2L.s6(p0zBu[235283]); C8 = l2L.L6(p0zBu[32075], p0zBu.y8n); for (var E$ = p0zBu.v2 >> p0zBu.S1; l2L.c6(E$.toString(), E$.toString().length, h1) !== u3; E$++) { level = y7; C8 += +p0zBu.y8n; } if (l2L.c6(C8.toString(), C8.toString().length, S5y << p0zBu.Q_) !== F5) { level = +g5W; } l2L.s6(p0zBu[122956]); level = l2L.L6(p0zBu[122956], d1Pxx.I6W); } active_object.filter(function (add) { var j1N = 'hueRotate'; add.colorMatrix(j1N, level); }); } }, get_luminance_to_alpha: function (active_object) { q2uu1K.s3o(); if (typeof active_object === d1Pxx.E_o) { active_object.filter(function (add) { var q0A = 'luminanceToAlpha'; q2uu1K.S$D(); add.colorMatrix(q0A); }); } }, get_colourize: function (active_object, colour) { var W$o = p0zBu; var i$ = 1514; var P7 = 148; q2uu1K.s3o(); var q9 = 1785; var r, g, b, colour_object; if (typeof active_object === d1Pxx.E_o) { if (typeof colour !== d1Pxx.E_o) { colour = $(W4p9e5.m5D).spectrum(n2Odt.A$q, n2Odt.H58); } W$o.s6(P7); var Q5 = W$o.F_(p0zBu[551601], p0zBu.T$, i$, p0zBu[149144], q9); r = colour._r / Q5; g = colour._g / +p0zBu.B95; W$o.s0(p0zBu.b_); var R$ = W$o.F_(p0zBu.w5, p0zBu.A7, p0zBu.v5, p0zBu[514270], p0zBu.A7); b = colour._b / (p0zBu.B95 * R$); colour_object = { _r: Math.round(colour._r), _g: Math.round(colour._g), _b: Math.round(colour._b) }; active_object.filter(function (add) { active_object.attr(W4p9e5.i$U, JSON.stringify(colour_object)); W$o.s6(p0zBu[514270]); add.colorMatrix(d1Pxx.G_m, [r, +p0zBu.U5, W$o.L6(p0zBu[122956], p0zBu.U5), +p0zBu.U5, W$o.F_(p0zBu[122956], p0zBu.U5, W$o.s6(p0zBu[514270])), +p0zBu.U5, g, +p0zBu.U5, W$o.L6(p0zBu.S1, p0zBu.U5, W$o.s6(p0zBu[149144])), +p0zBu.U5, +p0zBu.U5, +p0zBu.U5, b, +p0zBu.U5, W$o.L6(p0zBu[32075], p0zBu.U5, W$o.s0(p0zBu[235283])), W$o.F_(p0zBu[122956], p0zBu.U5, W$o.s0(p0zBu[514270])), p0zBu[122956], W$o.F_(p0zBu.S1, p0zBu.U5, W$o.s0(p0zBu[122956])), +p0zBu.v2, W$o.L6(p0zBu[122956], p0zBu.U5, W$o.s6(p0zBu[122956]))]); }); } }, get_posterize: function (active_object) { q2uu1K.s3o(); if (typeof active_object === d1Pxx.E_o) { active_object.filter(function (add) { var Q9$ = "0.4"; var P2d = "0.6"; var q3C = 'discrete'; var C9U = "0.2"; add.componentTransfer({ rgb: { type: q3C, tableValues: [p0zBu.U5 | p0zBu[122956], C9U * p0zBu[32075], +Q9$, P2d * p0zBu[32075], n2Odt.g5A - p0zBu[122956], +p0zBu.v2] } }); }); } }, get_darken: function (active_object, level) { if (typeof active_object === d1Pxx.E_o) { if (typeof level !== d1Pxx.K3f) { level = +n2Odt.W$Y; } p0zBu.s0(p0zBu.w5); level = p0zBu.L6(p0zBu.E3, level); active_object.filter(function (add) { add.componentTransfer({ rgb: { type: d1Pxx.l65, slope: level } }); }); } }, get_lighten: function (active_object, level) { var e8j = p0zBu; q2uu1K.s3o(); if (typeof active_object === d1Pxx.E_o) { if (typeof level !== d1Pxx.K3f) { e8j.s0(p0zBu[235283]); level = e8j.L6(p0zBu[32075], n2Odt.W$Y); } e8j.s0(p0zBu.H9); level = e8j.L6(d1Pxx.x$d, level, p0zBu[122956]); active_object.filter(function (add) { var o3D = 1.5; q2uu1K.S$D(); add.componentTransfer({ rgb: { type: d1Pxx.l65, slope: o3D, intercept: level } }); }); } }, get_invert: function (active_object) { q2uu1K.s3o(); if (typeof active_object === d1Pxx.E_o) { active_object.filter(function (add) { q2uu1K.S$D(); add.componentTransfer({ rgb: { type: n2Odt.m73, tableValues: [+p0zBu.v2, p0zBu.U5 | p0zBu[122956]] } }); }); } }, get_gamma_correct_1: function (active_object) { q2uu1K.S$D(); if (typeof active_object === d1Pxx.E_o) { active_object.filter(function (add) { q2uu1K.S$D(); add.componentTransfer({ g: { type: n2Odt.U4Q, amplitude: p0zBu[32075], exponent: +n2Odt.t5H } }); }); } }, get_gamma_correct_2: function (active_object) { q2uu1K.s3o(); if (typeof active_object === d1Pxx.E_o) { active_object.filter(function (add) { add.componentTransfer({ g: { type: n2Odt.U4Q, amplitude: p0zBu[32075], exponent: n2Odt.t5H * p0zBu[32075], offset: -+n2Odt.B7E } }); }); } }, remove_filters: function (active_object, callback) { if (typeof active_object === d1Pxx.E_o) { active_object.unfilter(p0zBu.s2A); active_object.attr(W4p9e5.V16, p0zBu.e5); active_object.attr(W4p9e5.B6K, p0zBu.e5); active_object.attr(W4p9e5.i$U, p0zBu.e5); } q2uu1K.s3o(); if (RacadSVGDesigner.is_safari()) { setTimeout(function () { if (typeof callback === d1Pxx.d0a) { callback(); } }, +n2Odt.B7E); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } } }; $(W4p9e5.I9V).on(d1Pxx.u_N, function () { var filter_type, active_object; filter_type = $(this).attr(W4p9e5.i1e); q2uu1K.S$D(); active_object = RacadSVGDesigner.Crop.image; RacadSVGDesigner.Filters.apply_filter(active_object, filter_type); }); $(W4p9e5.S7c).on(W4p9e5.B9r, function () { var w1R = 'data-filter_mod_type'; var filter_type, value, active_object; filter_type = $(this).attr(w1R); value = parseFloat($(this).val()); active_object = RacadSVGDesigner.Crop.image; if (!isNaN(value) && typeof active_object === d1Pxx.E_o) { RacadSVGDesigner.Filters.remove_filters(active_object, function () { q2uu1K.S$D(); if (value > p0zBu.U5 << p0zBu[122956]) { RacadSVGDesigner.Filters.apply_filter(active_object, filter_type, value); } }); } }); $(W4p9e5.S7c).on(d1Pxx.u_N, function (e) { e.stopPropagation(); }); RacadSVGDesigner.load_cropper = function () { var C8B = p0zBu; var l2d = q2uu1K; var s6N = '[data-udrawsvg="edit_image_modal"] div.image_cropping_container'; var q52 = '[data-udrawSVG="edit_image_modal"]'; var X_2 = 'flip_y'; var y5q = '[data-udrawSVG="cropping_image"]'; var T6t = 'div.image_editing_tools'; var F6V = 'div.image_filters_container'; var S13 = '[data-udrawsvg="edit_image_modal"] .modal-header'; var w3 = 151; var F8x = '[data-udrawSVG="image_editing_tools_list"] .image_editing_tool_button, .image_cropping_button'; var D$r = 'data-tool_type'; var j2n = 'margin-top'; var X67 = 'original_width'; var T1A = '[data-udrawSVG="image_editing_tools_list"] .image_editing_tool_button'; var v_N = '[data-udrawsvg="apply_edited_image"]'; l2d.S$D(); var P7L = 'original_height'; var y$_ = '#designer-wrapper'; var e0A = '[data-udrawsvg="SVGDesigner"]'; var y62 = '[data-image_pagination="previous"], [data-image_pagination="next"]'; var B7p = '[data-udrawsvg="edit_image_modal"] div.cropping_container'; var t2k = 'flip_x'; var u90 = 'rotate_clockwise'; var t77 = '[data-udrawsvg="image_filters_list"] li'; var m6_ = 'svg_cropper'; var D2$ = '[data-udrawsvg="image_cropper"] div.canvas-container'; var s62 = '[data-udrawSVG="cancel_image_editing"]'; var X48 = 'rotate_counterclockwise'; if (RacadSVGDesigner.settings.use_default_cropper) { RacadSVGDesigner.Crop = { cropper: undefined, canvas: SVG(m6_), load_image: function (_image, callback) { var G83 = '-9999px'; var Z8r = '[data-udrawsvg="image_cropper"]'; var _self, _properties, image_url, canvas_width, canvas_height; this.editing_id = _image.attr(d1Pxx.m$b); $(RacadSVGDesigner.Crop.canvas.node).removeClass(a$dx4.C9_); $(Z8r).css({ top: G83, left: G83 }); $(y5q).addClass(a$dx4.C9_); $(a$dx4.D9t).modal(a$dx4.H$G); $(q52).modal(d1Pxx.x0E); if (typeof RacadSVGDesigner.Crop.image === d1Pxx.E_o) { RacadSVGDesigner.Crop.image.remove(); } l2d.S$D(); _self = this; _properties = RacadSVGDesigner.get_udraw_properties(_image); image_url = _properties.original_src; canvas_width = _image.width(); canvas_height = _image.height(); this.canvas.size(canvas_width, canvas_height); this.canvas.attr({ original_width: canvas_width, original_height: canvas_height }); this.canvas.image(image_url).loaded(function (loader) { var image, filter_info, filter_info_obj, colour, wait; image = RacadSVGDesigner.Crop.image = this; filter_info = _image.attr(W4p9e5.B6K); if (typeof filter_info === d1Pxx.S0h && filter_info.length > +p0zBu.U5) { filter_info_obj = JSON.parse(filter_info); if (filter_info_obj.name !== W4p9e5.i$U) { RacadSVGDesigner.Filters.apply_filter(image, filter_info_obj.name, filter_info_obj.value); } } if (typeof _image.attr(W4p9e5.i$U) === d1Pxx.S0h && _image.attr(W4p9e5.i$U).length > (p0zBu.U5 ^ p0zBu[122956])) { colour = JSON.parse(_image.attr(W4p9e5.i$U)); RacadSVGDesigner.Filters.get_colourize(image, colour); } wait = p0zBu.e1; l2d.s3o(); if (typeof _image.parent().clipper === d1Pxx.E_o) { wait = p0zBu.s2A; } _self.resizeCanvas(wait, function () { var editing_object, _width, _height, properties; RacadSVGDesigner.Crop.hide_non_png_filters(); editing_object = RacadSVGDesigner.get_object(RacadSVGDesigner.Crop.editing_id); _width = editing_object.attr(d1Pxx.s0r); _height = editing_object.attr(d1Pxx.v26); properties = RacadSVGDesigner.get_udraw_properties(editing_object); if (properties.naturalDim) { _width = properties.naturalDim.width; _height = properties.naturalDim.height; } l2d.s3o(); RacadSVGDesigner.Crop.canvas.size(_width, _height); RacadSVGDesigner.Crop.canvas.attr(d1Pxx.O3G, `0 0 ${_width} ${_height}`); RacadSVGDesigner.Crop.image.attr({ width: _width, height: _height }); RacadSVGDesigner.Crop.update_cropper_image(); if (typeof callback === d1Pxx.d0a) { callback(); } }); }); }, update_cropper_image: function () { var V18 = "72431854"; var e5J = "2041035346"; var Z8L = "40815"; l2d.S$D(); var Z9G = "8785"; var display_canvas, svg, editing_object, k_, E5, F6; if (typeof RacadSVGDesigner.Crop.cropper !== d1Pxx.c42) { C8B.s0(p0zBu[149144]); k_ = C8B.L6(p0zBu[122956], e5J); C8B.s6(p0zBu.c7); E5 = C8B.F_(p0zBu[122956], V18); C8B.s6(p0zBu[32075]); F6 = C8B.F_(p0zBu.y8n, p0zBu[122956]); for (var l2 = p0zBu.v2 - p0zBu[122956]; C8B.c6(l2.toString(), l2.toString().length, Z9G >> p0zBu[122956]) !== k_; l2++) { RacadSVGDesigner.Crop.cropper.destroy(); RacadSVGDesigner.Crop.cropper = undefined; F6 += +p0zBu.y8n; } if (C8B.c6(F6.toString(), F6.toString().length, Z8L >> p0zBu[122956]) !== E5) { RacadSVGDesigner.Crop.cropper.destroy(); RacadSVGDesigner.Crop.cropper = undefined; } } display_canvas = document.getElementById(a$dx4.s5J); svg = RacadSVGDesigner.Crop.canvas.node.outerHTML; editing_object = RacadSVGDesigner.get_object(RacadSVGDesigner.Crop.editing_id); RacadSVGDesigner.svg_to_png(svg, function (data) { var autocrop, _width, _height, clipper; $(y5q).attr(n2Odt.A5l, data); $(RacadSVGDesigner.Crop.canvas.node).addClass(a$dx4.C9_); $(y5q).removeClass(a$dx4.C9_); autocrop = p0zBu.e1; _width = $(y5q).width(); _height = $(y5q).height(); if (typeof editing_object.parent().clipper !== d1Pxx.c42) { clipper = editing_object.parent().clipper.children()[C8B.F_(p0zBu[32075], p0zBu.U5, C8B.s0(p0zBu[235283]))]; _width = clipper.width(); _height = clipper.height(); autocrop = p0zBu.s2A; } RacadSVGDesigner.Crop.resizeModal(p0zBu.e1); RacadSVGDesigner.Crop.cropper = new Cropper($(y5q)[C8B.F_(p0zBu.U5, p0zBu[122956], C8B.s0(p0zBu[32075]))], { aspectRatio: _width / _height, autoCrop: autocrop, movable: p0zBu.e1, zoomable: p0zBu.e1 }); }); }, rotateImage: function (image, angle) { if (angle < +p0zBu.U5) { C8B.s0(p0zBu[149144]); angle += C8B.L6(p0zBu.S1, d1Pxx.N7H); } if (angle >= d1Pxx.N7H << p0zBu.S1) { angle -= p0zBu.O3; } image.rotate(angle); }, resizeModal: function (resize_canvas) { var headerHeight, cropToolsContainerHeight, filtersContainerHeight, cropContainerHeight; headerHeight = $(S13).outerHeight(); cropToolsContainerHeight = $(T6t).outerHeight(); filtersContainerHeight = $(F6V).outerHeight(); cropContainerHeight = $(e0A).innerHeight() * (a$dx4.D9r - p0zBu[122956]) - headerHeight - cropToolsContainerHeight - filtersContainerHeight; if (cropContainerHeight < p0zBu.U5 << p0zBu.S1) { cropContainerHeight = $(y$_).innerHeight() * +a$dx4.D9r - headerHeight - cropToolsContainerHeight - filtersContainerHeight; } if (RacadSVGDesigner.settings.resize_cropping_modal || $(B7p).outerHeight() > $(e0A).innerHeight() * (n2Odt.g5A * p0zBu[32075])) { $(B7p).height(cropContainerHeight); } if (resize_canvas) { this.resizeCanvas(p0zBu.s2A); } }, resizeCanvas: function (wait, callback) { var D6 = 150; var w0 = 149; var _canvas, canvas_height, original_canvas_width, original_canvas_height, maxHeight, maxWidth, zoom, cx, cy, marginTop; if (typeof wait === d1Pxx.c42) { wait = p0zBu.e1; } _canvas = this.canvas; if ($(_canvas.node).is(a$dx4.C$2)) { canvas_height = parseFloat(_canvas.attr(d1Pxx.v26)); original_canvas_width = parseFloat(_canvas.attr(X67)); original_canvas_height = parseFloat(_canvas.attr(P7L)); if (isNaN(original_canvas_width) || isNaN(original_canvas_height)) { return; } maxHeight = $(s6N).innerHeight(); maxWidth = $(s6N).innerWidth(); C8B.s6(p0zBu.w5); zoom = C8B.F_(original_canvas_width, maxWidth); if (original_canvas_height * zoom > maxHeight) { C8B.s6(p0zBu.w5); zoom = C8B.L6(original_canvas_height, maxHeight); } C8B.s6(w0); cx = C8B.L6(zoom, p0zBu[149144], original_canvas_width, zoom, p0zBu.y8n); C8B.s0(D6); cy = C8B.F_(zoom, original_canvas_height, zoom, p0zBu[149144]); RacadSVGDesigner.Crop.canvas.size(original_canvas_width * zoom, original_canvas_height * zoom).zoom(zoom, cx, cy); C8B.s6(w3); marginTop = C8B.F_(canvas_height, maxHeight, p0zBu.y8n); $(D2$).css(j2n, marginTop); if (typeof callback === d1Pxx.d0a) { callback(); } } else { if (wait) { setTimeout(function () { RacadSVGDesigner.Crop.resizeCanvas(wait, callback); }, +n2Odt.e6F); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } } }, hide_non_png_filters: function () { l2d.s3o(); $(t77).each(function () { var I42 = 'blur'; var filter_type; filter_type = $(d1Pxx.x4G, this).attr(W4p9e5.i1e); if (filter_type.indexOf(I42) >= (p0zBu.U5 | p0zBu[122956]) || filter_type.indexOf(n2Odt.U4Q) >= +p0zBu.U5) { $(this).addClass(a$dx4.C9_); } l2d.s3o(); if (filter_type === W4p9e5.i3_ || filter_type === W4p9e5.e5g || filter_type === W4p9e5.U9r || filter_type === W4p9e5.N3A || filter_type === W4p9e5.p3m) { $(this).addClass(a$dx4.C9_); } }); }, show_all_filters: function () { l2d.s3o(); $(t77).each(function () { l2d.s3o(); $(this).removeClass(a$dx4.C9_); }); }, apply_cropper_changes: function (active_object, callback) { var cropped_data, clipper; if (typeof active_object === d1Pxx.E_o && active_object.type === d1Pxx.p_G) { cropped_data = RacadSVGDesigner.Crop.cropper.getCroppedCanvas().toDataURL(); active_object.attr(d1Pxx.C2V, cropped_data); if (typeof active_object.parent().clipper === d1Pxx.E_o) { clipper = active_object.parent().clipper.children()[p0zBu[122956]]; active_object.width(clipper.width()); active_object.height(clipper.height()); active_object.move(clipper.x(), clipper.y()); } if (typeof callback === d1Pxx.d0a) { callback(); } } } }; $(a$dx4.t7N).on(d1Pxx.u_N, function () { var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object) { RacadSVGDesigner.Crop.load_image(active_object); } }); $(v_N).on(d1Pxx.u_N, function () { var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.Crop.editing_id); if (active_object) { RacadSVGDesigner.Crop.apply_cropper_changes(active_object, function () { $(q52).modal(a$dx4.H$G); }); } }); $(T1A).on(d1Pxx.u_N, function () { var j8 = 153; l2d.S$D(); var X3d = 'clear_cropper'; var tool_type, cropper, scale_x, scale_y; tool_type = $(this).attr(D$r); if (typeof RacadSVGDesigner.Crop.cropper !== d1Pxx.c42) { cropper = RacadSVGDesigner.Crop.cropper; switch (tool_type) { case X3d: cropper.clear(); break; case X48: C8B.s6(p0zBu[514270]); cropper.rotate(-C8B.L6(p0zBu.M$, d1Pxx.F$M)); break; case u90: C8B.s0(p0zBu[514270]); cropper.rotate(C8B.F_(p0zBu.B9, d1Pxx.F$M)); break; case t2k: scale_x = cropper.imageData.scaleX || +p0zBu.v2; C8B.s0(p0zBu.a$); cropper.scaleX(C8B.L6(p0zBu.v2, scale_x, p0zBu[122956])); break; case X_2: scale_y = cropper.imageData.scaleY || p0zBu.v2 - p0zBu[122956]; C8B.s0(j8); cropper.scaleY(C8B.L6(scale_y, p0zBu[32075], p0zBu.v2)); break; } } }); $(window).on(n2Odt.Z9r, function () { l2d.S$D(); RacadSVGDesigner.Crop.resizeCanvas(p0zBu.e1); }); $(s62).on(d1Pxx.u_N, function () { RacadSVGDesigner.Crop.editing_id = undefined; l2d.s3o(); $(q52).modal(a$dx4.H$G); }); } else { RacadSVGDesigner.Crop = { canvas: SVG(m6_), load_image: function (_image, callback) { var d1t = '[data-tool_type="zoom_out"], [data-tool_type="zoom_in"]'; var _self, image_url, canvas_width, canvas_height, _clipper; this.editing_id = _image.attr(d1Pxx.m$b); $(a$dx4.D9t).modal(a$dx4.H$G); $(q52).modal(d1Pxx.x0E); $(d1t).addClass(n2Odt.z6v); this.resizeModal(p0zBu.e1); if (typeof RacadSVGDesigner.Crop.image === d1Pxx.E_o) { RacadSVGDesigner.Crop.image.remove(); } _self = this; image_url = _image.attr(d1Pxx.C2V); if (typeof image_url === d1Pxx.c42) { image_url = _image.attr(a$dx4.l_H); } canvas_width = _image.width(); canvas_height = _image.height(); if (typeof _image.parent().clipper === d1Pxx.E_o) { $(d1t).removeClass(n2Odt.z6v); _clipper = _image.parent().clipper.children()[C8B.F_(p0zBu[122956], p0zBu.U5, C8B.s0(p0zBu.c7))]; canvas_width = parseFloat(_clipper.attr(d1Pxx.s0r)); canvas_height = parseFloat(_clipper.attr(d1Pxx.v26)); } this.canvas.size(canvas_width, canvas_height); this.canvas.attr({ original_width: canvas_width, original_height: canvas_height }); this.canvas.image(image_url).loaded(function (loader) { l2d.S$D(); var image, _properties, scale, original, filter_info, filter_info_obj, colour; image = RacadSVGDesigner.Crop.image = this; _properties = RacadSVGDesigner.get_udraw_properties(_image); scale = canvas_width / parseFloat(image.attr(d1Pxx.s0r)); image.attr({ width: canvas_width, height: parseFloat(image.attr(d1Pxx.v26)) * scale }); if (parseFloat(image.attr(d1Pxx.v26)) < canvas_height) { scale = canvas_height / parseFloat(image.attr(d1Pxx.v26)); image.attr({ width: canvas_width * scale, height: canvas_height }); } original = { width: parseFloat(image.attr(d1Pxx.s0r)), height: parseFloat(image.attr(d1Pxx.v26)), x: parseFloat(image.attr(d1Pxx.T4c)), y: parseFloat(image.attr(d1Pxx.M0Y)), rotation: image.transform(d1Pxx.Q1h) }; image.attr({ x: p0zBu.U5 | p0zBu[122956], y: p0zBu.U5 - p0zBu[122956], original: JSON.stringify(original) }); filter_info = _image.attr(W4p9e5.B6K); if (typeof filter_info === d1Pxx.S0h && filter_info.length > +p0zBu.U5) { filter_info_obj = JSON.parse(filter_info); if (filter_info_obj.name !== W4p9e5.i$U) { RacadSVGDesigner.Filters.apply_filter(image, filter_info_obj.name, filter_info_obj.value); } } if (typeof _image.attr(W4p9e5.i$U) === d1Pxx.S0h && _image.attr(W4p9e5.i$U).length > (p0zBu.U5 ^ p0zBu[122956])) { colour = JSON.parse(_image.attr(W4p9e5.i$U)); RacadSVGDesigner.Filters.get_colourize(image, colour); } if (typeof _image.parent().clipper === d1Pxx.E_o) { image.draggable(); $(image.node).css(W4p9e5.q2R, n2Odt.U2B); } _self.resizeCanvas(p0zBu.s2A, function () { var modifications, _x, _y, _transform; modifications = _properties.modifications; if (typeof modifications === d1Pxx.E_o) { _x = modifications.x; _y = modifications.y; _transform = modifications.transform; image.transform(_transform).attr({ x: _x, y: _y }); } RacadSVGDesigner.Images.update_pagination_buttons(); l2d.S$D(); if (typeof callback === d1Pxx.d0a) { callback(); } }); }); }, apply_changes: function (object, callback) { var image, _x, _y, rotation, scale, transform, _properties, mods, original_x, original_y, move_x, move_y; l2d.s3o(); image = RacadSVGDesigner.Crop.image; if (typeof image === d1Pxx.E_o && typeof object === d1Pxx.E_o) { _x = parseFloat(image.attr(d1Pxx.T4c)); _y = parseFloat(image.attr(d1Pxx.M0Y)); rotation = image.transform(d1Pxx.Q1h); scale = image.transform(d1Pxx.b1K); transform = image.transform(); _properties = RacadSVGDesigner.get_udraw_properties(object); if (typeof object.parent().clipper === d1Pxx.E_o) { original_x = parseFloat(_properties.original.x); original_y = parseFloat(_properties.original.y); mods = { x: _x, y: _y, scale: scale, rotation: rotation, transform: transform }; C8B.s6(p0zBu[394202]); move_x = C8B.F_(original_x, _x); C8B.s0(p0zBu[394202]); move_y = C8B.F_(original_y, _y); object.rotate(rotation).scale(scale).move(move_x, move_y); } else { object.rotate(rotation).transform(transform); mods = { rotation: rotation, transform: transform }; } RacadSVGDesigner.Filters.remove_filters(object, function () { var filter_info, filter_info_obj, colour; filter_info = image.attr(W4p9e5.B6K); if (typeof filter_info === d1Pxx.S0h && filter_info.length > (p0zBu.U5 | p0zBu[122956])) { filter_info_obj = JSON.parse(filter_info); if (filter_info_obj.name !== W4p9e5.i$U) { RacadSVGDesigner.Filters.apply_filter(object, filter_info_obj.name, filter_info_obj.value); } } if (typeof image.attr(W4p9e5.i$U) === d1Pxx.S0h && image.attr(W4p9e5.i$U).length > p0zBu[122956]) { colour = JSON.parse(image.attr(W4p9e5.i$U)); RacadSVGDesigner.Filters.get_colourize(object, colour); } _properties.modifications = mods; RacadSVGDesigner.update_udraw_properties(object, _properties); if (typeof callback === d1Pxx.d0a) { callback(); } }); } }, rotateImage: function (image, angle) { if (angle < p0zBu.U5 >> p0zBu.S1) { C8B.s0(p0zBu[32075]); angle += C8B.F_(d1Pxx.N7H, p0zBu[122956]); } if (angle >= +d1Pxx.N7H) { angle -= +d1Pxx.N7H; } l2d.s3o(); image.rotate(angle); }, resizeModal: function (resize_canvas) { var headerHeight, cropToolsContainerHeight, filtersContainerHeight, cropContainerHeight; headerHeight = $(S13).outerHeight(); cropToolsContainerHeight = $(T6t).outerHeight(); filtersContainerHeight = $(F6V).outerHeight(); cropContainerHeight = $(e0A).innerHeight() * (a$dx4.D9r - p0zBu[122956]) - headerHeight - cropToolsContainerHeight - filtersContainerHeight; if (cropContainerHeight < (p0zBu.U5 | p0zBu[122956])) { cropContainerHeight = $(y$_).innerHeight() * +a$dx4.D9r - headerHeight - cropToolsContainerHeight - filtersContainerHeight; } $(B7p).height(cropContainerHeight); if (resize_canvas) { this.resizeCanvas(p0zBu.s2A); } }, resizeCanvas: function (wait, callback) { var o0 = 154; var B3 = 155; var _canvas, canvas_height, original_canvas_width, original_canvas_height, maxHeight, maxWidth, zoom, cx, cy, marginTop; if (typeof wait === d1Pxx.c42) { wait = p0zBu.e1; } _canvas = this.canvas; l2d.S$D(); if ($(_canvas.node).is(a$dx4.C$2)) { canvas_height = parseFloat(_canvas.attr(d1Pxx.v26)); original_canvas_width = parseFloat(_canvas.attr(X67)); original_canvas_height = parseFloat(_canvas.attr(P7L)); if (isNaN(original_canvas_width) || isNaN(original_canvas_height)) { return; } maxHeight = $(s6N).innerHeight(); maxWidth = $(s6N).innerWidth(); C8B.s0(p0zBu.w5); zoom = C8B.F_(original_canvas_width, maxWidth); if (original_canvas_height * zoom > maxHeight) { C8B.s0(p0zBu.w5); zoom = C8B.F_(original_canvas_height, maxHeight); } C8B.s0(o0); cx = C8B.L6(p0zBu.y8n, zoom, original_canvas_width, p0zBu[32075], zoom); C8B.s0(B3); cy = C8B.F_(original_canvas_height, zoom, zoom, p0zBu.y8n); RacadSVGDesigner.Crop.canvas.size(original_canvas_width * zoom, original_canvas_height * zoom).zoom(zoom, cx, cy); C8B.s0(w3); marginTop = C8B.F_(canvas_height, maxHeight, p0zBu.y8n); $(D2$).css(j2n, marginTop); if (typeof callback === d1Pxx.d0a) { callback(); } } else { if (wait) { setTimeout(function () { l2d.S$D(); RacadSVGDesigner.Crop.resizeCanvas(wait, callback); }, +n2Odt.e6F); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } } } }; $(a$dx4.t7N).on(d1Pxx.u_N, function () { var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object) { RacadSVGDesigner.Crop.load_image(active_object); } }); $(y62).on(d1Pxx.u_N, function () { l2d.S$D(); var _button, active_object; _button = $(this); active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.Crop.editing_id); if (active_object) { RacadSVGDesigner.Crop.apply_changes(active_object, function () { var i4 = 156; var N67 = 'data-image_pagination'; var E4U = 'next'; var G8M = 'previous'; var _type, image_array, _image, previous_image, next_image, callback_function; _type = _button.attr(N67); l2d.s3o(); image_array = RacadSVGDesigner.Images.get_images(); for (var i = +p0zBu.U5; i < image_array.length; i++) { _image = image_array[i]; if (_image.attr(d1Pxx.m$b) === RacadSVGDesigner.Crop.editing_id) { C8B.s6(i4); previous_image = image_array[C8B.F_(i, p0zBu[32075], p0zBu.v2)]; C8B.s6(p0zBu.n6); next_image = image_array[C8B.F_(i, p0zBu.v2)]; callback_function = function () { l2d.s3o(); RacadSVGDesigner.Crop.resizeModal(); }; if (_type === G8M && typeof previous_image !== d1Pxx.c42) { return RacadSVGDesigner.Crop.load_image(previous_image, callback_function); } else if (_type === E4U && typeof next_image !== d1Pxx.c42) { return RacadSVGDesigner.Crop.load_image(next_image, callback_function); } } } }); } }); $(F8x).on(d1Pxx.u_N, function () { var f9 = 157; var f0I = 'clear_changes'; var m2c = "0.05"; var T6W = 'zoom_out'; var a1R = 'zoom_in'; var image, image_rotation, image_scale, _type, active_object, angle, zoom; image = RacadSVGDesigner.Crop.image; image_rotation = image.transform(d1Pxx.Q1h); l2d.S$D(); image_scale = image.transform(d1Pxx.b1K); if (isNaN(image_scale)) { C8B.s0(p0zBu[122956]); image_scale = C8B.F_(p0zBu[122956], p0zBu.v2); } _type = $(this).attr(D$r); active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.Crop.editing_id); C8B.s6(p0zBu[514270]); angle = C8B.F_(p0zBu[122956], p0zBu.U5); C8B.s6(p0zBu.c7); zoom = C8B.F_(p0zBu[122956], p0zBu.v2); switch (_type) { case f0I: if (active_object) { RacadSVGDesigner.Crop.load_image(active_object); } break; case X48: C8B.s6(p0zBu.b5); angle = C8B.L6(image_rotation, p0zBu[32075], d1Pxx.F$M); RacadSVGDesigner.Crop.rotateImage(image, angle); break; case u90: C8B.s6(p0zBu.r_); angle = C8B.L6(d1Pxx.F$M, p0zBu.Q1, image_rotation); RacadSVGDesigner.Crop.rotateImage(image, angle); break; case t2k: C8B.s0(p0zBu.c7); image.scale(-C8B.F_(p0zBu[122956], p0zBu.v2), +p0zBu.v2); break; case X_2: image.scale(+p0zBu.v2, -+p0zBu.v2); break; case a1R: C8B.s6(p0zBu[394202]); zoom = C8B.L6(image_scale, a$dx4.Z5l); image.scale(zoom); break; case T6W: C8B.s0(f9); zoom = C8B.L6(m2c, image_scale); image.scale(zoom); break; default: break; } }); $(v_N).on(d1Pxx.u_N, function () { l2d.s3o(); var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.Crop.editing_id); if (active_object) { RacadSVGDesigner.Crop.apply_changes(active_object, function () { $(q52).modal(a$dx4.H$G); }); } }); } }; RacadSVGDesigner.Text = { font_list: new Array(), timeout_event: undefined, get_api_fonts: function (url, callback) { if (url.length > p0zBu[122956]) { $.getJSON(url, function (data) { for (var i = p0zBu[122956]; i < data.length; i++) { if (RacadSVGDesigner.Text.font_list.indexOf(data[i].Fontname) < +p0zBu.U5) { RacadSVGDesigner.settings.font_library.push(data[i]); RacadSVGDesigner.Text.font_list.push(data[i].Fontname); } } if (typeof callback === d1Pxx.d0a) { callback(data); } }); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } }, get_custom_fonts: function (callback) { q2uu1K.s3o(); $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, data: { action: RacadSVGDesigner.handler_actions.local_fonts, font_path: RacadSVGDesigner.settings.local_font_path }, success: function (response) { for (var i = +p0zBu.U5; i < response.length; i++) { if (RacadSVGDesigner.Text.font_list.indexOf(response[i].name) < p0zBu[122956]) { RacadSVGDesigner.settings.font_library.push(response[i]); RacadSVGDesigner.Text.font_list.push(response[i].name); } } q2uu1K.s3o(); if (typeof callback === d1Pxx.d0a) { callback(); } } }); }, get_default_fonts: function (callback) { $.getJSON(RacadSVGDesigner.settings.font_api, function (data) { q2uu1K.S$D(); for (var i = p0zBu[122956]; i < data.length; i++) { if (RacadSVGDesigner.Text.font_list.indexOf(data[i].Fontname) < p0zBu[122956]) { RacadSVGDesigner.settings.font_library.push(data[i]); RacadSVGDesigner.Text.font_list.push(data[i].Fontname); } } if (typeof callback === d1Pxx.d0a) { callback(); } }); }, build_font_library: function (callback) { q2uu1K.s3o(); RacadSVGDesigner.Text.get_custom_fonts(function () { if (RacadSVGDesigner.settings.font_library.length === +p0zBu.U5) { RacadSVGDesigner.Text.get_default_fonts(function () { q2uu1K.S$D(); if (typeof callback === d1Pxx.d0a) { callback(); } }); } else { if (typeof callback === d1Pxx.d0a) { callback(); } } }); }, build_font_family_select: function () { var N_n = 'Arial'; var o4u = 'Comic Sans MS'; var R1d = '<style></style>'; var Y3I = 'French Script MT'; var font_style_tag, _select, default_list, _option; font_style_tag = $(R1d); _select = $(W4p9e5.w5c); $(W4p9e5.w5c).empty(); default_list = [N_n, W4p9e5.I0$, o4u, Y3I]; for (var d = p0zBu.U5 << p0zBu[122956]; d < default_list.length; d++) { _option = $(W4p9e5.m5p).val(default_list[d]).text(default_list[d]).css(d1Pxx.O7M, default_list[d]); _select.append(_option); } RacadSVGDesigner.Text.build_font_library(function () { q2uu1K.s3o(); var fonts, _font, font_name, _option, _location; fonts = RacadSVGDesigner.settings.font_library; for (var i = +p0zBu.U5; i < fonts.length; i++) { _font = RacadSVGDesigner.settings.font_library[i]; font_name = typeof _font.Fontname === d1Pxx.S0h ? _font.Fontname : _font.name; _option = $(W4p9e5.m5p).val(font_name).text(font_name).css(d1Pxx.O7M, font_name); _select.append(_option); _location = typeof _font.TTFLocation === d1Pxx.S0h ? _font.TTFLocation : _font.path; if (_location.indexOf(W4p9e5.O8A) === +p0zBu.U5) { _location = location.origin + _location; } if (_location.indexOf(W4p9e5.B5t) === (p0zBu.U5 ^ p0zBu[122956])) { _location = _location.replace(W4p9e5.X_0, p0zBu.e5); } font_style_tag.append(`@font-face { font-family: ${font_name}; src: url(${_location}); } `); } }); $(a$dx4.E0n).append(font_style_tag); }, build_font_size_select: function () { var h4 = 200; var _select, canvas_properties, _width, _height, _min, _max, _increase, _default, _option; q2uu1K.s3o(); _select = $(W4p9e5.f6$); _select.empty(); canvas_properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); _width = canvas_properties.width; _height = canvas_properties.height; _min = Math.ceil(Math.min(_width, _height) / h4); _max = Math.ceil(Math.min(_width, _height) / p0zBu[149144]); _increase = Math.ceil(Math.min(_width, _height) / +n2Odt.R7m); _default = Math.ceil(Math.min(_width, _height) / (n2Odt.r2R << p0zBu[122956])); for (var i = _min; i <= _max; i += _increase) { _option = $(W4p9e5.m5p).val([i]).text([i]); _select.append(_option); if (i <= _default) { _select.val(i); } } }, get_font_defs: function () { var used_fonts; used_fonts = new Array(); $(d1Pxx.E4c, RacadSVGDesigner.canvas.node).each(function () { var _id, text, font; _id = $(this).attr(d1Pxx.m$b); text = RacadSVGDesigner.get_object(_id); if (text) { font = text.font(d1Pxx.f7E); if (used_fonts.indexOf(font) < p0zBu[122956]) { used_fonts.push(font); } } }); return used_fonts; }, update_font_defs: function () { var used_fonts, style_string, _font, _location; used_fonts = RacadSVGDesigner.Text.get_font_defs(); RacadSVGDesigner.canvas.defs().children().forEach(function (child) { q2uu1K.S$D(); if (child.type === d1Pxx.o7s) { child.remove(); } }); q2uu1K.S$D(); style_string = p0zBu.e5; for (var i = p0zBu.U5 * p0zBu[32075]; i < used_fonts.length; i++) { for (var f = p0zBu[122956]; f < RacadSVGDesigner.settings.font_library.length; f++) { _font = RacadSVGDesigner.settings.font_library[f]; if (_font.Fontname === used_fonts[i] || _font.name === used_fonts[i]) { _location = typeof _font.TTFLocation === d1Pxx.S0h ? _font.TTFLocation : _font.path; if (_location.indexOf(W4p9e5.O8A) === +p0zBu.U5) { _location = location.origin + _location; } if (_location.indexOf(W4p9e5.B5t) === p0zBu.U5 * p0zBu[32075]) { _location = _location.replace(W4p9e5.X_0, p0zBu.e5); } style_string += `@font-face { font-family: ${used_fonts[i]}; src: url(${_location}); } `; break; } } } RacadSVGDesigner.canvas.style(style_string); }, add_text: function (text_string) { var E2U = q2uu1K; var w$H = '20px'; var x, y, colour, font_family, font_size, _text, properties; RacadSVGDesigner.history_actions.save_state(); p0zBu.s6(p0zBu[514270]); x = p0zBu.L6(p0zBu[122956], p0zBu.U5); y = +p0zBu.U5; colour = $(W4p9e5.M3w).val(); font_family = $(W4p9e5.w5c).val(); font_family = font_family !== d1Pxx.p8r ? font_family : W4p9e5.I0$; font_size = $(W4p9e5.f6$).val(); font_size = font_size !== d1Pxx.p8r ? font_size : w$H; _text = RacadSVGDesigner.canvas.text(text_string).build(p0zBu.s2A); _text.fill(colour); _text.font({ family: font_family, size: font_size, anchor: d1Pxx.o_X }); _text.move(x, y); _text.draggable().resize(); if (RacadSVGDesigner.settings.prevent_editing_when_dragging) { _text.on(d1Pxx.x4a, function (e) { E2U.S$D(); RacadSVGDesigner.on_dragmove(e); }).on(d1Pxx.k89, function (e) { E2U.S$D(); RacadSVGDesigner.on_dragend(e); }); } RacadSVGDesigner.Text.update_font_defs(); $(W4p9e5.m8b).val(_text.text()); properties = { editable: p0zBu.s2A }; if (RacadSVGDesigner.settings.mode === p0zBu.e5) { properties.user_added = p0zBu.s2A; } $(_text.node).css({ cursor: a$dx4.g9a, 'pointer-events': d1Pxx.O7i }); $(a$dx4.Q3D).css({ 'pointer-events': d1Pxx.O7i }); RacadSVGDesigner.update_udraw_properties(_text, properties); RacadSVGDesigner.rearrange_elements(); RacadSVGDesigner.deselect_other_objects(_text); _text.on(a$dx4.B9s, function () { E2U.s3o(); RacadSVGDesigner.Text.on_text_click(_text); }); $(a$dx4.E0n).trigger({ type: a$dx4.N9G, object: _text }); return _text; }, on_text_click: function (_text) { var Q8e = p0zBu; var S6v = "31488"; var s_a = 'set'; var g7n = '[data-udrawsvg="letter_spacing"]'; var y_t = '[data-udrawSVG="edit_text_modal"] [data-udrawsvg="make_preview_only"]'; var y$P = "65359219"; var v4y = '[data-udrawsvg="stroke_width"]'; var X9V = '[data-udrawsvg="stroke_colour_picker"]'; var H_M = '[data-udrawSVG="edit_text_modal"] [data-udrawsvg="make_uneditable"]'; var B$6 = '[data-udrawSVG="edit_text_modal"] [data-udrawsvg="make_always_back"]'; var G1d = "1586368382"; var d41 = '[data-udrawsvg="font_size_select"]'; var s_d = '[data-udrawSVG="remove_text"]'; var u6l = '[data-udrawsvg="colour_picker"]'; var j4C = "45946"; var a9m = '[data-udrawsvg="font_family_select"]'; var b3_ = '[data-udrawSVG="edit_text_modal"] [data-udrawsvg="make_always_front"]'; var properties, _letter_spacing, f8, q2, E4; RacadSVGDesigner.Images.hide_actions(); if (_text.hasClass(a$dx4.P$N)) { return p0zBu.e1; } RacadSVGDesigner.deselect_other_objects(_text); properties = RacadSVGDesigner.get_udraw_properties(_text); if (properties.editable || RacadSVGDesigner.settings.mode === a$dx4.W09) { RacadSVGDesigner.settings.objectClicked = _text.attr(d1Pxx.m$b); _letter_spacing = +p0zBu.U5; if (typeof _text.attr(W4p9e5.X56) !== d1Pxx.c42) { Q8e.s6(p0zBu[149144]); f8 = -Q8e.L6(p0zBu.S1, G1d); Q8e.s6(p0zBu[122956]); q2 = Q8e.L6(p0zBu[122956], y$P); E4 = +p0zBu.y8n; for (var r3 = p0zBu.v2 << p0zBu.Q_; Q8e.E7(r3.toString(), r3.toString().length, +j4C) !== f8; r3++) { _letter_spacing = _text.attr(d1Pxx.O7q); Q8e.s0(p0zBu[514270]); E4 += Q8e.F_(p0zBu[149144], p0zBu.y8n); } if (Q8e.E7(E4.toString(), E4.toString().length, S6v | p0zBu[122956]) !== q2) { _letter_spacing = _text.attr(W4p9e5.X56); } } $(a9m).val(_text.attr(d1Pxx.O7M)); $(d41).val(_text.attr(d1Pxx.Y0F)); $(g7n).val(_letter_spacing); $(u6l).spectrum(s_a, _text.attr(d1Pxx.X_Y)); $(X9V).spectrum(s_a, _text.attr(d1Pxx.H$F)); $(v4y).val(_text.attr(d1Pxx.B5K)); if (properties.user_added || RacadSVGDesigner.settings.mode === a$dx4.W09) { $(s_d).removeClass(a$dx4.C9_); $(a$dx4.m5t).removeClass(a$dx4.C9_); $(a$dx4.q4A).removeClass(a$dx4.C9_); } else { $(s_d).addClass(a$dx4.C9_); $(a$dx4.m5t).addClass(a$dx4.C9_); $(a$dx4.q4A).addClass(a$dx4.C9_); } $(W4p9e5.m8b).val(_text.text()); RacadSVGDesigner.Text.display_editor(); } $(y_t).prop(a$dx4.y$V, !!properties.preview_only); $(H_M).prop(a$dx4.y$V, !properties.editable); $(b3_).prop(a$dx4.y$V, !!properties.sticky_front); $(B$6).prop(a$dx4.y$V, !!properties.sticky_back); $(a$dx4.E0n).trigger({ type: a$dx4.g$L, object: _text }); }, update_text_anchor: function (_anchor, _element) { var F_w = p0zBu; var A4 = 159; var v_z = 'end'; var L4 = 158; var previous_anchor, _x, _width; RacadSVGDesigner.history_actions.save_state(_element); previous_anchor = _element.attr(d1Pxx.T8w); if (previous_anchor === _anchor) { return; } _x = _element.attr(d1Pxx.T4c); _width = _element.rbox().width; _element.font(d1Pxx.R$z, _anchor); switch (_anchor) { case d1Pxx.o_X: switch (previous_anchor) { case d1Pxx.X7x: F_w.s0(L4); _element.attr(d1Pxx.T4c, F_w.L6(d1Pxx.H0F, _x, _width, p0zBu[394202])); break; case v_z: F_w.s0(L4); _element.attr(d1Pxx.T4c, F_w.L6(p0zBu.y8n, _x, _width, p0zBu[149144])); break; }break; case d1Pxx.X7x: switch (previous_anchor) { case d1Pxx.o_X: F_w.s6(A4); _element.attr(d1Pxx.T4c, F_w.F_(_width, _x, d1Pxx.H0F)); break; case v_z: F_w.s6(p0zBu.k7); _element.attr(d1Pxx.T4c, F_w.F_(d1Pxx.H0F, p0zBu[122956], _width, _x)); break; }break; case v_z: switch (previous_anchor) { case d1Pxx.o_X: F_w.s0(A4); _element.attr(d1Pxx.T4c, F_w.F_(_width, _x, p0zBu.y8n)); break; case d1Pxx.X7x: F_w.s6(A4); _element.attr(d1Pxx.T4c, F_w.L6(_width, _x, d1Pxx.H0F)); break; }break; } }, display_editor: function () { $(W4p9e5.a5A).modal(d1Pxx.x0E); }, hide_editor: function () { $(W4p9e5.a5A).modal(a$dx4.H$G); } }; $(W4p9e5.v_r).on(d1Pxx.u_N, function () { var Q3B = 'New Text'; q2uu1K.s3o(); RacadSVGDesigner.Text.add_text(Q3B); }); $(W4p9e5.w5c).on(n2Odt.n1Q, function () { var font, active_object; font = $(this).val(); active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object) { RacadSVGDesigner.history_actions.save_state(active_object); $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(d1Pxx.O7M, p0zBu.e5); active_object.font(d1Pxx.f7E, font); RacadSVGDesigner.Text.update_font_defs(); } }); $(W4p9e5.f6$).on(n2Odt.n1Q, function () { var size, active_object; size = $(this).val(); active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object && active_object.type === d1Pxx.E4c) { RacadSVGDesigner.history_actions.save_state(active_object); $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(d1Pxx.Y0F, p0zBu.e5); active_object.font(d1Pxx.L7y, size); } }); $(W4p9e5.M3w).on(n2Odt.n1Q, function () { q2uu1K.S$D(); var colour, active_object; colour = $(this).val(); active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object && active_object.type === d1Pxx.E4c) { RacadSVGDesigner.history_actions.save_state(active_object); $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(d1Pxx.X_Y, colour); active_object.fill(colour); } }); $(W4p9e5.P8H).on(d1Pxx.u_N, function () { var I8V = 'font-weight'; var D4o = 'bold'; var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object && active_object.type === d1Pxx.E4c) { RacadSVGDesigner.history_actions.save_state(active_object); if (active_object.font(d1Pxx.a9C) === D4o) { $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(I8V, n2Odt.r9L); active_object.font(d1Pxx.a9C, n2Odt.r9L); } else { $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(I8V, D4o); active_object.font(d1Pxx.a9C, D4o); } } }); $(W4p9e5.s6u).on(d1Pxx.u_N, function () { var f4C = 'font-style'; var p0x = 'italic'; var X8o = 'initial'; var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object && active_object.type === d1Pxx.E4c) { RacadSVGDesigner.history_actions.save_state(active_object); $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(f4C, p0zBu.e5); if (active_object.font(d1Pxx.o7s) === p0x) { active_object.font(d1Pxx.o7s, X8o); } else { active_object.font(d1Pxx.o7s, p0x); } } }); $(W4p9e5.M6I).on(d1Pxx.u_N, function () { var q6U = 'underline'; var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); q2uu1K.S$D(); if (active_object && active_object.type === d1Pxx.E4c) { RacadSVGDesigner.history_actions.save_state(active_object); $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(W4p9e5.U4i, p0zBu.e5); if (active_object.font(W4p9e5.U4i) === q6U) { active_object.font(W4p9e5.U4i, n2Odt.r9L); } else { active_object.font(W4p9e5.U4i, q6U); } } }); $(W4p9e5.y42).on(d1Pxx.u_N, function () { var J7D = 'overline'; var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object && active_object.type === d1Pxx.E4c) { RacadSVGDesigner.history_actions.save_state(active_object); $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(W4p9e5.U4i, p0zBu.e5); if (active_object.font(W4p9e5.U4i) === J7D) { active_object.font(W4p9e5.U4i, n2Odt.r9L); } else { active_object.font(W4p9e5.U4i, J7D); } } }); $(W4p9e5.S6l).on(d1Pxx.u_N, function () { var L70 = 'line-through'; var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object && active_object.type === d1Pxx.E4c) { RacadSVGDesigner.history_actions.save_state(active_object); $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(W4p9e5.U4i, p0zBu.e5); if (active_object.font(W4p9e5.U4i) === L70) { active_object.font(W4p9e5.U4i, n2Odt.r9L); } else { active_object.font(W4p9e5.U4i, L70); } } }); $(W4p9e5.R7z).on(W4p9e5.B9r, function () { var active_object, value; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); value = parseInt($(this).val()); if (active_object && active_object.type === d1Pxx.E4c && !isNaN(value)) { RacadSVGDesigner.history_actions.save_state(active_object); $(p0zBu.o$ + RacadSVGDesigner.settings.objectClicked).css(W4p9e5.X56, p0zBu.e5); active_object.font(W4p9e5.X56, value); } }); q2uu1K.s3o(); $(a$dx4.E0n).on(W4p9e5.d7i, W4p9e5.C_2, function () { var z3y = '_input'; var _id, text_id, _text; q2uu1K.s3o(); clearTimeout(RacadSVGDesigner.Text.timeout_event); _id = $(this).attr(d1Pxx.m$b); if (typeof _id === d1Pxx.S0h) { text_id = _id.replace(z3y, p0zBu.e5); _text = $(this).val(); $(p0zBu.o$ + text_id).text(_text); } }); $(W4p9e5.M4d).on(d1Pxx.u_N, function () { var h3r = 'data-text_align'; var _anchor, object; _anchor = $(this).attr(h3r); object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (object && object.type === d1Pxx.E4c) { RacadSVGDesigner.Text.update_text_anchor(_anchor, object); } }); $(W4p9e5.J3g).on(d1Pxx.u_N, function () { var G5_ = 'show_advanced_options'; var c3j = 'hide_advanced_options'; var F2Y = '[data-udrawSVG="advanced_text_options_container"]'; var F1J = '[data-udrawSVG="advanced_text_options"] i.chevron_down'; var n2Q = '[data-udrawSVG="advanced_text_options"] span'; q2uu1K.s3o(); var A4Z = '[data-udrawSVG="advanced_text_options"] i.chevron_up'; if ($(F2Y).hasClass(a$dx4.C9_)) { $(F2Y).removeClass(a$dx4.C9_); $(n2Q).text(i18n.t(c3j)); $(F1J).addClass(a$dx4.C9_); $(A4Z).removeClass(a$dx4.C9_); } else { $(F2Y).addClass(a$dx4.C9_); $(n2Q).text(i18n.t(G5_)); $(F1J).removeClass(a$dx4.C9_); $(A4Z).addClass(a$dx4.C9_); } }); SVG.Style = SVG.invent({ create: d1Pxx.o7s, inherit: SVG.Container, extend: { fontFace: function (text) { if (typeof text === d1Pxx.c42) { return this.node.textContent; } else if (typeof text === d1Pxx.S0h) { this.node.textContent = text; return text; } } }, construct: { style: function (string) { q2uu1K.s3o(); return this.defs().put(new SVG.Style()).fontFace(string); } } }); $(W4p9e5.m8b).on(W4p9e5.d7i, function () { var Z4g = 'text-anchor: middle;'; var object; q2uu1K.S$D(); object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (object && object.type === d1Pxx.E4c) { object.text($(this).val()); if (object.attr(d1Pxx.o7s).indexOf(d1Pxx.T8w) > p0zBu[122956]) { object.attr(d1Pxx.o7s, object.attr(d1Pxx.o7s).replace(Z4g)); } } }); RacadSVGDesigner.Pages = { list: new Array(), process_data: function (index, callback) { q2uu1K.S$D(); if (typeof RacadSVGDesigner.canvas === d1Pxx.E_o) { RacadSVGDesigner.show_progress_modal(+p0zBu.U5); $(a$dx4.A$0).hide(); $(a$dx4.k0H).each(function () { var _id, object; _id = $(this).attr(d1Pxx.m$b); object = RacadSVGDesigner.get_object(_id); if (object) { object.selectize(p0zBu.e1).resize(d1Pxx.m0p).draggable(p0zBu.e1); } }); $(a$dx4.k0H).each(function () { var _id, object, properties; _id = $(this).attr(d1Pxx.m$b); object = RacadSVGDesigner.get_object(_id); if (object) { properties = RacadSVGDesigner.get_udraw_properties(object); if (properties.preview_only) { object.attr(a$dx4.l1R, a$dx4.C9_); } } }); if (typeof RacadSVGDesigner.bleed !== d1Pxx.c42) { RacadSVGDesigner.bleed.attr(a$dx4.l1R, a$dx4.C9_); } RacadSVGDesigner.Zoom.zoom_canvas(+a$dx4.h8l, function () { var _image_array, svg; q2uu1K.S$D(); if (RacadSVGDesigner.settings.embed_images) { _image_array = $(d1Pxx.p_G, RacadSVGDesigner.canvas.node); p0zBu.s6(p0zBu[149144]); RacadSVGDesigner.Save.embed_images(_image_array, p0zBu.L6(p0zBu[122956], p0zBu.U5), function () { var svg; svg = $(RacadSVGDesigner.canvas.svg())[+p0zBu.U5].outerHTML; if (typeof callback === d1Pxx.d0a) { callback(svg, index); } }); } else { svg = $(RacadSVGDesigner.canvas.svg())[p0zBu.U5 | p0zBu[122956]].outerHTML; if (typeof callback === d1Pxx.d0a) { callback(svg, index); } } }); } else { if (typeof callback === d1Pxx.d0a) { callback(p0zBu.e5, index, p0zBu.e5); } } }, save: function (svg, index, preview_data, callback) { var c2W = '.png'; var w2V = '_page_'; var page, preview_url, output_path, session_id; q2uu1K.s3o(); page = RacadSVGDesigner.Pages.list[index]; if (typeof page !== d1Pxx.c42) { page.design_data = svg; preview_url = p0zBu.e5; for (var prop in page) { if (prop.indexOf(a$dx4.u_A) !== -(p0zBu.v2 << p0zBu[122956])) { preview_url = page[prop]; } } output_path = RacadSVGDesigner.settings.output_path; session_id = RacadSVGDesigner.settings.session_id; if (preview_url.length === p0zBu[122956]) { p0zBu.s0(p0zBu.h9); preview_url = p0zBu.F_(w2V, c2W, session_id, n2Odt.r3u, session_id, index, output_path); for (var _prop in page) { if (_prop.indexOf(a$dx4.u_A) !== -+p0zBu.v2) { page[_prop] = preview_url; } } } $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, async: p0zBu.s2A, data: { action: RacadSVGDesigner.handler_actions.save_page, data: svg, current_file: page.design_file, preview_data: preview_data, preview_file: preview_url }, success: function (result) { var H8d = '?t='; var dt; q2uu1K.S$D(); dt = new Date(); $(`[data-udrawsvg="page_list"] li[data-page_index="${index}"] img`).attr(n2Odt.A5l, preview_url + H8d + dt.toISOString()); if (typeof callback === d1Pxx.d0a) { callback(); } }, error: function (error) { console.error(error); } }); } }, load: function (index) { q2uu1K.S$D(); var current_index; current_index = RacadSVGDesigner.settings.current_page; if (current_index === index) { return; } RacadSVGDesigner.Pages.process_data(current_index, function (svg, current_index) { var page_file; $(RacadSVGDesigner.canvas.node).css(a$dx4.l1R, a$dx4.C9_); $(`[data-udrawsvg="page_list"] li[data-page_index="${current_index}"] img`).removeClass(a$dx4.Q60); if (typeof RacadSVGDesigner.canvas === d1Pxx.E_o) { if ($(document).find($(RacadSVGDesigner.canvas.node)).length) { RacadSVGDesigner.canvas.remove(); } } page_file = RacadSVGDesigner.Pages.list[index].design_file; q2uu1K.s3o(); if (typeof RacadSVGDesigner.Pages.list[index].design_data === d1Pxx.S0h) { page_file = RacadSVGDesigner.Pages.list[index].design_data; } RacadSVGDesigner.Load.file(page_file, function () { var property, vb; RacadSVGDesigner.settings.objectClicked = undefined; RacadSVGDesigner.settings.current_page = parseInt(index); $(`[data-udrawsvg="page_list"] li[data-page_index="${index}"] img`).addClass(a$dx4.Q60); property = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); if (RacadSVGDesigner.canvas.width() === +p0zBu.U5 || RacadSVGDesigner.canvas.height() === +p0zBu.U5 || property.width === +p0zBu.U5 || property.height === +p0zBu.U5) { vb = RacadSVGDesigner.canvas.viewbox(); property.width = vb.width; property.height = vb.height; RacadSVGDesigner.update_udraw_properties(RacadSVGDesigner.canvas, property); } RacadSVGDesigner.Zoom.scaleToFit(); RacadSVGDesigner.history_actions.undo_list = new Array(); RacadSVGDesigner.history_actions.redo_list = new Array(); $(a$dx4.P3Y).addClass(n2Odt.z6v); $(a$dx4.E98).addClass(n2Odt.z6v); if (RacadSVGDesigner.Pages.list.length > p0zBu.v2 >> p0zBu.Q_) { $(W4p9e5.n09).each(function () { $(W4p9e5.w_r, $(this)).removeClass(n2Odt.z6v); }); } $(`li.page_li[data-page_index="${index}"] button.delete_page_btn`).addClass(n2Odt.z6v); if (RacadSVGDesigner.settings.mode !== a$dx4.W09) { if (RacadSVGDesigner.Images.placeholder_array.length > p0zBu.U5 * p0zBu[32075]) { RacadSVGDesigner.Images.show_bulk_replace_modal(); } } $(RacadSVGDesigner.canvas.node).css(a$dx4.l1R, p0zBu.e5); RacadSVGDesigner.svg_to_png(svg, function (preview_data) { RacadSVGDesigner.Pages.save(svg, current_index, preview_data); }); }, p0zBu.e1); }); }, update_pages_json: function (callback) { var session_id, _path; session_id = RacadSVGDesigner.settings.session_id; q2uu1K.S$D(); _path = RacadSVGDesigner.settings.output_path; $.ajax({ url: RacadSVGDesigner.settings.handler_file, type: n2Odt.M8H, contentType: a$dx4.e16, dataType: n2Odt.w73, async: p0zBu.s2A, data: { action: RacadSVGDesigner.handler_actions.create_page, page_list: RacadSVGDesigner.Pages.list, session_id: session_id, output_path: _path }, success: function (result) { q2uu1K.S$D(); if (typeof callback === d1Pxx.d0a) { callback(); } }, error: function (error) { console.error(error); } }); }, create: function (callback) { var y_J = "336"; var current_index, current_width, current_height, current_zoom; current_index = RacadSVGDesigner.settings.current_page; current_width = +y_J; current_height = +n2Odt.q7i; current_zoom = RacadSVGDesigner.Zoom.current_zoom; if (typeof RacadSVGDesigner.canvas === d1Pxx.E_o) { current_width = RacadSVGDesigner.canvas.width() / current_zoom; current_height = RacadSVGDesigner.canvas.height() / current_zoom; } RacadSVGDesigner.Pages.process_data(current_index, function (svg, current_index) { var V1x = 'li.page_li[data-page_index="0"] span.page_label'; var session_id, design_file, _path, current_page, new_index, page; $(`[data-udrawsvg="page_list"] li[data-page_index="${current_index}"] img`).removeClass(a$dx4.Q60); if (typeof RacadSVGDesigner.canvas === d1Pxx.E_o) { if ($(document).find($(RacadSVGDesigner.canvas.node)).length) { RacadSVGDesigner.canvas.remove(); } } session_id = RacadSVGDesigner.settings.session_id; design_file = RacadSVGDesigner.settings.design_file; _path = RacadSVGDesigner.settings.output_path; if (design_file.length > p0zBu[122956] && design_file.substring(design_file.length - (d1Pxx.H0F | p0zBu[122956])) !== a$dx4.O61) { current_page = { design_file: `${_path}/${session_id}/${session_id}_page_0.svg`, preview_url: `${_path}/${session_id}/${session_id}_page_0.png`, label: $(V1x).text() }; RacadSVGDesigner.Pages.list.push(current_page); } if (design_file.length === p0zBu[122956] || design_file.substring(design_file.length - +d1Pxx.H0F) !== a$dx4.O61) { RacadSVGDesigner.settings.design_file = design_file = `${_path}/${session_id}/${session_id}.json`; } new_index = RacadSVGDesigner.Pages.list.length; page = { design_file: `${_path}/${session_id}/${session_id}_page_${new_index}.svg`, preview_url: `${_path}/${session_id}/${session_id}_page_${new_index}.png`, label: `Page ${new_index + +p0zBu.v2}` }; RacadSVGDesigner.Pages.list.push(page); RacadSVGDesigner.Pages.update_pages_json(function () { var K3S = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII='; var _page, udraw_properties; _page = new Object(); for (var prop in page) { _page[prop] = page[prop]; } _page.preview_url = K3S; RacadSVGDesigner.Pages.create_thumbnail(new_index, _page); RacadSVGDesigner.settings.current_page = parseInt(new_index); $(`[data-udrawsvg="page_list"] li[data-page_index="${new_index}"] img`).addClass(a$dx4.Q60); RacadSVGDesigner.history_actions.undo_list = new Array(); RacadSVGDesigner.history_actions.redo_list = new Array(); $(a$dx4.P3Y).addClass(n2Odt.z6v); $(a$dx4.E98).addClass(n2Odt.z6v); RacadSVGDesigner.canvas = SVG(a$dx4.j3T); RacadSVGDesigner.canvas.size(current_width, current_height); RacadSVGDesigner.canvas.viewbox({ x: +p0zBu.U5, y: p0zBu.U5 << p0zBu[122956], width: current_width, height: current_height }); udraw_properties = { width: current_width, height: current_height }; RacadSVGDesigner.canvas.attr(a$dx4.O$i, JSON.stringify(udraw_properties)); RacadSVGDesigner.hide_progress_modal(function () { var a9_ = 'udraw_svg_page_created'; q2uu1K.s3o(); $(a$dx4.A$0).css(a$dx4.R$p, d1Pxx.S0D); $(a$dx4.A$0).show(); RacadSVGDesigner.Zoom.scaleToFit(); if (RacadSVGDesigner.Pages.list.length > p0zBu.v2 << p0zBu[122956]) { $(W4p9e5.n09).each(function () { $(W4p9e5.w_r, $(this)).removeClass(n2Odt.z6v); }); } $(`li.page_li[data-page_index="${new_index}"] button.delete_page_btn`).addClass(n2Odt.z6v); $(a$dx4.E0n).trigger({ type: a9_, page: _page }); if (typeof callback === d1Pxx.d0a) { callback(); } }); if (svg.length > p0zBu.U5 >> p0zBu.Q_) { RacadSVGDesigner.svg_to_png(svg, function (preview_data) { q2uu1K.S$D(); RacadSVGDesigner.Pages.save(svg, current_index, preview_data); }); } }); }); }, delete: function (index, callback) { var list, new_list; list = RacadSVGDesigner.Pages.list; new_list = new Array(); list[index] = undefined; $(`li.page_li[data-page_index="${index}"]`).remove(); list.forEach(function (page) { q2uu1K.s3o(); if (typeof page === d1Pxx.E_o) { new_list.push(page); } }); RacadSVGDesigner.Pages.list = new_list; RacadSVGDesigner.Pages.update_pages_json(function () { var J$n = 'li.page_li btn.delete_page_btn'; q2uu1K.S$D(); if (RacadSVGDesigner.settings.current_page > index) { RacadSVGDesigner.settings.current_page -= p0zBu[32075]; } if (RacadSVGDesigner.Pages.list.length === +p0zBu.v2) { $(J$n).addClass(n2Odt.z6v); } if (typeof callback === d1Pxx.d0a) { callback(); } }); }, create_thumbnail: function (index, page) { var b4Z = q2uu1K; var U6B = p0zBu; var m4J = 'edit_page_label'; var G86 = 'fas fa fa-check'; var K25 = 'page_thumbnail'; var O4r = '<input />'; var h96 = 'fas fa-pencil-alt fa fa-pencil-o'; var h6O = 'page_label'; var O0W = 'page_li'; var G8O = 'edit_page_label_div hidden'; var z_k = 'label'; var F2 = 161; var A2k = 'edit_label_btn btn btn-sm btn-info'; var O4D = '<button></button>'; var m65 = '<br/>'; var Z6m = 'Page '; var q9d = 'accept_label_edit btn btn-sm btn-success'; var I_L = 'data-page_index'; var O2C = 'fas fa fa-times'; var z$i = 'cancel_label_edit btn btn-sm btn-danger'; var y1W = 'button'; var a5y = 'delete_page_btn btn btn-sm btn-danger'; var _list, src, page_label, _image, _span, _div, _li, edit_input, accept_btn, cancel_btn, edit_label_div, edit_button, delete_button, edit_div; _list = $(a$dx4.c95); if ($(`li.page_li[data-page_index="${index}"]`).length) { return; } src = p0zBu.e5; for (var prop in page) { if (prop.indexOf(a$dx4.u_A) !== -+p0zBu.v2) { src = page[prop]; } } U6B.s6(F2); page_label = U6B.F_(p0zBu.v2, Z6m, index); if (page.hasOwnProperty(z_k)) { page_label = page.label; } _image = $(a$dx4.l12).attr({ src: src, 'data-page_index': index }).addClass(K25); _span = $(a$dx4.I$u).text(page_label).addClass(h6O); _div = $(a$dx4.S4A).attr(I_L, index).append(_image, m65, _span); _li = $(a$dx4.D_a).attr({ 'data-page_index': index }).append(_div, edit_div).addClass(O0W); _div.on(d1Pxx.u_N, function () { var page_index; page_index = $(this).attr(I_L); b4Z.s3o(); RacadSVGDesigner.Pages.load(page_index); }); b4Z.s3o(); _list.append(_li); if (RacadSVGDesigner.settings.mode === a$dx4.W09) { edit_input = $(O4r).attr({ type: d1Pxx.E4c, 'data-page_index': index }).addClass(m4J).val(page_label); accept_btn = $(O4D).attr({ type: y1W, 'data-page_index': index }).addClass(q9d).append($(a$dx4.s5t).addClass(G86)).on(d1Pxx.u_N, function () { b4Z.S$D(); var page_index, text; if (RacadSVGDesigner.settings.mode === a$dx4.W09) { page_index = parseInt($(this).attr(I_L)); text = $(`input.edit_page_label[data-page_index="${page_index}"]`).val(); if (text.length === p0zBu[122956]) { U6B.s0(p0zBu.B4); text = `Page ${U6B.F_(p0zBu.v2, page_index, p0zBu[122956])}`; } $(`li.page_li[data-page_index="${page_index}"] span.page_label`).removeClass(a$dx4.C9_); $(`div.edit_page_label_div[data-page_index="${page_index}"]`).addClass(a$dx4.C9_); RacadSVGDesigner.Pages.update_label(page_index, text); } }); cancel_btn = $(O4D).attr({ type: y1W, 'data-page_index': index }).addClass(z$i).append($(a$dx4.s5t).addClass(O2C)).on(d1Pxx.u_N, function () { var page_index; if (RacadSVGDesigner.settings.mode === a$dx4.W09) { page_index = $(this).attr(I_L); $(`div.edit_page_label_div[data-page_index="${page_index}"]`).addClass(a$dx4.C9_); $(`li.page_li[data-page_index="${page_index}"] span.page_label`).removeClass(a$dx4.C9_); } }); edit_label_div = $(a$dx4.S4A).attr(I_L, index).addClass(G8O).append(edit_input, accept_btn, cancel_btn); edit_button = $(O4D).attr({ type: y1W, 'data-page_index': index }).addClass(A2k).append($(a$dx4.s5t).addClass(h96)).on(d1Pxx.u_N, function () { var page_index, page, text; if (RacadSVGDesigner.settings.mode === a$dx4.W09) { page_index = parseInt($(this).attr(I_L)); page = RacadSVGDesigner.Pages.list[index]; U6B.s0(p0zBu.L0); text = `Page ${U6B.F_(index, p0zBu.v2, p0zBu.Q_)}`; if (typeof page === d1Pxx.E_o && page.hasOwnProperty(z_k)) { text = page.label; } $(`input.edit_page_label[data-page_index="${page_index}"]`).val(text); $(`li.page_li[data-page_index="${page_index}"] span.page_label`).addClass(a$dx4.C9_); $(`div.edit_page_label_div[data-page_index="${page_index}"]`).removeClass(a$dx4.C9_); } }); delete_button = $(O4D).attr({ type: y1W, 'data-page_index': index }).addClass(a5y).append($(a$dx4.s5t).addClass(a$dx4.j$i)).on(d1Pxx.u_N, function () { b4Z.s3o(); var page_index; if (RacadSVGDesigner.settings.mode === a$dx4.W09 && !$(this).hasClass(n2Odt.z6v)) { page_index = $(this).attr(I_L); RacadSVGDesigner.Pages.delete(page_index); } }); if (RacadSVGDesigner.settings.current_page === index) { delete_button.addClass(n2Odt.z6v); } edit_div = $(a$dx4.S4A).append(edit_label_div, edit_button, delete_button); _li.append(edit_div); } }, update_label: function (index, text) { q2uu1K.s3o(); var page; page = RacadSVGDesigner.Pages.list[index]; if (typeof page === d1Pxx.E_o) { page.label = text; } $(`li.page_li[data-page_index="${index}"] span.page_label`).text(text); }, show_document_settings: function () { var g1q = '[data-udrawSVG="page_settings_modal"] span.error'; var b$4 = '[data-udrawSVG="page_size_height"]'; var z2B = '[data-udrawSVG="page_size_width"]'; var W0k = '[data-udrawSVG="page_size_bleed"]'; var _properties, _width, _height, _bleed; _properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); _width = parseFloat(_properties.width) / +a$dx4.C$N; _height = parseFloat(_properties.height) / +a$dx4.C$N; _bleed = parseFloat(_properties.bleed) / (a$dx4.C$N - p0zBu[122956]); if (isNaN(_bleed)) { _bleed = p0zBu[122956]; } $(z2B).val(_width); $(b$4).val(_height); $(W0k).val(_bleed); $(g1q).addClass(a$dx4.C9_); $(W4p9e5.D5A).removeClass(d1Pxx.Z$J); }, update_document_size: function (width, height, bleed) { var J_V = p0zBu; q2uu1K.s3o(); RacadSVGDesigner.Zoom.zoom_canvas(+p0zBu.v2, function () { var t$3 = "2058029688"; q2uu1K.s3o(); var E04 = "29746"; var d4w = "1138669734"; var T8m = "95618"; var t6 = 162; var _properties, previous_bleed, _width, _height, _bleed_properties, _cm_properties, y9, S4, b6; _properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); previous_bleed = _properties.bleed; if (typeof previous_bleed === d1Pxx.c42) { previous_bleed = p0zBu[122956]; } _properties.width = width; _properties.height = height; _properties.bleed = bleed; RacadSVGDesigner.update_udraw_properties(RacadSVGDesigner.canvas, _properties); RacadSVGDesigner.Zoom.current_zoom = +p0zBu.v2; J_V.s0(t6); _width = J_V.L6(width, p0zBu.y8n, bleed); J_V.s6(p0zBu.d$); _height = J_V.L6(p0zBu[122956], bleed, height, p0zBu.y8n); RacadSVGDesigner.canvas.size(_width, _height).viewbox({ x: p0zBu.U5 - p0zBu[122956], y: p0zBu[122956], width: _width, height: _height }); if (typeof RacadSVGDesigner.bleed !== d1Pxx.c42) { RacadSVGDesigner.bleed.remove(); J_V.s6(p0zBu[235283]); y9 = -J_V.L6(p0zBu[32075], t$3); J_V.s0(p0zBu[235283]); S4 = -J_V.L6(p0zBu[32075], d4w); J_V.s6(p0zBu[32075]); b6 = J_V.L6(p0zBu.y8n, p0zBu[122956]); for (var T3 = p0zBu[32075]; J_V.c6(T3.toString(), T3.toString().length, +T8m) !== y9; T3++) { RacadSVGDesigner.bleed = undefined; J_V.s6(p0zBu[32075]); b6 += J_V.L6(p0zBu.y8n, p0zBu[122956]); } if (J_V.c6(b6.toString(), b6.toString().length, +E04) !== S4) { RacadSVGDesigner.bleed = undefined; } } if (typeof RacadSVGDesigner.cropmarks !== d1Pxx.c42) { RacadSVGDesigner.cropmarks.remove(); RacadSVGDesigner.cropmarks = undefined; } RacadSVGDesigner.canvas.children().forEach(function (child) { var x, y; J_V.s0(p0zBu.M$); x = J_V.F_(bleed, previous_bleed); J_V.s6(p0zBu.M$); y = J_V.F_(bleed, previous_bleed); child.transform({ x: x, y: y }); }); RacadSVGDesigner.bleed = RacadSVGDesigner.canvas.bleed(width, height, bleed); RacadSVGDesigner.cropmarks = RacadSVGDesigner.canvas.cropmarks(width, height, bleed); _bleed_properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.bleed); _bleed_properties.is_bleed = p0zBu.s2A; RacadSVGDesigner.update_udraw_properties(RacadSVGDesigner.bleed, _bleed_properties); _cm_properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.cropmarks); _cm_properties.is_cropmarks = p0zBu.s2A; RacadSVGDesigner.update_udraw_properties(RacadSVGDesigner.cropmarks, _cm_properties); RacadSVGDesigner.Zoom.scaleToFit(); RacadSVGDesigner.update_selectable_pointsize(); RacadSVGDesigner.Text.build_font_size_select(); RacadSVGDesigner.Zoom.update_max_zoom_step(); }); } }; $(W4p9e5.t6$).on(d1Pxx.u_N, function () { q2uu1K.s3o(); RacadSVGDesigner.Pages.create(); }); $(W4p9e5.Q$4).on(d1Pxx.u_N, function () { RacadSVGDesigner.Pages.show_document_settings(); $(W4p9e5.S$j).modal(d1Pxx.x0E); }); $(W4p9e5.r43).on(d1Pxx.u_N, function () { var G0v = p0zBu; var i7 = 2048; var Y8F = '[data-udrawsvg="page_size_width"]'; var H0 = 164; var D1L = '[data-udrawsvg="page_size_bleed"]'; var X7C = '[data-udrawsvg="page_size_height"]'; var Z4 = 163; var K4 = 416; var J1 = 832; var _width, _height, _bleed; _width = parseFloat($(Y8F).val()) * +a$dx4.C$N; G0v.s0(Z4); var F1 = G0v.L6(p0zBu.v_, p0zBu.v5, p0zBu.U2, i7); _height = parseFloat($(X7C).val()) * (a$dx4.C$N | F1); G0v.s0(H0); var e9 = G0v.L6(J1, K4, p0zBu[551601], p0zBu.H2, p0zBu[235283]); _bleed = parseFloat($(D1L).val()) * (a$dx4.C$N | e9); if (!isNaN(_width) && !isNaN(_height) && !isNaN(_bleed) && _width > p0zBu[122956] && _height > p0zBu[122956]) { RacadSVGDesigner.Pages.update_document_size(_width, _height, _bleed); $(W4p9e5.S$j).modal(a$dx4.H$G); } }); $(q2uu1K.X2g).on(W4p9e5.d7i, function () { var S$S = 'span'; var C76 = 'page_size_height'; q2uu1K.S$D(); var v5R = 'data-udrawsvg'; var Z_K = 'page_size_width'; var _val; $(this).siblings(S$S).addClass(a$dx4.C9_); $(this).removeClass(d1Pxx.Z$J); _val = parseFloat($(this).val()); if (isNaN(_val)) { $(this).siblings(S$S).removeClass(a$dx4.C9_); $(this).addClass(d1Pxx.Z$J); } if ($(this).attr(v5R) === Z_K || $(this).attr(v5R) === C76) { if (_val <= p0zBu[122956]) { $(this).siblings(S$S).removeClass(a$dx4.C9_); $(this).addClass(d1Pxx.Z$J); } } }); RacadSVGDesigner.Layers = { add: function (_element, parent_ul) { var u$B = 'far fa-trash-alt delete_object'; var l$N = 'data-object_id'; var H2q = 'far fa-minus-square expanded'; var o0k = 'layer_image_thumbnail'; var U9y = 'layer_child'; var C_m = 'preview_div'; var U02 = 'layer'; var G_q = '&ndash;'; var n1K = '...'; var _type, skip, g_children, properties, can_delete, has_children, _id, _span, preview, url, _text, preview_div, _li, _delete, _ul, expander; if (typeof parent_ul === d1Pxx.c42) { parent_ul = $(q2uu1K.F7A); } _type = _element.type; if (_type === d1Pxx.w99 && typeof _element.children === d1Pxx.d0a) { skip = p0zBu.e1; g_children = _element.children(); g_children.forEach(function (child) { if ($(child.node).hasClass(n2Odt.j$X)) { skip = p0zBu.s2A; } }); if (skip) { return; } } if (_element === RacadSVGDesigner.canvas.defs()) { return; } properties = RacadSVGDesigner.get_udraw_properties(_element); can_delete = p0zBu.e1; has_children = p0zBu.e1; if (properties.user_added || RacadSVGDesigner.settings.mode === a$dx4.W09) { if (_element !== RacadSVGDesigner.canvas) { can_delete = p0zBu.s2A; } } if (typeof _element.children === d1Pxx.d0a && _element.children().length > p0zBu[122956]) { has_children = p0zBu.s2A; } _id = typeof _element.attr(d1Pxx.m$b) !== d1Pxx.S0h ? RacadSVGDesigner.create_unique_id(_element) : _element.attr(d1Pxx.m$b); _span = $(a$dx4.I$u).text(_element.type); if (_type === d1Pxx.p_G) { url = typeof _element.attr(d1Pxx.C2V) !== d1Pxx.c42 ? _element.attr(d1Pxx.C2V) : typeof _element.attr(a$dx4.l_H) !== d1Pxx.c42 ? _element.attr(a$dx4.l_H) : p0zBu.e5; preview = $(a$dx4.l12).attr(n2Odt.A5l, url).addClass(o0k); } else if (_type === d1Pxx.E4c) { _text = _element.text(); if (_text.length > +n2Odt.r2R) { _text = _text.substring(p0zBu.U5 - p0zBu[122956], +n2Odt.r2R) + n1K; } preview = $(a$dx4.I$u).text(`[${_text}]`); } q2uu1K.s3o(); preview_div = $(a$dx4.S4A).attr(l$N, _id).addClass(C_m).append(_span, preview).on(d1Pxx.u_N, function () { q2uu1K.s3o(); var _id, _object; _id = $(this).attr(l$N); _object = SVG.get(_id); RacadSVGDesigner.settings.objectClicked = _id; if (_object.type === d1Pxx.E4c) { RacadSVGDesigner.Text.on_text_click(_object); } else if (_object.type === d1Pxx.p_G) { RacadSVGDesigner.Images.on_image_click(_object); } }); _li = $(a$dx4.D_a).attr(l$N, _id).addClass(U02).append(G_q, preview_div); if (can_delete) { _delete = $(a$dx4.s5t).attr(l$N, _id).addClass(u$B).on(d1Pxx.u_N, function () { var object_id, _object; object_id = $(this).attr(l$N); _object = RacadSVGDesigner.get_object(object_id); if (_object) { if (typeof _object.selectize === d1Pxx.d0a) { _object.selectize(p0zBu.e1); } if (_object.remove()) { $(`li.layer[data-object_id="${object_id}"]`).remove(); } } }); _li.append(_delete); } if (has_children) { _ul = $(W4p9e5.k2Z).attr(l$N, _id).addClass(U9y); expander = $(a$dx4.s5t).attr(l$N, _id).addClass(H2q).on(d1Pxx.u_N, function () { var F1X = 'fa-plus-square collasped'; var Z3R = 'expanded fa-minus-square'; var h6n = 'expanded'; var _id; _id = $(this).attr(l$N); if ($(this).hasClass(h6n)) { $(this).removeClass(Z3R).addClass(F1X); $(`ul[data-object_id="${_id}"]`).addClass(a$dx4.C9_); } else { $(this).removeClass(F1X).addClass(Z3R); $(`ul[data-object_id="${_id}"]`).removeClass(a$dx4.C9_); } }); _span.before(expander); _li.append(_ul); _element.children().forEach(function (child) { RacadSVGDesigner.Layers.add(child, _ul); }); } parent_ul.append(_li); }, remove: function (object) { var id; id = object.attr(d1Pxx.m$b); $(`[data-udrawsvg="layers_list"] li[data-object_id="${id}"]`).remove(); }, reset: function () { q2uu1K.s3o(); $(q2uu1K.F7A).empty(); RacadSVGDesigner.Layers.add(RacadSVGDesigner.canvas); } }; RacadSVGDesigner.Ruler = { draw: function (event) { var p$O = 'side'; q2uu1K.s3o(); var properties, zoom; if (typeof RacadSVGDesigner.canvas !== d1Pxx.c42) { properties = RacadSVGDesigner.get_udraw_properties(RacadSVGDesigner.canvas); zoom = RacadSVGDesigner.Zoom.current_zoom; RacadSVGDesigner.Ruler.update_ruler(properties.width * zoom, +q2uu1K.P10, d1Pxx.H9f, zoom, event); RacadSVGDesigner.Ruler.update_ruler(+q2uu1K.P10, properties.height * zoom, p$O, zoom, event); } }, update_ruler: function (width, height, which, zoom, event) { var A8X = p0zBu; var L_ = 166; var a67 = '#fff8e5'; var e92 = "1049590936"; var s_P = "1428694356"; var S_ = 165; var N9i = "4535"; var O2 = 79925; var f1j = "20px"; var canvas, ctx, one_unit, line_long, divisor, line_divisor, count, long, u, line_length, pageX, xoffset, xpos, pageY, yoffset, ypos, I3, A_, R7; canvas = $(`[data-udrawSVG="SVGDesigner"] canvas.${which}_ruler`)[A8X.F_(p0zBu[122956], p0zBu.U5, A8X.s0(p0zBu.c7))]; if (!canvas) { return; } ctx = canvas.getContext(n2Odt.p0z); canvas.width = width; canvas.height = height; A8X.s6(p0zBu[149144]); ctx.clearRect(A8X.F_(p0zBu.S1, p0zBu.U5), p0zBu[122956], canvas.width, canvas.height); ctx.fillStyle = a67; A8X.s0(p0zBu[235283]); ctx.fillRect(A8X.L6(p0zBu[32075], p0zBu.U5), +p0zBu.U5, canvas.width, canvas.height); A8X.s6(p0zBu[32075]); ctx.moveTo(A8X.L6(p0zBu.U5, p0zBu[122956]), +p0zBu.U5); A8X.s6(S_); one_unit = A8X.L6(zoom, a$dx4.C$N); A8X.s6(p0zBu.d1); line_long = A8X.F_(p0zBu.J5, n2Odt.t5H); A8X.s0(p0zBu[235283]); divisor = A8X.F_(p0zBu[32075], n2Odt.T9f); A8X.s6(p0zBu[514270]); q2uu1K.S$D(); I3 = -A8X.F_(p0zBu[122956], s_P); A_ = -+e92; A8X.s0(p0zBu[149144]); R7 = A8X.F_(p0zBu.S1, p0zBu.y8n); for (var T0 = p0zBu.v2 * p0zBu[32075]; A8X.E7(T0.toString(), T0.toString().length, N9i * p0zBu[32075]) !== I3; T0++) { A8X.s6(p0zBu.c7); line_divisor = A8X.F_(p0zBu[122956], d1Pxx.H0F); long = which === d1Pxx.H9f ? canvas.width : canvas.height; R7 += +p0zBu.y8n; } if (A8X.E7(R7.toString(), R7.toString().length, O2) !== A_) { line_divisor = p0zBu[551601]; long = which !== d1Pxx.O7q ? canvas.width : canvas.height; } while (divisor >= (p0zBu.v2 | p0zBu[122956])) { A8X.s0(p0zBu[32075]); u = A8X.F_(p0zBu.U5, p0zBu[122956]); if (divisor > (p0zBu.v2 | p0zBu[32075])) { A8X.s6(p0zBu.w5); u = A8X.F_(divisor, one_unit); } while (u < long) { A8X.s0(p0zBu.w5); line_length = A8X.L6(line_divisor, line_long); ctx.strokeStyle = n2Odt.J6V; ctx.beginPath(); if (which === d1Pxx.H9f) { A8X.s6(p0zBu[514270]); ctx.moveTo(u, A8X.L6(p0zBu[122956], p0zBu.U5)); ctx.lineTo(u, line_length); ctx.stroke(); if (divisor === +p0zBu.v2) { A8X.s0(p0zBu.w5); count = Math.round(A8X.F_(one_unit, u)); ctx.font = f1j; A8X.s0(p0zBu.L0); ctx.fillText(`${count}`, u, A8X.F_(line_length, p0zBu.v2, p0zBu[122956])); } } else { A8X.s6(p0zBu.c7); ctx.moveTo(A8X.F_(p0zBu[122956], p0zBu.U5), u); ctx.lineTo(line_length, u); ctx.stroke(); if (divisor === p0zBu.v2 * p0zBu[32075]) { A8X.s0(p0zBu.w5); count = Math.round(A8X.L6(one_unit, u)); ctx.font = f1j; A8X.s6(p0zBu.n6); ctx.fillText(`${count}`, A8X.L6(line_length, p0zBu.v2), u); } } if (divisor === p0zBu.v2 << p0zBu.S1) { A8X.s6(p0zBu.w5); u += A8X.L6(divisor, one_unit); } else { A8X.s0(L_); u += A8X.L6(one_unit, p0zBu.y8n, divisor); } } A8X.s6(p0zBu[149144]); divisor /= A8X.F_(p0zBu.S1, p0zBu.y8n); if (line_divisor > p0zBu.v2 - p0zBu[122956]) { A8X.s6(p0zBu.c7); line_divisor -= A8X.L6(p0zBu[122956], p0zBu.v2); } } if (event) { if (which === d1Pxx.H9f) { pageX = event.pageX; xoffset = $(canvas).offset().left; A8X.s0(p0zBu.c7); xpos = A8X.L6(xoffset, pageX); A8X.s6(p0zBu[32075]); ctx.moveTo(xpos, A8X.L6(p0zBu.U5, p0zBu[122956])); ctx.lineTo(xpos, +q2uu1K.P10); } else { pageY = event.pageY; yoffset = $(canvas).offset().top; A8X.s0(p0zBu.c7); ypos = A8X.L6(yoffset, pageY); ctx.moveTo(+p0zBu.U5, ypos); A8X.s0(p0zBu.c7); ctx.lineTo(A8X.F_(p0zBu[122956], q2uu1K.P10), ypos); } ctx.stroke(); } } }; $(a$dx4.E0n).on(a$dx4.X2X, function () { RacadSVGDesigner.Ruler.draw(); }); $(a$dx4.E0n).on(d1Pxx.J1_, function (event) { RacadSVGDesigner.Ruler.draw(event); }); $(a$dx4.E0n).on(a$dx4.Y7S, function () { RacadSVGDesigner.Ruler.draw(); }); (function ($) { $(document).ready(function ($) { var j1f = 'rgba('; var X6m = 'udrawSVG'; var T$8 = '[data-udrawSVG="designer_version"]'; var Z4F = '[data-udrawSVG="stroke_width"]'; var e00 = 'button.close_modal'; var F1c = '[data-udrawSVG="make_preview_only"]'; var q7Q = 'Apply'; var f8U = '[data-udrawsvg="document_background_colour"]'; var W2W = '[data-udrawSVG="bulk_image_upload_button"]'; var B86 = '[data-udrawSVG="make_uneditable"]'; var D83 = 'div.admin_container'; var X$a = '[data-udrawSVG="undo_button"]'; var U1A = 'a[href="#"]'; var Y4J = '[data-udrawSVG="redo_button"]'; var n4D = '[data-udrawSVG="image_upload"], [data-udrawSVG="bulk_image_upload"]'; var U0O = '[data-udrawSVG="cancel_object_action"]'; var X9A = '[data-udrawSVG="colour_picker"], [data-udrawSVG="stroke_colour_picker"], [data-udrawsvg="document_background_colour"]'; var R70 = '[data-udrawsvg="rotate_counter_clockwise"]'; var A9_ = '__ns__-__lng__.txt'; var D4C = '[data-udrawSVG="stroke_colour_picker"]'; var j$h = '[data-udrawsvg="rotate_clockwise"]'; var D58 = '[data-udrawSVG="version_span"]'; var o_I = 'keypress'; var k1F = 'div.udraw_modal'; var c2c = '[data-udrawsvg="make_always_front"]'; var j9j = '[data-udrawsvg="move_backwards"]'; var J6w = 'udraw_svg_designer_loaded'; var H3v = 'rgb'; var F6W = 'The current browser you are using does not support the HTML5 element, which is used to generate previews. \nWe recommend that you switch to a browser that supports this feature.'; var I5S = 'rgba(0,0,0,1)'; var s8P = 'rgb(255,142,142)'; var r7x = '[data-udrawsvg="make_always_back"]'; var T8O = '[data-udrawSVG="save_svg"]'; var V1M = '[data-udrawsvg="move_forward"]'; var L9i = 'udraw_svg_overwrite_settings'; var c6x = '[data-bs-toggle="dropdown"]'; var i18nOptions, canvasSupported; if (typeof __load_settings === d1Pxx.d0a) { __load_settings(); } jQuery(a$dx4.E0n).trigger({ type: L9i, settings: RacadSVGDesigner.settings }); i18nOptions = { ns: X6m, defaultNs: X6m, resGetPath: RacadSVGDesigner.settings.locales_path + A9_, lng: RacadSVGDesigner.settings.language, fallbackLng: n2Odt.a42, shorcutFunction: n2Odt.k4e }; i18n.init(i18nOptions, function () { jQuery(n2Odt.G54).i18n(); }); if (RacadSVGDesigner.settings.facebook_client_id.length > p0zBu[122956]) { RacadSVGDesigner.Facebook.load_script(); } if (RacadSVGDesigner.settings.google_api_key.length > +p0zBu.U5 && RacadSVGDesigner.settings.google_client_id.length > p0zBu.U5 >> p0zBu[122956]) { RacadSVGDesigner.Google.load_script();; } RacadSVGDesigner.Images.get_uploaded_images(function (images) { RacadSVGDesigner.Images.build_local_image_list(images); }); $(a$dx4.E0n).on(d1Pxx.u_N, d1Pxx.x4G, function (event) { var _href; _href = $(this).attr(d1Pxx.C2V); if (typeof _href !== d1Pxx.c42 && _href === p0zBu.o$) { event.preventDefault(); } }); $(D58).text(RacadSVGDesigner.version); RacadSVGDesigner.Text.build_font_family_select(); $(W4p9e5.M3w).spectrum({ preferredFormat: H3v, showInput: p0zBu.s2A, showAlpha: p0zBu.s2A, clickoutFiresChange: p0zBu.s2A, showButtons: p0zBu.e1, color: I5S, move: function (colour) { var rgba_array, rgba_string, active_object; rgba_array = [Math.round(colour._r), Math.round(colour._g), Math.round(colour._b), colour._a]; rgba_string = j1f + rgba_array.join(d1Pxx.W0Z) + d1Pxx.B3X; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object) { active_object.attr(d1Pxx.X_Y, rgba_string); } } }); $(D4C).spectrum({ preferredFormat: H3v, showInput: p0zBu.s2A, showAlpha: p0zBu.s2A, clickoutFiresChange: p0zBu.s2A, showButtons: p0zBu.e1, color: I5S, move: function (colour) { var N6z = 'strokeWidth'; var rgba_array, rgba_string, active_object; rgba_array = [Math.round(colour._r), Math.round(colour._g), Math.round(colour._b), colour._a]; q2uu1K.s3o(); rgba_string = j1f + rgba_array.join(d1Pxx.W0Z) + d1Pxx.B3X; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); if (active_object) { active_object.attr(d1Pxx.H$F, rgba_string); if (active_object.attr(N6z) === p0zBu.U5 >> p0zBu[122956]) { active_object.attr(N6z, +p0zBu.v2); } } } }); $(W4p9e5.m5D).spectrum({ preferredFormat: H3v, showInput: p0zBu.s2A, showAlpha: p0zBu.e1, clickoutFiresChange: p0zBu.s2A, showButtons: RacadSVGDesigner.is_safari(), color: s8P, move: function (colour) { var t4z = p0zBu; var f6 = 366101896; q2uu1K.S$D(); var v0T = "10006"; var B6T = "36649"; var m$0 = "661322945"; var active_object, I2, i6, V2; if (!RacadSVGDesigner.is_safari()) { I2 = +m$0; i6 = -f6; t4z.s0(p0zBu[149144]); V2 = t4z.L6(p0zBu.S1, p0zBu.y8n); for (var q5 = +p0zBu.v2; t4z.c6(q5.toString(), q5.toString().length, B6T | p0zBu.T$) !== I2; q5++) { active_object = RacadSVGDesigner.Crop.image; t4z.s6(p0zBu[149144]); V2 += t4z.F_(p0zBu.Q_, p0zBu.y8n); } if (t4z.E7(V2.toString(), V2.toString().length, v0T - p0zBu[122956]) !== i6) { active_object = RacadSVGDesigner.Crop.image; } if (typeof active_object === d1Pxx.E_o) { RacadSVGDesigner.Filters.remove_filters(active_object, function () { RacadSVGDesigner.Filters.apply_filter(active_object, W4p9e5.i$U, colour); }); } } }, change: function (colour) { var active_object; active_object = RacadSVGDesigner.Crop.image; if (typeof active_object === d1Pxx.E_o) { RacadSVGDesigner.Filters.remove_filters(active_object, function () { RacadSVGDesigner.Filters.apply_filter(active_object, W4p9e5.i$U, colour); }); } } }); $(f8U).spectrum({ preferredFormat: H3v, showInput: p0zBu.s2A, showAlpha: p0zBu.e1, clickoutFiresChange: p0zBu.s2A, showButtons: RacadSVGDesigner.is_safari(), color: s8P, move: function (colour) { var rgba_array, rgba_string; rgba_array = [Math.round(colour._r), Math.round(colour._g), Math.round(colour._b), colour._a]; rgba_string = j1f + rgba_array.join(d1Pxx.W0Z) + d1Pxx.B3X; RacadSVGDesigner.set_background_colour(rgba_string); } }); $(X9A).on(n2Odt.V1w, function (e, color) { q2uu1K.S$D(); var active_object; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); RacadSVGDesigner.history_actions.save_state(active_object); }); $(Z4F).on(W4p9e5.B9r, function () { var active_object, _width; active_object = RacadSVGDesigner.get_object(RacadSVGDesigner.settings.objectClicked); _width = parseFloat($(this).val()); if (active_object) { RacadSVGDesigner.history_actions.save_state(active_object); active_object.stroke({ width: _width }); } }); $(W2W).on(d1Pxx.u_N, function () { q2uu1K.S$D(); var j7g = '[data-udrawSVG="bulk_image_upload"]'; $(j7g).trigger(d1Pxx.u_N); }); $(n4D).fileupload({ url: RacadSVGDesigner.settings.handler_file, autoUpload: p0zBu.s2A, sequentialUploads: p0zBu.s2A, imageOrientation: p0zBu.s2A, chooseText: q7Q, formData: { upload_path: RacadSVGDesigner.settings.upload_path, action: RacadSVGDesigner.handler_actions.upload_image }, submit: function (e, data) { q2uu1K.s3o(); RacadSVGDesigner.show_progress_modal(+p0zBu.U5); }, done: function (e, data) { var i$u = q2uu1K; var this_button; i$u.S$D(); this_button = $(this); RacadSVGDesigner.hide_progress_modal(function () { var I$s = '[data-udrawSVG="add_image_modal"]'; var a0w = 'image_upload'; var w7B = 'data-udrawSVG'; var results, filename, _src, _image; p0zBu.s6(p0zBu[32075]); RacadSVGDesigner.update_progress_bar(p0zBu.L6(p0zBu.U5, p0zBu[122956])); results = JSON.parse(data.result); filename = results.filename; RacadSVGDesigner.Images.get_uploaded_images(function (images) { i$u.S$D(); RacadSVGDesigner.Images.build_local_image_list(images, function () { var Q4i = 'div.replace_image_browse_container li.local_images_li[data-image_name="'; i$u.s3o(); var y1N = '"] img.image_thumbnail'; var z3B = 'bulk_image_upload'; if (this_button.attr(w7B) === z3B) { $(Q4i + filename + y1N).trigger(d1Pxx.u_N); } }); }); if (this_button.attr(w7B) === a0w) { if (typeof results.filename === d1Pxx.c42 && results.length > p0zBu[122956]) { $(I$s).modal(a$dx4.H$G); $(a$dx4.Q5L).modal(d1Pxx.x0E); } else { _src = RacadSVGDesigner.clean_url(location.origin) + RacadSVGDesigner.settings.upload_path + filename; if (typeof RacadSVGDesigner.Images.replace_image_id !== d1Pxx.c42) { _image = RacadSVGDesigner.get_object(RacadSVGDesigner.Images.replace_image_id); RacadSVGDesigner.Images.replace_image(_image, _src, function (image) { RacadSVGDesigner.Images.replace_image_id = undefined; i$u.s3o();; }); } else { RacadSVGDesigner.Images.add_image(_src); } } } }); }, progress: function (e, data) { var progress; progress = parseInt(data.loaded / data.total * p0zBu.E3, n2Odt.r2R << p0zBu.S1); RacadSVGDesigner.update_progress_bar(progress); } }); $(T8O).on(d1Pxx.u_N, function () { q2uu1K.s3o(); RacadSVGDesigner.Save.file(); }); $(k1F).modal({ backdrop: p0zBu.e1, keyboard: p0zBu.e1, show: p0zBu.e1 }).on(a$dx4.o0t, function () { q2uu1K.s3o(); var s9f = 'html,body'; if ($(window).scrollTop() > $(this).offset().top) { $(s9f).animate({ scrollTop: $(this).offset().top }); } }); $(document).on(o_I, function (event) { var s6n = '[data-udrawSVG="wizard_create_document"]'; var b$Z = '[data-udrawSVG="update_page_settings"]'; var Q5Y = '[data-udrawSVG="wizard_modal"] input'; var I$9 = ':focus'; var keycode; q2uu1K.S$D(); keycode = event.which; if (keycode === p0zBu.v5) { if ($(W4p9e5.D5A).is(I$9)) { $(b$Z).trigger(d1Pxx.u_N); } if ($(Q5Y).is(I$9)) { $(s6n).trigger(d1Pxx.u_N); } } }); $(c6x).dropdown(); $(a$dx4.E0n).on(d1Pxx.u_N, U1A, function (event) { event.preventDefault(); }); $(X$a).on(d1Pxx.u_N, function () { RacadSVGDesigner.history_actions.undo_action(); }); $(Y4J).on(d1Pxx.u_N, function () { RacadSVGDesigner.history_actions.redo_action(); }); $(U0O).on(d1Pxx.u_N, function () { q2uu1K.s3o(); RacadSVGDesigner.settings.objectClicked = undefined; }); $(a$dx4.m5t).on(d1Pxx.u_N, function () { var u1m = 'udraw_svg_object_removed'; var _id, _object; _id = RacadSVGDesigner.settings.objectClicked; _object = RacadSVGDesigner.get_object(_id); if (_object) { if (RacadSVGDesigner.settings.display_layers) { RacadSVGDesigner.Layers.remove(_object); } _object.selectize(p0zBu.e1); _object.remove(); } RacadSVGDesigner.settings.objectClicked = undefined; q2uu1K.S$D(); $(a$dx4.E0n).trigger({ type: u1m }); }); $(B86).on(d1Pxx.u_N, function () { var checked, _id, _object, properties; if (RacadSVGDesigner.settings.mode === a$dx4.W09) { checked = $(this).prop(a$dx4.y$V); _id = RacadSVGDesigner.settings.objectClicked; _object = RacadSVGDesigner.get_object(_id); if (_object) { properties = RacadSVGDesigner.get_udraw_properties(_object); properties.editable = !checked; RacadSVGDesigner.update_udraw_properties(_object, properties); if (checked) { _object.draggable(p0zBu.e1).resize(d1Pxx.m0p); } else { _object.draggable().resize(); } } } }); $(F1c).on(d1Pxx.u_N, function () { q2uu1K.S$D(); var checked, _id, _object, properties; if (RacadSVGDesigner.settings.mode === a$dx4.W09) { checked = $(this).prop(a$dx4.y$V); _id = RacadSVGDesigner.settings.objectClicked; _object = RacadSVGDesigner.get_object(_id); if (_object) { properties = RacadSVGDesigner.get_udraw_properties(_object); properties.preview_only = checked; RacadSVGDesigner.update_udraw_properties(_object, properties); } } }); $(c2c).on(d1Pxx.u_N, function () { var _id, _object, checked, properties; _id = RacadSVGDesigner.settings.objectClicked; _object = RacadSVGDesigner.get_object(_id); checked = $(this).prop(a$dx4.y$V); if (_object) { properties = RacadSVGDesigner.get_udraw_properties(_object); properties.sticky_front = checked; RacadSVGDesigner.update_udraw_properties(_object, properties); _object.front(); } }); $(r7x).on(d1Pxx.u_N, function () { var _id, _object, checked, properties; _id = RacadSVGDesigner.settings.objectClicked; _object = RacadSVGDesigner.get_object(_id); q2uu1K.S$D(); if (_object) { checked = $(this).prop(a$dx4.y$V); properties = RacadSVGDesigner.get_udraw_properties(_object); properties.sticky_back = checked; RacadSVGDesigner.update_udraw_properties(_object, properties); _object.back(); } }); $(j9j).on(d1Pxx.u_N, function () { var _id, _object, _previous, _prop; q2uu1K.S$D(); _id = RacadSVGDesigner.settings.objectClicked; _object = RacadSVGDesigner.get_object(_id); if (_object) { _previous = _object.previous(); if (typeof _previous === d1Pxx.E_o && _previous !== d1Pxx.p8r) { _prop = RacadSVGDesigner.get_udraw_properties(_previous); if (!_prop.is_background && !_prop.sticky_back) { _object.backward(); RacadSVGDesigner.rearrange_elements(); } } } }); $(V1M).on(d1Pxx.u_N, function () { var _id, _object, _next, _prop; q2uu1K.S$D(); _id = RacadSVGDesigner.settings.objectClicked; _object = RacadSVGDesigner.get_object(_id); if (_object) { _next = _object.next(); if (typeof _next === d1Pxx.E_o && _next !== d1Pxx.p8r) { _prop = RacadSVGDesigner.get_udraw_properties(_next); if (!_prop.sticky_front) { _object.forward(); RacadSVGDesigner.rearrange_elements(); } } } }); $(j$h).on(d1Pxx.u_N, function () { RacadSVGDesigner.rotate_template(p0zBu.C1); }); $(R70).on(d1Pxx.u_N, function () { q2uu1K.S$D(); RacadSVGDesigner.rotate_template(-p0zBu.C1); }); $(e00).on(d1Pxx.u_N, function () { var modal; modal = $(this).closest(k1F); modal.modal(a$dx4.H$G); }); $(a$dx4.f4p).on(n2Odt.n1Q, function (e) { var files, reader; files = e.target.files; reader = new FileReader(); reader.onload = function (event) { var contents; q2uu1K.s3o(); contents = event.target.result; RacadSVGDesigner.Load.contents = contents; RacadSVGDesigner.Load.from_upload(contents, function () { var svg; svg = RacadSVGDesigner.canvas.svg(); RacadSVGDesigner.svg_to_png(svg, function (imageData) { var n9U = '[data-udrawsvg_template="template_preview"]'; $(n9U).attr(n2Odt.A5l, imageData); $(a$dx4.j8N).modal(a$dx4.H$G); RacadSVGDesigner.Zoom.scaleToFit(); }); }); }; reader.readAsText(files[p0zBu.U5 ^ p0zBu[122956]]); }); $(a$dx4.k8L).fileupload({ url: RacadSVGDesigner.settings.handler_file, autoUpload: p0zBu.s2A, sequentialUploads: p0zBu.s2A, chooseText: q7Q, formData: { action: RacadSVGDesigner.handler_actions.upload_pdf_template, upload_path: RacadSVGDesigner.settings.upload_path, output_path: RacadSVGDesigner.settings.output_path }, submit: function (e, data) { var percentage; $(a$dx4.j8N).modal(a$dx4.H$G); percentage = +p0zBu.U5; RacadSVGDesigner.show_progress_modal(percentage); }, done: function (e, data) { var design_file; design_file = JSON.parse(data.result).design_file; RacadSVGDesigner.settings.design_file = design_file; q2uu1K.s3o(); RacadSVGDesigner.Load.json_file(RacadSVGDesigner.settings.design_file); }, progress: function (e, data) { var percentage; percentage = data.loaded / data.total; RacadSVGDesigner.show_progress_modal(percentage); } }); $(T$8).text(RacadSVGDesigner.version); RacadSVGDesigner.load_cropper(); $(a$dx4.E0n).trigger({ type: J6w }); if (RacadSVGDesigner.settings.design_file.length > p0zBu.U5 * p0zBu[32075]) { RacadSVGDesigner.Load.design_file(function () { if (RacadSVGDesigner.settings.mode !== a$dx4.W09) { $(W4p9e5.t6$).hide(); } }, function () { var G_b = 'Design file is corrupted. Please contact the site administrator.'; var q0C = '[name="SVGDesigner_design_now"]'; $(q0C).hide(); window.alert(G_b); }); } else { if (RacadSVGDesigner.settings.auto_create_new_doc) { RacadSVGDesigner.Pages.create(function () { RacadSVGDesigner.Text.build_font_size_select(); RacadSVGDesigner.Zoom.update_max_zoom_step(); q2uu1K.s3o(); if (RacadSVGDesigner.settings.display_layers) { RacadSVGDesigner.Layers.reset(); } }); } } if (RacadSVGDesigner.settings.mode === a$dx4.W09) { $(D83).removeClass(a$dx4.C9_); } canvasSupported = !!window.HTMLCanvasElement; if (!canvasSupported) { window.alert(F6W); } }); })(window.jQuery);